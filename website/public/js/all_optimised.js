function e(a){throw a;}var i=!0,j=null,k=!1;function aa(a){return function(b){this[a]=b}}function ba(a){return function(){return a}}
var l,o={Bk:function(){try{var a=document.getElementById("login_password").value;if(4>document.getElementById("login_user_name").value.length)return m.C("User name is too short"),k;if(4>a.length)return m.C("Password is too short"),k;document.getElementById("login_password_md5").value=MD5(a);return i}catch(b){return ca(b),k}},xm:function(){try{o.Bk()&&(m.la(),da("api/user.php",{UserName:document.getElementById("login_user_name").value,Password:document.getElementById("login_password_md5").value,Cookie:document.getElementById("login_cookie").checked},
new r(o.Rk,o),j))}catch(a){m.C(a)}},Rk:function(a){try{var b=t(a);g_settings.sessionId=b.session_id;g_settings.userId=b.user_id;g_settings.userData=b.user_data;document.getElementById("ix_login_form").style.display="none";document.getElementById("ix_logout_form").style.display="block";document.getElementById("ix_self_link").innerHTML=b.user_name;document.getElementById("ix_self_link").href="?user="+b.user_id;g_settings.isPlanner&&ea.vm();m.enable()}catch(c){m.C(c)}},ym:function(){try{m.la(),fa("php/interface/user/logout.php",
new r(o.Sk,o),j)}catch(a){m.C(a)}},Sk:function(){g_settings.sessionId="";g_settings.userId=0;g_settings.userName="";g_settings.userData=j;document.getElementById("ix_login_form").style.display="block";document.getElementById("ix_logout_form").style.display="none";g_settings.isPlanner&&ea.wm();m.enable()},Il:function(a){var b=ga("topic_title"),c=ga("topic_content"),d=ga("thread_type");2>b.length?m.C("The title of your post is too short!"):2>c.length?m.C("The content of your topic is too short!"):(document.getElementById("topic_submit").disabled=
i,m.la(),da("api/forum.php",{action:"new_thread",hook:a,title:b,type:d?d:"thread",content:c},new r(o.Lk,o),j))},Lk:function(a){try{t(a)}catch(b){m.C(b),document.getElementById("topic_submit").disabled=k}},Kl:function(a){confirm("Are you sure you want to delete this thread?")&&(m.la(),da("api/forum.php",{action:"delete_thread",thread:a},new r(o.Pk,o),j))},Pk:function(a){try{var b=t(a);window.location.href=ja()+b}catch(c){m.C(c)}},um:function(a){m.la();da("api/forum.php",{action:"lock_thread",thread:a},
new r(o.Ai,o),j)},Dn:function(a){m.la();da("api/forum.php",{action:"unlock_thread",thread:a},new r(o.Ai,o),j)},Ai:function(a){try{t(a),window.location.reload(i)}catch(b){m.C(b)}},Hl:function(a){var b=document.getElementById("reply_content").value;2>b.length?m.C("The content of your post is too short!"):(document.getElementById("reply_submit").disabled=i,m.la(),da("api/forum.php",{action:"reply",thread:a,content:b},new r(o.Kk,o),j))},Kk:function(a){try{t(a)}catch(b){m.C(b),document.getElementById("reply_submit").disabled=
k}},Gl:function(a){var b=document.getElementById("edit_content").value;2>b.length?m.C("The content of your post is too short!"):(document.getElementById("edit_submit").disabled=i,m.la(),da("api/forum.php",{action:"edit",post:a,content:b},new r(o.Jk,o),j))},Jk:function(a){try{t(a)}catch(b){m.C(b),document.getElementById("edit_submit").disabled=k}},vn:function(a,b,c){b?new ka(a,b,"user_information_parent"):c&&(a=new la,a.Ba.r.Eg(k),a.Ba.A.O("ismine",i),a.Ba.set("ismine.eq.1;",j,j,1),a.Ba.update(),v("ui_profiles_parent",
a.Ba.r.c))},Jl:function(a,b){new ma(a,b)},yn:function(){},xn:function(a,b,c,d,f){if(a){var g=new na;g.r.setProperty("setStaticLink",f);g.setData(a);c&&(g.set(c,"","",b),g.r.Eg(i));document.getElementById(d).appendChild(g.r.c);a=new w(["show_tooltip","move_tooltip","hide_tooltip","update"],new r(function(a){if(a.is("show_tooltip"))ea.fk.call(ea,a.get("entity").id);else if(a.is("move_tooltip"))m.move();else if(a.is("hide_tooltip"))m.hide();else if(a.is("update")){a=x("form",{method:"GET",action:""});
y(a,"input",{name:"a",value:g.Da().replace(/\;/g,"_")});y(a,"input",{name:"p",value:g.page});y(a,"input",{name:"o",value:g.Rc+"."+(g.Ld==oa?"asc":"desc")+"_"});a.submit()}},this));g.q(a)}},yl:function(a,b,c){a&&(a=new pa(a),o.Oi(qa(a,j),a.t,b,c))},Al:function(a,b,c){a&&(a=new z(a),o.Oi(ra(a,j),a.t,b,c))},Oi:function(a,b,c,d){var f=new sa;f.show(a);f.w.style.position="relative";v(c,f.w);a=document.createElement("img");a.className="dbi_icon";a.src="/images/icons/large/"+b+".png";v(d,a)},Dl:function(){var a=
$("[name=change_new_password]").val(),b=$("[name=change_user_id]").val();m.la();ta(ja()+"api/user.php",{UserId:b,Password:a},function(a){try{a.get(),m.enable(),$("#ui_pc_p").empty().append($("<div />",{"class":"fm_note",text:"Password successfully changed!"}))}catch(b){m.C(b)}},j)},un:function(a,b,c){var a=new ua(a),d=new va,f=new wa;new xa(a,d,f);c&&a.Tb(c);$("#"+b).empty().append(d.c)}};
(function(){function a(a){a!=j&&c!=j&&c.item==a.id&&(m.eb(qa(a,j)),c=j)}function b(a){a!=j&&c!=j&&c.i==a.id&&(m.eb(ra(a,j)),c=j)}var c=j;o.Ea=function(){c=j;m.hide()};o.fk=function(b){m.show("Loading item...");c={item:b};ya(b,new r(a,o))};o.tn=function(a){m.show("Loading spell...");c={i:a};za(a,new r(b,o))}})();
window.Chardev||(window.Chardev={validateLogin:o.Bk,login:o.xm,logout:o.ym,checkTopic:o.Il,checkEdit:o.Gl,checkReply:o.Hl,deleteThread:o.Kl,lockThread:o.um,unlockThread:o.Dn,showUserInformation:o.vn,createAvatarPicker:o.Jl,staticItemList:o.xn,staticSpellList:o.yn,addItemTooltipTo:o.yl,addSpellTooltipTo:o.Al,changePassword:o.Dl,showTalents:o.un,showItemTooltip:o.fk,showSpellTooltip:o.tn,hideTooltip:o.Ea});function Aa(){this.b=new A;this.b.g("character_change",["character"]);this.b.g("logged_in",[]);this.b.g("logged_out",[])}
Aa.prototype={$g:j,b:j,vf:j,We:j,q:function(a){this.b.q(a)},we:function(a){this.We=a;if(a.isPlanner){var b=new Ba;this.vf=new Ca(this,b);this.$g=new Ea;this.$g.b.ca("character_change",this.b);var c=new wa;this.$g.vl(c);a.profile&&(c.load(a.profile),b.oe.show(Fa));a.profileLoadError&&m.C(a.profileLoadError);B("mtf_p","cp_mm_p ix_center");C("mtf_p",b.oe.eg);C("planner_parent",b.c)}},vm:function(){this.b.fire("logged_in",{})},wm:function(){this.b.fire("logged_out",{})}};var ea=new Aa;
window.Engine||(window.Engine={initialise:ea.we});function da(a,b,c,d){var f=Ga();a||e(new Ha(a));d||(d=[]);a=-1==a.search(/\?/)?a+("?_="+(new Date).getTime()):a+("&_="+(new Date).getTime());f.open("POST",ja()+a,i);f.onreadystatechange=c?function(){Ia(this,c,d,i)}:function(){};f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");f.send(F(b))}function Ga(){var a=j;window.XMLHttpRequest?a=new XMLHttpRequest:window.ActiveXObject?a=new ActiveXObject("MSXML2.XMLHTTP.3.0"):e(new Ja);return a}
function fa(a,b,c){Ka(a,b,c,i)}function Ka(a,b,c,d){var f=Ga();a||e(new Ha(a));c||(c=[]);a=-1==a.search(/\?/)?a+("?_="+(new Date).getTime()):a+("&_="+(new Date).getTime());f.open("GET",ja()+a,i);f.onreadystatechange=b?function(){Ia(this,b,c,d)}:function(){};f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");f.send(j)}
function Ia(a,b,c,d){4==a.readyState&&(!d&&200==a.status?((d=a.getResponseHeader("error"))&&e(new La(d)),c.splice(0,0,eval("("+a.responseText+")")),b.notify(c)):d?(c.splice(0,0,a),b.notify(c)):e(new Ma(a)))}function t(a){if(200==a.status){a.getResponseHeader("error")&&e(new La(eval("("+a.responseText+")")));if(""==a.responseText)return j;var b=eval("("+a.responseText+")");a.getResponseHeader("auto_redirect")&&(window.location.href=ja()+b.toString());return b}e(new Ma(a))}
function Ha(a){this.url=a}Ha.prototype={url:j};function Ma(a){this.response=a}Ma.prototype={response:j};function Ja(){}function La(a){this.message=a}La.prototype={message:"",toString:function(){return this.message}};function ta(a,b,c,d){$.post(a,b,function(a,b,h){a=new Na(a,h);d?c.call(d,a):c(a)},"json")};function Na(a,b){b.getResponseHeader("error")?this.Qi=i:b.getResponseHeader("auto_redirect")&&(window.location.href=a);this.Og=a}Na.prototype={Og:j,Qi:k,get:function(){this.Qi&&e(Error(this.Og));return this.Og}};var Oa=[6,13,14,31,32,36,37,49],Pa={"-1":-1,6:0,13:1,14:2,31:3,32:4,36:5,37:6,49:7},Sa={"0":32,1:13,2:37,3:36,4:31,5:49,6:14,7:6},Ta={"0":0,1:1,2:2,3:3,4:4,5:7,6:8,7:9,8:10,9:11,10:12,11:13,12:14,13:15,14:16,15:17,16:18},Ua={6:4,5:3,7:2,3:1,4:0},Va={1:0,2:1,3:2,16:3,5:4,4:5,20:4,19:6,9:7,10:8,6:9,7:10,8:11,11:12,12:14,21:16,14:17,22:17,23:17,25:18,26:18,28:18,15:18},Wa="head,neck,shoulder,back,chest,shirt,tabard,wrist,hands,waist,legs,feet,finger1,finger2,trinket1,trinket2,mainHand,offHand,ranged".split(","),
Xa={164:"Blacksmithing",165:"Leatherworking",171:"Alchemy",182:"Herbalism",186:"Mining",197:"Tailoring",202:"Engineering",333:"Enchanting",393:"Skinning",755:"Jewelcrafting",773:"Inscription"};function Ya(a,b,c,d,f){var b=100*(0<b?b-1:11)+(f-1),g=f=0;return 0!=c&&b<Za.length?(f=Za[b]*c*a,g=f*d,[f-g/2,g]):j}function $a(a,b,c,d){return a!=b&&0<c&&0<b&&0<a?(a=Math.min(b,a+(b-a)/c*(d-1)),[a,a/b]):j}
var ab=[164,165,171,182,186,197,202,333,393,755,773],bb="#bbbbbb,#FFFFFF,#00DD00,#40A0FF,#DD80FF,#FF8000,#E5CC80,#E5CC80".split(","),cb={"0":[0,0,0,0,0],1:[20,20,20,20,20],2:[23,17,21,17,22],3:[25,16,21,19,19],4:[16,24,20,20,20],5:[19,18,20,18,25],6:[25,16,21,16,22],7:[15,22,20,23,20],8:[21,22,21,16,21],9:[17,22,20,23,18],10:[17,22,20,23,18],11:[21,17,20,20,22],22:[23,22,20,16,19]},db=[0,0,0.00652,-0.01532,-0.00295,0.031765,0,0.02922,0.03454,0.02622,0,0.074755],eb=[0,0,0.033355,0,0,0.012375,0,0.02201,
0.009075,0.017,0,0.018515],fb=[0,3.75955,3.65168-3,-5.43889,-0.588581,3.18783,3.66584,1.67504,3.47569,2.04144,0,4.97143],gb=[0,1,0,2,1,0,0,0,0,0,0,0],hb=[0,1,0,2,1,0,0,0,0,0,0,0],ib=[0,-10,0,-20,-10,0,0,0,0,0,0,0],jb=[[0,0,0,0,0],[2,0,0,0,0],[2,0,0,0,0],[1,1,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[2,0,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[2,0,0,0,0]],kb=[2,2,0,0,0],lb=[2,2,0,0,0],mb=[2,0,0,0,0],nb=[5,5.5,6,8],ob=[24,24.5,25,27],pb=[4,5,6,17],qb=[5,5.5,6,8],rb=[5,5.5,6,14],sb=[5,5.5,6,6.5],
tb=[0,3,3,2,2,0,3,2,0,0,0,3],ub=[0.956,0.956,0.988,0.988,0.953,0.956,0.988,0.953,0.953,0,0.972],vb=[65.63144,65.63144,145.560408,145.560408,0,65.63144,145.560408,0,0,0,0],wb=[65.63144,65.63144,145.560408,145.560408,150.37594,65.63144,145.560408,150.37594,150.37594,0,116.890707],G=[[0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.144231,0.192308,0.240385,0.288462,0.336538,0.384615,0.432692,0.480769,0.528846,0.576923,0.625,0.673077,0.721154,0.769231,0.817308,
0.865385,0.913462,0.961538,1.00961,1.05769,1.10577,1.15385,1.20192,1.25,1.29808,1.34615,1.39423,1.44231,1.49039,1.53846,1.58654,1.63461,1.68269,1.73077,1.77885,1.82692,1.875,1.92308,1.97115,2.01923,2.06731,2.11539,2.16346,2.21154,2.25961,2.30769,2.35577,2.40385,2.45192,2.5,2.59494,2.69737,2.80822,2.92857,3.0597,3.20313,3.36066,3.53448,3.72727,3.94231,4.24173,4.56391,4.91054,5.28351,5.68481,6.11658,6.58115,7.08101,7.61883,8.1975,10.764,14.1349,18.5689,24.3818,32.0143,12.7186,13.6846,14.724,15.8423,
17.0456,18.3402,19.7332,21.232,22.8446,24.5797,26.4466,28.4553,30.6166,32.942,35.444],[0.0576922,0.0576922,0.0576922,0.0576922,0.0576923,0.0576923,0.0576923,0.0576922,0.0576922,0.0576922,0.0865385,0.115385,0.144231,0.173077,0.201923,0.230769,0.259615,0.288462,0.317308,0.346154,0.375,0.403846,0.432692,0.461538,0.490385,0.519231,0.548077,0.576923,0.605769,0.634615,0.663462,0.692308,0.721154,0.75,0.778846,0.807692,0.836538,0.865385,0.894231,0.923077,0.951923,0.980769,1.00961,1.03846,1.06731,1.09615,
1.125,1.15385,1.18269,1.21154,1.24039,1.26923,1.29808,1.32692,1.35577,1.38461,1.41346,1.44231,1.47115,1.5,1.55696,1.61842,1.68493,1.75714,1.83582,1.92188,2.01639,2.12069,2.23636,2.36539,2.54504,2.73834,2.94633,3.17011,3.41089,3.66995,3.94869,4.2486,4.5713,4.9185,6.4584,8.48096,11.1413,14.6291,19.2086,7.63117,8.21077,8.8344,9.5054,10.2274,11.0041,11.8399,12.7392,13.7068,14.7478,15.868,17.0732,18.3699,19.7652,21.2664],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,
0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,
29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,
7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],
[0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.398077,0.530769,0.663461,0.796154,0.928846,1.06154,1.19423,1.32692,1.45962,1.59231,1.725,1.85769,1.99038,2.12308,2.25577,2.38846,2.52115,2.65385,2.78654,2.91923,3.05192,3.18462,3.31731,3.45,3.58269,3.71538,3.84808,3.98077,4.11346,4.24615,4.37885,4.51154,4.64423,4.77692,4.90962,5.04231,5.175,5.30769,5.44038,5.57308,5.70577,5.83846,5.97115,6.10385,6.23654,6.36923,6.50192,6.63461,6.76731,6.9,7.16202,7.44474,
7.75069,8.08286,8.44478,8.84063,9.27541,9.75517,10.2873,10.8808,11.7072,12.5964,13.5531,14.5825,15.6901,16.8818,18.164,19.5436,21.028,22.6251,29.7087,39.0124,51.2501,67.2938,88.3594,35.1034,37.7696,40.6382,43.7248,47.0458,50.6191,54.4637,58.6004,63.0512,67.8401,72.9927,78.5367,84.5018,90.9199,97.8255],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,
3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,
59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,
7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.461538,0.615385,
0.769231,0.923077,1.07692,1.23077,1.38461,1.53846,1.69231,1.84615,2,2.15385,2.30769,2.46154,2.61539,2.76923,2.92308,3.07692,3.23077,3.38461,3.53846,3.69231,3.84615,4,4.15385,4.30769,4.46154,4.61539,4.76923,4.92308,5.07692,5.23077,5.38461,5.53846,5.69231,5.84615,6,6.15385,6.30769,6.46154,6.61539,6.76923,6.92308,7.07692,7.23077,7.38461,7.53846,7.69231,7.84615,8,8.3038,8.63158,8.9863,9.37143,9.79105,10.25,10.7541,11.3103,11.9273,12.6154,13.5736,14.6045,15.7137,16.9072,18.1914,19.5731,21.0597,22.6592,
24.3803,26.232,34.4448,45.2318,59.4204,78.0218,102.446,40.6996,43.7908,47.1168,50.6954,54.5459,58.6888,63.1463,67.9425,73.1029,78.6552,84.6292,91.057,97.973,105.414,113.421],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,
9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,
0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,
23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,
7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,
198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.459472,0.612629,0.765786,0.918944,1.0721,1.22526,1.37842,1.53157,1.68473,1.83789,1.99104,2.1442,
2.29736,2.45052,2.60367,2.75683,2.90999,3.06315,3.2163,3.36946,3.52262,3.67577,3.82893,3.98209,4.13525,4.2884,4.44156,4.59472,4.74788,4.90103,5.05419,5.20735,5.3605,5.51366,5.66682,5.81998,5.97313,6.12629,6.27945,6.43261,6.58576,6.73892,6.89208,7.04523,7.19839,7.35155,7.50471,7.65786,7.81102,7.96418,8.26661,8.59293,8.94606,9.32947,9.7472,10.2041,10.7059,11.2597,11.8739,12.5589,13.5128,14.5391,15.6434,16.8315,18.1099,19.4854,20.9654,22.5578,24.2711,26.1145,32.5965,40.6875,50.7868,63.3928,79.1278,45.582,
49.044,52.7691,56.777,61.0893,65.7292,70.7215,76.093,81.8724,88.0909,94.7816,101.98,109.726,118.06,127.027],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,
3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,
68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,
8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,
1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,
56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.135279,0.180372,0.225465,0.270557,0.315649,0.360742,0.405835,0.450928,0.496021,0.541114,0.586207,0.6313,0.676393,0.721486,0.766579,0.811672,0.856764,
0.901856,0.946949,0.992042,1.03714,1.08223,1.12732,1.17241,1.21751,1.2626,1.30769,1.35279,1.39788,1.44297,1.48806,1.53316,1.57825,1.62334,1.66844,1.71353,1.75862,1.80371,1.84881,1.8939,1.93899,1.98409,2.02918,2.07427,2.11936,2.16446,2.20955,2.25464,2.29974,2.34483,2.43387,2.52995,2.63392,2.7468,2.86979,3.00431,3.15206,3.3151,3.49593,3.69761,3.97846,4.28063,4.60575,4.95557,5.33196,5.73693,6.17267,6.6415,7.14594,7.68869,10.0959,13.2576,17.4163,22.8685,30.0272,11.9292,12.8352,13.8101,14.859,15.9876,
17.2019,18.5084,19.9142,21.4267,23.0541,24.8051,26.6891,28.7162,30.8973,33.244],[0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.270872,0.361163,0.451454,0.541745,0.632036,0.722326,0.812617,0.902908,0.993199,1.08349,1.17378,1.26407,1.35436,1.44465,1.53494,1.62523,1.71553,1.80582,1.89611,1.9864,2.07669,2.16698,2.25727,2.34756,2.43785,2.52814,2.61843,2.70872,2.79902,2.88931,2.9796,3.06989,3.16018,3.25047,3.34076,3.43105,3.52134,3.61163,3.70192,3.79221,3.8825,
3.9728,4.06309,4.15338,4.24367,4.33396,4.42425,4.51454,4.60483,4.69512,4.87342,5.06579,5.27397,5.5,5.74627,6.01563,6.31147,6.63793,7,7.40385,7.96619,8.57124,9.22224,9.9227,10.6763,11.4872,12.3597,13.2985,14.3085,15.3953,20.2153,26.5461,34.8732,45.7902,60.1244,23.8862,25.7004,27.6524,29.7527,32.0124,34.4439,37.06,39.8748,42.9034,46.162,49.6681,53.4405,57.4994,61.8666,66.5656],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,
1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,
60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],xb=[0.020979,0.020515,0.020079,0.019516,0.018997,0.018646,0.018314,0.017997,0.017584,0.017197,0.016551,0.015729,0.015229,0.01458,0.014008,
0.01365,0.013175,0.012832,0.012475,0.012073,0.01184,0.011494,0.011292,0.01099,0.010761,0.010546,0.010321,0.010151,0.009949,0.00974,0.009597,0.009425,0.009278,0.009123,0.008974,0.008847,0.008698,0.008581,0.008457,0.008338,0.008235,0.008113,0.008018,0.007906,0.007798,0.007713,0.007612,0.007524,0.00743,0.00734,0.007268,0.007184,0.007116,0.007029,0.006945,0.006884,0.006805,0.006747,0.006667,0.0066,0.006421,0.006314,0.006175,0.006072,0.005981,0.005885,0.005791,0.005732,0.005668,0.005596,0.005316,0.005049,
0.004796,0.004555,0.004327,0.00411,0.003903,0.003708,0.003522,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345],H={1:[6,6,8,3,4,8,3,9,3,2,1,1,1,21,31,51,77,27,42,68,102,22,34,55,83,24,37,60,89,19,29,47,70,15,24,38,57,17,26,43,64,12,18,30,45],2:[7,6,9,3,4,9,3,9,3,3,2,1,1,22,34,56,84,30,46,75,112,24,37,61,91,26,40,66,98,21,32,52,77,17,26,42,63,19,29,47,70,13,20,
33,49],3:[8,7,9,3,4,9,3,12,4,3,2,1,1,24,37,61,91,32,50,81,122,26,41,66,99,28,44,71,107,22,34,56,84,18,28,46,69,20,31,51,76,14,22,35,53],4:[9,7,10,3,5,10,3,12,4,3,2,1,1,26,40,65,98,35,54,87,131,28,44,71,106,31,47,76,115,24,37,60,90,20,30,49,74,22,34,54,82,15,24,38,57],5:[10,8,10,4,5,10,4,15,5,4,3,2,2,28,43,70,105,38,57,94,141,31,46,76,115,33,50,82,123,26,39,65,97,21,32,53,79,24,36,59,88,17,25,41,62],6:[11,8,11,4,5,11,4,15,5,4,3,2,2,30,46,75,113,40,61,100,150,33,50,81,122,35,53,88,131,28,42,69,103,
23,34,56,84,25,38,63,94,18,27,44,66],7:[12,9,11,4,5,11,4,18,6,4,3,2,3,32,49,80,120,43,65,106,160,35,53,86,130,38,57,93,140,30,45,73,110,24,37,60,90,27,41,66,100,19,28,46,70],8:[13,9,12,4,6,12,4,21,7,5,4,2,3,34,52,85,127,45,69,113,169,37,56,92,137,39,60,99,148,31,47,78,116,25,39,64,95,28,43,71,106,20,30,49,74],9:[14,10,13,5,6,13,5,21,7,5,4,2,3,36,55,89,134,48,73,119,179,39,59,97,145,42,64,104,157,33,50,82,123,27,41,67,101,30,46,74,112,21,32,52,78],10:[15,10,13,5,6,13,5,24,8,6,4,2,3,38,58,94,141,50,
77,125,188,41,63,102,153,44,67,109,165,34,53,86,129,28,43,70,106,31,48,78,118,22,34,55,82],11:[16,11,14,5,7,14,5,24,8,6,5,3,4,40,61,99,149,53,81,132,198,43,66,107,161,46,71,116,173,36,56,91,136,30,46,74,111,33,51,83,124,23,35,58,87],12:[17,11,15,5,7,15,5,27,9,7,5,3,4,42,64,104,156,56,85,138,208,46,69,112,169,49,74,121,182,39,58,95,143,32,48,78,117,35,53,86,130,25,37,60,91],13:[18,12,16,6,8,16,6,27,9,7,5,3,4,44,67,108,163,58,89,145,217,47,72,118,176,51,78,127,190,40,61,100,149,33,50,82,122,36,56,91,
136,25,39,63,95],14:[19,12,16,6,8,16,6,30,10,8,6,3,4,45,69,113,170,61,93,151,227,50,76,123,184,53,81,132,199,42,64,104,156,34,52,85,128,38,58,94,142,27,41,66,99],15:[20,13,17,6,8,17,6,33,11,8,6,3,5,47,72,118,177,63,96,157,236,51,78,128,192,55,84,137,207,43,66,108,162,35,54,88,133,39,60,98,148,28,42,69,103],16:[21,14,18,7,9,18,7,33,11,8,6,4,5,49,75,123,184,66,100,164,246,54,81,133,200,58,88,144,215,45,69,113,169,37,56,92,138,41,63,103,154,29,44,72,108],17:[22,14,19,7,9,19,7,36,12,9,7,4,5,51,78,128,
192,68,104,170,255,55,85,138,207,60,91,149,223,47,72,117,175,38,59,96,143,43,65,106,159,30,46,74,112],18:[23,15,19,7,9,19,7,36,12,9,7,4,5,53,81,132,199,71,108,176,265,58,88,143,215,62,95,154,232,49,74,121,182,40,61,99,149,44,68,110,166,31,47,77,116],19:[24,15,20,7,10,20,7,39,13,10,7,4,6,55,84,137,206,73,112,183,275,59,91,149,223,64,98,160,241,50,77,126,189,41,63,103,155,46,70,114,172,32,49,80,120],20:[25,16,21,8,10,21,8,42,14,10,8,4,6,57,87,142,213,76,116,189,284,62,94,154,231,67,102,165,249,52,80,
130,195,43,65,106,160,48,73,118,178,33,51,83,124],21:[26,16,21,8,10,21,8,42,14,11,8,5,6,59,90,147,220,79,120,195,294,64,98,158,239,69,105,171,257,54,83,134,202,44,68,110,165,49,75,122,184,35,53,85,129],22:[27,17,22,8,11,22,8,45,15,11,8,5,6,61,93,151,227,81,124,202,303,66,101,164,246,71,109,177,265,56,85,139,208,46,70,114,170,51,78,126,189,35,54,88,133],23:[28,17,23,8,11,23,8,45,15,12,9,5,7,63,96,156,235,84,128,208,313,68,104,169,254,74,112,182,274,58,88,143,215,47,72,117,176,53,80,130,196,37,56,91,
137],24:[29,18,23,9,11,23,9,48,16,12,9,5,7,65,99,161,242,86,132,215,322,70,107,175,262,75,116,188,282,59,91,148,221,48,74,121,181,54,83,134,201,38,58,94,141],25:[30,19,24,9,12,24,9,51,17,12,9,5,7,67,102,166,249,89,136,221,332,72,111,180,270,78,119,193,291,61,94,152,228,50,77,124,187,56,85,138,208,39,60,97,145],26:[31,19,25,9,12,25,9,51,17,13,10,5,7,68,105,170,256,91,139,227,342,74,113,184,278,80,122,199,299,63,96,156,235,51,78,128,192,57,87,142,214,40,61,99,150],27:[32,20,26,10,13,26,10,54,18,13,
10,6,8,70,108,175,263,94,143,234,351,76,116,190,285,82,125,205,307,65,98,161,241,53,80,132,197,59,89,146,219,41,63,102,154],28:[33,21,27,10,13,27,10,54,18,14,10,6,8,72,110,180,270,96,147,240,361,78,119,195,293,84,129,210,316,66,101,165,248,54,83,135,203,60,92,150,226,42,64,105,158],29:[34,22,29,11,14,29,11,57,19,14,11,6,8,74,113,185,278,99,151,246,370,80,123,200,301,87,132,215,324,68,104,169,254,56,85,138,208,62,94,154,231,43,66,108,162],30:[35,23,30,11,15,30,11,60,20,15,11,6,8,76,116,190,285,102,
155,253,380,83,126,206,309,89,136,221,333,70,107,174,261,57,87,142,214,64,97,158,238,45,68,111,166],31:[36,24,31,12,15,31,12,60,20,15,11,6,9,78,119,194,292,104,159,259,389,85,129,210,316,91,139,227,340,72,109,178,267,59,89,146,219,65,99,162,243,46,70,113,170],32:[37,25,32,12,16,32,12,63,21,16,12,7,9,80,122,199,299,107,163,265,399,87,132,215,324,94,143,232,349,74,112,182,274,60,92,149,224,67,102,166,249,47,71,116,175],33:[38,25,33,12,16,33,12,63,21,16,12,7,9,82,125,204,306,109,167,272,408,89,136,221,
332,95,146,238,357,75,115,187,281,61,94,153,230,68,104,170,255,48,73,119,179],34:[39,26,34,13,17,34,13,66,22,16,12,7,9,84,128,209,314,112,171,278,418,91,139,226,340,98,150,243,366,77,118,191,287,63,96,156,235,70,107,174,261,49,75,122,183],35:[40,27,35,13,17,35,13,69,23,17,13,7,10,86,131,213,321,114,175,285,428,93,142,232,348,100,153,249,375,78,120,196,294,64,98,160,241,71,109,178,268,50,77,125,187],36:[41,28,36,14,18,36,14,69,23,17,13,7,10,88,134,218,328,117,178,291,437,95,145,236,355,102,156,255,
382,80,122,200,300,66,100,164,246,73,111,182,273,51,78,127,191],37:[42,28,37,14,18,37,14,72,24,18,13,8,10,90,137,223,335,119,182,297,447,97,148,241,363,104,159,260,391,82,125,204,307,67,102,167,251,74,114,186,279,52,80,130,196],38:[43,29,38,14,19,38,14,72,24,18,14,8,10,92,140,228,342,122,186,304,456,99,151,247,371,107,163,266,399,84,128,209,314,69,105,171,257,76,116,190,285,53,81,133,200],39:[44,29,38,14,19,38,14,75,25,19,14,8,11,93,143,233,349,125,190,310,466,102,154,252,379,109,166,271,408,86,131,
213,320,70,107,174,262,78,119,194,291,55,83,136,204],40:[45,30,39,15,19,39,15,78,26,19,14,8,11,95,146,237,357,127,194,316,475,103,158,257,386,111,170,277,416,87,133,217,327,71,109,178,267,79,121,198,297,56,85,138,208],41:[46,31,40,15,20,40,15,78,26,20,15,8,11,97,149,242,364,130,198,323,485,106,161,262,394,114,173,283,424,89,136,222,333,73,111,182,273,81,124,202,303,57,87,141,212],42:[47,31,41,15,20,41,15,81,27,20,15,8,11,99,151,247,371,132,202,329,495,107,164,267,402,116,177,288,433,91,139,226,340,
74,114,185,278,83,126,206,309,58,88,144,217],43:[48,32,41,16,20,41,16,81,27,20,15,9,12,101,154,252,378,135,206,336,504,110,167,273,410,118,180,294,441,93,142,231,347,76,116,189,284,84,129,210,315,59,90,147,221],44:[49,32,42,16,21,42,16,84,28,21,16,9,12,103,157,256,385,137,210,342,514,111,171,278,418,120,184,299,450,94,144,235,353,77,118,192,289,86,131,214,321,60,92,150,225],45:[50,33,43,16,21,43,16,84,28,21,16,9,12,105,160,261,392,140,214,348,523,114,174,283,425,123,187,305,458,96,147,239,360,79,
120,196,294,88,134,218,327,61,94,152,229],46:[51,34,44,17,22,44,17,87,29,22,16,9,12,107,163,266,400,142,218,355,533,115,177,288,433,124,191,311,466,98,150,244,366,80,123,200,300,89,136,222,333,62,95,155,233],47:[52,34,45,17,22,45,17,90,30,22,17,9,13,109,166,271,407,145,221,361,542,118,180,293,440,127,193,316,474,100,152,248,373,82,124,203,305,91,138,226,339,63,97,158,237],48:[53,35,45,17,22,45,17,90,30,23,17,10,13,111,169,276,414,148,225,367,552,120,183,298,449,130,197,321,483,102,155,252,380,83,
127,206,311,93,141,229,345,65,98,161,242],49:[54,35,46,17,23,46,17,93,31,23,17,10,13,113,172,280,421,150,229,374,561,122,186,304,456,131,200,327,491,103,157,257,386,84,129,210,316,94,143,234,351,66,100,164,245],50:[55,36,47,18,23,47,18,93,31,24,18,10,13,115,175,285,428,153,233,380,571,124,189,309,464,134,204,333,500,105,160,261,393,86,131,214,321,96,146,238,357,67,102,166,250],51:[56,37,48,18,24,48,18,96,32,24,18,10,14,116,178,290,435,155,237,386,581,126,193,314,472,136,207,338,508,107,163,265,399,
87,133,217,327,97,148,241,363,68,104,169,254],52:[57,37,49,18,24,49,18,99,33,24,18,10,14,118,181,295,443,158,241,393,590,128,196,319,479,138,211,344,516,109,166,270,406,89,136,221,332,99,151,246,369,69,105,172,258],53:[58,38,49,19,24,49,19,99,33,25,19,11,14,120,183,297,445,160,243,396,593,130,197,322,482,140,213,347,519,110,167,272,408,90,137,223,334,100,152,248,371,70,106,173,259],54:[59,38,50,19,25,50,19,102,34,25,19,11,14,122,184,299,447,162,246,398,596,132,200,323,484,142,215,348,522,111,169,
274,410,91,138,224,335,101,154,249,373,71,108,174,261],55:[60,39,51,19,25,51,19,102,34,26,19,11,15,123,186,301,450,165,248,401,600,134,202,326,488,144,217,351,525,113,171,276,413,93,140,226,338,103,155,251,375,72,109,175,263],56:[61,40,52,20,26,52,20,105,35,26,20,11,15,125,188,303,452,167,251,404,603,136,204,328,490,146,220,354,528,115,173,278,415,94,141,227,339,104,157,253,377,73,110,177,264],57:[62,40,53,20,26,53,20,108,36,27,20,11,15,127,190,305,455,169,253,407,606,137,206,331,492,148,221,356,
530,116,174,280,417,95,142,229,341,106,158,254,379,74,111,178,265],58:[79,53,72,26,36,72,26,139,46,34,25,14,19,157,223,342,497,210,297,456,663,171,241,371,539,184,260,399,580,144,204,314,456,118,167,257,373,131,186,285,414,92,130,200,290],59:[81,55,75,27,37,75,27,142,47,36,27,15,20,163,229,349,505,217,305,465,674,176,248,378,548,190,267,407,590,149,210,320,463,122,172,262,379,136,191,291,421,95,133,203,295],60:[84,57,77,28,38,77,28,148,49,37,28,16,21,171,240,365,513,228,320,487,684,185,260,396,556,
200,280,426,599,157,220,335,470,128,180,274,385,143,200,304,428,100,140,213,299],61:[88,59,80,29,40,80,29,154,51,39,29,16,22,181,254,386,533,242,338,515,711,197,275,418,578,212,296,451,622,166,232,354,489,136,190,290,400,151,211,322,444,106,148,225,311],62:[91,62,83,31,41,83,31,160,53,40,30,17,22,192,269,409,578,255,358,545,771,207,291,443,626,223,313,477,675,175,246,375,530,143,201,307,434,159,224,341,482,112,157,238,337],63:[94,64,86,32,43,86,32,163,54,41,31,17,23,203,284,433,623,270,379,577,831,
219,308,469,675,236,332,505,727,186,261,397,571,152,213,325,467,169,237,361,519,118,166,252,364],64:[96,66,89,33,44,89,33,166,55,42,31,18,24,214,301,458,668,286,401,611,890,232,326,496,723,250,351,535,779,197,276,420,612,161,226,344,501,179,251,382,556,125,175,267,389],65:[101,70,94,35,47,94,35,172,57,43,32,18,24,227,318,485,713,302,424,647,950,245,345,526,772,264,371,566,831,208,292,445,653,170,239,364,534,189,265,404,594,132,186,283,416],66:[103,73,99,36,49,99,36,175,58,44,33,18,25,240,337,514,
757,320,449,685,1010,260,365,557,821,280,393,599,884,220,309,471,694,180,253,385,568,200,281,428,631,140,196,300,442],67:[105,77,104,38,52,104,38,178,59,45,34,19,25,254,356,544,802,338,475,725,1070,275,386,589,869,296,416,634,936,232,327,498,736,190,267,408,602,211,297,453,669,148,208,317,468],68:[139,122,165,61,82,165,61,253,84,62,47,26,36,361,498,749,1091,482,664,998,1454,392,540,811,1181,422,581,873,1272,331,457,686,1E3,271,374,561,818,301,415,624,909,211,291,437,636],69:[143,126,171,63,85,171,
63,262,87,64,48,27,37,375,518,779,1144,500,691,1039,1526,406,561,844,1240,438,605,909,1335,344,475,714,1049,281,389,584,858,313,432,649,954,219,302,455,668],70:[147,131,177,65,88,177,65,271,90,67,50,28,39,389,539,811,1198,519,718,1082,1597,422,583,879,1298,454,628,947,1397,357,494,744,1098,292,404,609,898,324,449,676,998,227,314,473,699],71:[150,135,183,67,91,183,67,280,93,69,52,29,40,404,560,845,1252,539,746,1126,1669,438,606,915,1356,472,653,985,1460,371,513,774,1147,303,420,633,939,337,466,704,
1043,236,326,493,730],72:[155,140,189,70,94,189,70,292,97,72,54,30,42,419,582,879,1306,559,776,1172,1741,454,631,952,1415,489,679,1026,1523,384,534,806,1197,314,437,659,979,349,485,733,1088,245,340,513,762],73:[159,145,196,72,98,196,72,304,101,75,56,32,43,435,605,915,1359,580,806,1220,1813,471,655,991,1473,508,705,1068,1586,399,554,839,1246,326,453,686,1020,363,504,763,1133,254,353,534,793],74:[162,150,203,75,101,203,75,313,104,78,58,33,45,451,628,952,1414,601,838,1269,1885,488,681,1031,1532,526,
733,1110,1649,413,576,872,1296,338,471,714,1060,376,524,793,1178,263,367,555,825],75:[167,156,210,78,105,210,78,325,108,81,60,34,46,468,653,990,1468,624,870,1320,1957,507,707,1073,1590,546,761,1155,1712,429,598,908,1345,351,489,743,1101,390,544,825,1223,273,381,578,856],76:[171,161,218,80,109,218,80,340,113,84,63,35,48,485,678,1030,1522,647,904,1373,2029,526,735,1116,1649,566,791,1201,1775,445,622,944,1395,364,509,772,1141,404,565,858,1268,283,396,601,888],77:[175,167,226,83,113,226,83,352,117,87,
65,37,50,503,704,1071,1576,670,939,1429,2102,544,763,1161,1708,586,822,1250,1839,461,646,982,1445,377,528,804,1182,419,587,893,1314,293,411,625,920],78:[179,173,234,86,117,234,86,364,121,90,68,38,52,521,731,1114,1631,695,975,1486,2174,565,792,1207,1766,608,853,1300,1902,478,670,1022,1495,391,548,836,1223,434,609,929,1359,304,427,650,951],79:[183,180,242,90,121,242,90,380,126,94,71,40,54,534,751,1146,1660,713,1001,1528,2213,579,813,1242,1798,624,876,1337,1936,490,688,1051,1521,401,563,860,1245,446,
626,955,1383,312,438,669,968],80:[187,186,251,93,125,251,93,395,131,97,73,41,56,546,762,1156,1668,729,1016,1541,2224,592,826,1252,1807,638,889,1348,1946,501,699,1059,1529,410,572,867,1251,456,635,963,1390,319,445,674,973],81:[279,442,597,221,298,597,221,928,308,229,172,97,132,813,1017,1390,1875,1084,1356,1854,2500,881,1102,1506,2031,949,1187,1622,2188,745,932,1275,1719,610,763,1043,1406,678,848,1159,1563,474,593,811,1094],82:[298,525,708,262,354,708,262,1108,368,273,205,116,158,829,1062,1485,2034,
1105,1416,1981,2713,898,1151,1610,2204,967,1239,1733,2374,760,974,1362,1865,622,797,1114,1526,691,885,1238,1696,483,620,867,1187],83:[316,619,835,309,417,835,309,1310,435,323,242,137,186,844,1104,1577,2189,1125,1472,2102,2919,914,1196,1708,2372,984,1288,1839,2554,773,1012,1445,2007,633,828,1182,1642,703,920,1314,1824,492,644,920,1277],84:[325,673,908,336,454,908,336,1425,473,351,263,149,203,852,1126,1624,2271,1136,1501,2166,3028,923,1220,1760,2460,994,1313,1895,2650,781,1032,1489,2082,639,844,1218,
1703,710,938,1354,1893,497,657,948,1325],85:[333,725,978,362,489,978,362,1533,509,378,284,160,218,858,1145,1668,2346,1145,1527,2224,3128,930,1241,1807,2542,1002,1336,1946,2737,787,1050,1529,2151,644,859,1251,1760,716,954,1390,1955,501,668,973,1369],86:[384,1167,1573,583,786,1573,583,2467,819,609,456,257,351,1077,1402,1994,2764,1436,1869,2659,3686,1167,1519,2160,2995,1257,1635,2327,3225,988,1285,1828,2534,808,1051,1496,2073,898,1168,1662,2304,628,818,1163,1613],87:[404,1406,1896,703,948,1896,703,2973,
987,733,550,310,423,1196,1530,2139,2931,1595,2040,2852,3908,1296,1657,2317,3175,1396,1785,2495,3419,1096,1402,1961,2687,897,1147,1604,2198,997,1275,1782,2442,698,892,1248,1710],88:[424,1694,2284,847,1142,2284,847,3581,1189,883,663,374,510,1311,1669,2322,3171,1748,2225,3096,4228,1420,1808,2515,3435,1529,1947,2709,3699,1202,1530,2128,2906,983,1251,1741,2378,1092,1390,1935,2642,765,973,1354,1850],89:[444,2041,2752,1020,1376,2752,1020,4316,1433,1064,798,450,614,1422,1810,2518,3439,1896,2413,3358,4586,
1540,1961,2728,3726,1659,2112,2938,4012,1303,1659,2308,3153,1066,1357,1889,2579,1185,1508,2099,2866,829,1056,1469,2006],90:[463,2436,3285,1218,1642,3285,1218,5151,1710,1270,953,538,733,1527,1944,2705,3694,2037,2592,3607,4926,1655,2106,2931,4002,1782,2268,3156,4310,1400,1782,2480,3386,1146,1458,2029,2771,1273,1620,2254,3079,891,1134,1578,2155]},Za=[23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,
58.8846,64.1624,69.78,75.7488,82.0803,88.7858,95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,237.558,246.991,256.628,266.467,276.51,286.755,297.203,307.853,318.707,329.763,341.022,352.484,364.149,376.016,388.086,400.36,412.835,425.514,478.257,491.95,512.169,532.943,554.279,576.187,598.672,621.743,645.407,669.673,694.546,720.036,746.15,772.895,800.278,828.309,856.993,886.339,916.355,947.048,978.425,1010.49,1032.93,1055.63,1078.57,1101.77,
1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,34.6214,35.4356,35.5984,35.8589,36.038,36.2139,36.3562,36.4902,37.8794,38.6922,39.413,40.0417,40.5784,42.3805,44.1849,45.9759,47.738,49.4556,51.1132,52.6953,54.4846,56.2322,57.9299,59.5701,61.1453,62.6485,64.0733,65.4135,66.6632,67.8171,70.2758,72.7271,75.1662,77.5882,79.9881,82.3611,84.7021,87.0064,89.2691,91.4851,94.5168,97.5646,100.626,103.699,106.78,109.868,112.959,116.052,
119.144,122.232,125.314,128.387,131.45,134.499,137.532,140.547,143.541,293.024,327.008,332.962,354.075,375.985,398.707,422.256,446.646,471.89,498.002,524.997,552.889,581.691,611.418,642.083,673.701,706.285,739.849,774.407,809.974,846.562,884.185,922.858,943.72,964.814,986.142,1007.7,1029.49,1051.52,1073.77,1096.26,1118.98,1141.93,1165.11,1188.51,1212.15,1236.02,1260.12,1284.45,1309,1333.79,1358.8,1384.04,5.2216,5.7727,6.27696,6.74717,7.1928,7.72152,8.5082,9.33304,10.196,11.0972,12.0365,13.0139,14.0295,
15.5282,17.1514,18.9051,20.7947,22.826,25.0047,27.3363,29.7556,32.3265,35.0535,37.9411,40.9935,44.215,47.6099,51.1823,54.9364,58.8762,63.0058,67.3291,71.8499,76.5723,81.4999,86.6366,91.9859,97.5516,103.337,109.346,116.451,123.889,131.668,139.798,148.289,157.15,166.392,176.025,186.057,196.501,207.366,218.662,230.4,242.591,255.245,268.373,281.986,296.095,338.963,355.055,376.742,399.409,423.086,447.802,473.588,500.474,528.491,557.67,588.043,619.643,652.502,686.653,722.129,758.966,797.196,836.855,877.979,
920.602,964.762,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,37.2971,38.6641,39.5754,40.1829,40.588,41.398,43.4485,45.4989,47.5494,49.5998,51.6503,53.7007,55.7512,59.5064,63.4644,67.6252,71.9888,76.5552,81.3244,86.2964,90.3279,94.4277,98.5882,102.802,107.061,111.358,115.686,120.036,124.402,128.775,133.148,137.513,141.863,146.19,150.486,154.745,158.957,163.117,167.215,171.245,182.128,
193.477,205.302,217.615,230.425,243.742,257.576,271.937,286.836,302.283,318.287,334.86,352.01,369.749,388.086,407.032,426.597,446.79,510.141,532.946,552.215,571.938,592.122,612.77,633.888,655.481,677.554,700.112,723.161,746.704,770.748,795.297,820.357,845.932,872.028,898.65,925.802,953.49,981.719,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,22.555,22.8271,22.8815,22.9686,23.0284,23.0872,
23.1348,23.1796,23.5733,23.9155,24.209,24.4536,24.6495,25.7049,26.7761,27.8523,28.923,29.9776,31.0057,31.9966,33.6486,35.3325,37.0434,38.7764,40.5265,42.2887,44.0578,45.8288,47.5965,49.3556,52.144,55.0287,58.0102,61.0891,64.2659,67.5409,70.9147,74.3878,77.9607,81.6337,84.8264,88.0704,91.3642,94.7066,98.0965,101.533,105.013,108.538,112.105,115.713,119.361,123.047,126.771,130.531,134.326,138.154,142.015,291.813,328.421,336.625,355.277,374.585,394.558,415.208,436.546,458.581,481.326,504.79,528.985,553.92,
579.607,606.055,633.277,661.281,690.078,719.679,750.095,781.334,813.409,846.328,865.675,885.235,905.007,924.992,945.189,965.597,986.215,1007.04,1028.08,1049.33,1070.78,1092.45,1114.32,1136.39,1158.68,1181.16,1203.86,1226.75,1249.85,1273.16,23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,
167.85,178.923,190.496,202.58,215.187,228.327,235.578,242.875,250.212,257.585,264.988,272.417,279.866,287.33,294.804,302.283,309.762,317.236,324.699,332.148,339.576,346.978,354.35,361.687,402.533,409.958,432.076,454.951,478.595,503.02,528.24,554.267,581.114,608.793,637.318,666.7,696.953,728.089,760.121,793.062,826.923,861.719,897.461,934.163,971.836,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,
1507.45,30.0793,30.7255,30.8547,31.0615,31.2037,31.3433,31.4562,31.5626,32.6485,33.3104,33.8949,34.4021,34.832,36.3846,37.9444,39.4977,41.0304,42.5288,43.9789,45.367,46.6013,47.7707,48.8674,49.8842,50.8144,51.6517,52.3907,53.0262,53.5537,53.9691,55.3766,56.7193,57.9908,59.1841,60.2929,61.3102,62.2297,63.0445,63.7481,64.3338,66.6823,69.059,71.4627,73.892,76.3458,78.8229,81.3219,83.8416,86.3809,88.9384,91.5129,94.1033,96.7081,99.3263,101.957,104.598,107.248,219.815,246.45,251.971,274.168,297.331,321.476,
346.622,372.788,399.993,428.254,457.591,488.021,519.562,552.234,586.053,621.039,657.21,694.583,733.177,773.01,814.099,856.463,900.12,920.54,941.187,962.061,983.161,1004.49,1026.04,1047.82,1069.82,1092.05,1114.5,1137.18,1160.08,1183.2,1206.55,1230.12,1253.91,1277.92,1302.15,1326.61,1351.28,31.0214,31.4306,31.5124,31.6433,31.7334,31.8217,31.8933,31.9606,32.5713,33.0673,33.4947,33.8535,34.1437,35.6445,37.1693,38.7032,40.231,41.7376,43.208,44.6273,46.8581,49.1244,51.4189,53.7345,56.064,58.4003,60.7361,
63.0644,65.378,67.6698,71.3599,75.1661,79.0884,83.1267,87.2807,91.5504,95.9356,100.436,105.052,109.783,113.1,116.4,119.677,122.928,126.146,129.329,132.47,135.565,138.61,141.599,144.529,147.394,150.189,152.911,155.554,158.114,160.585,325.929,362.339,366.621,384.399,402.743,421.66,441.159,461.248,481.937,503.232,525.144,547.679,570.847,594.656,619.113,644.228,670.008,696.462,723.597,751.422,779.945,809.174,839.117,858.338,877.77,897.413,917.266,937.33,957.603,978.085,998.776,1019.67,1040.78,1062.09,
1083.61,1105.33,1127.26,1149.39,1171.72,1194.26,1217,1239.94,1263.08,32.2214,32.7267,32.8278,32.9895,33.1006,33.2098,33.2981,33.3813,34.1745,34.7479,35.2466,35.6706,36.0198,37.5977,39.1938,40.7928,42.3796,43.939,45.4558,46.9148,48.8949,50.8768,52.8527,54.8151,56.7566,58.67,60.5484,62.3851,64.1734,65.907,68.9589,72.0684,75.233,78.4502,81.7176,85.0327,88.393,91.7962,95.2397,98.7212,101.446,104.135,106.785,109.391,111.947,114.45,116.894,119.274,121.587,123.827,125.989,128.069,130.062,131.964,133.769,
135.473,137.072,277.12,306.629,308.962,328.7,349.192,370.449,392.487,415.318,438.956,463.412,488.702,514.837,541.831,569.697,598.448,628.097,658.656,690.139,722.558,755.927,790.257,825.563,861.855,881.517,901.397,921.494,941.807,962.336,983.08,1004.04,1025.21,1046.6,1068.2,1090.02,1112.04,1134.28,1156.73,1179.39,1202.26,1225.35,1248.64,1272.13,1295.84,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25.7771,26.4755,26.6152,26.8387,26.9923,27.1432,27.2653,27.3802,28.5971,29.2692,29.8687,30.3957,30.8502,32.1517,33.4634,34.773,36.0683,37.3369,38.5667,39.7455,41.294,42.8351,44.3625,45.8701,47.3519,48.8023,50.2157,51.5869,52.9107,54.1822,56.5272,58.9058,61.3156,63.7541,66.2189,68.7075,71.2174,73.7463,76.2916,78.851,81.422,84.0022,86.5891,89.1804,91.7735,94.3661,96.9557,99.5399,102.116,104.683,107.236,109.775,112.296,114.797,117.276,119.73,122.157,
249.109,277.898,282.633,303.65,325.525,348.274,371.914,396.46,421.927,448.333,475.691,504.019,533.332,563.645,594.974,627.334,660.742,695.212,730.76,767.402,805.152,844.027,884.04,904.113,924.408,944.926,965.665,986.626,1007.81,1029.21,1050.83,1072.68,1094.74,1117.02,1139.52,1162.24,1185.17,1208.33,1231.7,1255.28,1279.08,1303.1,1327.33,3,3,4,4,5,5,6,7,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,18,19,20,20,21,21,22,23,23,24,24,25,26,26,27,27,28,28,29,30,30,31,31,32,33,33,34,34,35,36,36,37,
37,54,55,56,57,59,60,61,63,68,70,89,93,96,100,104,107,112,116,120,125,305,338,375,407,443,1083,1200,1330,1446,1573,3847,4262,4722,5135,5584,13659,15134,16767,18234,19829],yb=[["Consumable","Consumable,Potion,Elixir,Flask,Scroll,Food & Drink,Item Enhancement,Bandage,Other".split(",")],["Container","Bag,Soul Bag,Herb Bag,Enchanting Bag,Engineering Bag,Gem Bag,Mining Bag,Leatherworking Bag,Inscription Bag,Tackle Box".split(",")],["Weapon","One-Handed Axes,Two-Handed Axes,Bows,Guns,One-Handed Maces,Two-Handed Maces,Polearms,One-Handed Swords,Two-Handed Swords,Obsolete,Staves,One-Handed Exotics,Two-Handed Exotics,Fist Weapons,Miscellaneous,Daggers,Thrown,Spears,Crossbows,Wands,Fishing Poles".split(",")],
["Gem","Red,Blue,Yellow,Purple,Green,Orange,Meta,Simple,Prismatic,Hydraulic,Cogwheel".split(",")],["Armor","Miscellaneous,Cloth,Leather,Mail,Plate,Bucklers,Shields,Librams,Idols,Totems,Sigils,Relic".split(",")],["Reagent",["Reagent"]],["Projectile",["Wand(OBSOLETE)","Bolt(OBSOLETE)","Arrow","Bullet","Thrown(OBSOLETE)"]],["Trade Goods","Trade Goods,Parts,Explosives,Devices,Jewelcrafting,Cloth,Leather,Metal & Stone,Meat,Herb,Elemental,Other,Enchanting,Materials,Item Enchantment,Weapon Enchantment - Obsolete".split(",")],
["Generic(OBSOLETE)",["Generic(OBSOLETE)"]],["Recipe","Book,Leatherworking,Tailoring,Engineering,Blacksmithing,Cooking,Alchemy,First Aid,Enchanting,Fishing,Jewelcrafting,Inscription".split(",")],["Money",["Money(OBSOLETE)"]],["Quiver",["Quiver(OBSOLETE)","Quiver(OBSOLETE)","Quiver","Ammo Pouch"]],["Quest",["Quest"]],["Key",["Key","Lockpick"]],["Permanent(OBSOLETE)",["Permanent"]],["Miscellaneous","Junk,Reagent,Pet,Holiday,Other,Mount".split(",")],["Glyph",{1:"Warrior",2:"Paladin",3:"Hunter",4:"Rogue",
5:"Priest",6:"Death Knight",7:"Shaman",8:"Mage",9:"Warlock",11:"Druid"}]],zb={164:[164,"Schmiedekunst","Eine hohe Schmiedefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schmiedepl\u00e4ne zu benutzen. Pl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schmiedepl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],165:[165,"Lederverarbeitung","Eine hohe Lederverarbeitungsfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],171:[171,"Alchemie","Eine hohe Alchemiefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Rezepte zu benutzen. Alchemierezepte k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Rezepte oder Ihr erhaltet sie als Questbelohnung.",[]],182:[182,"Kr\u00e4uterkunde","Eine hohe Kr\u00e4uterkundefertigkeit erm\u00f6glicht es Euch, schwierigere Kr\u00e4uter zu ernten. Wenn Ihr ein bestimmtes Kraut nicht ernten k\u00f6nnt, steigert Eure Kr\u00e4uterkundefertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Kr\u00e4uter erntet.",
[[22119,[81708,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,11,0,0,26,0,0,0,0,0,68781],[0,6,189,0,5,0,0,0,917504,0,0,0,0,87571],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 5 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,1,55428],[19355,[55428,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,29,0,0,61,0,0,0,0,0,48361],[0,6,189,0,15,0,0,0,917504,0,0,0,0,87572],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 15 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,75,55480],[19356,[55480,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,47,0,0,97,0,0,0,0,0,48439],[0,6,189,0,35,0,0,0,917504,0,0,0,0,87573],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 35 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,150,55500],[19357,[55500,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,71,0,0,145,0,0,0,0,0,48442],[0,6,189,0,55,0,0,0,917504,0,0,0,0,87574],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 55 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,225,55501],[19358,[55501,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,89,0,0,181,0,0,0,0,0,48443],[0,6,189,0,70,0,0,0,917504,0,0,0,0,87575],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 70 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,300,55502],[19359,[55502,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,119,0,0,241,0,0,0,0,0,48444],[0,6,189,0,120,0,0,0,917504,0,0,0,0,87576],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 120 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,375,55503],[19360,[55503,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,359,0,0,721,0,0,0,0,0,48445],[0,6,189,0,240,0,0,0,917504,0,0,0,0,87577],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 240 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74497],[21619,[74497,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,719,0,0,1441,0,0,0,0,0,74358],[0,6,189,0,480,0,0,0,917504,0,0,0,0,87594],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 480 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],186:[186,"Bergbau","Eine hohe Bergbaufertigkeit erm\u00f6glicht es Euch, schwierigere Erzvorkommen abzubauen. Wenn Ihr ein bestimmtes Erzvorkommen nicht abbauen k\u00f6nnt, steigert Eure Bergbaufertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Erzvorkommen abbaut.",[[17987,[53120,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,
0,0,j,[[0,6,29,0,3,0,0,0,2,0,0,0,0,45755],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 3.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,75,53121],[17988,[53121,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,5,0,0,0,2,0,0,0,0,45756],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 5.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,150,53122],[17989,[53122,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,7,0,0,0,2,0,0,0,0,45757],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 7.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,225,53123],[17990,[53123,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,10,0,0,0,2,0,0,0,0,45758],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 10.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,300,53124],[17991,[53124,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,30,0,0,0,2,0,0,0,0,45759],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 30.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,375,53040],[17984,[53040,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,60,0,0,0,2,0,0,0,0,45636],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 60.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74496],[21618,[74496,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,120,0,0,0,2,0,0,0,0,74357],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 120.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],197:[197,"Schneiderei","Eine hohe Schneiderfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],202:[202,"Ingenieurskunst","Eine hohe Ingenieursfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Baupl\u00e4ne zu benutzen. Baupl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Baupl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],333:[333,"Verzauberkunst","Eine hohe Verzauberungsfertigkeit erm\u00f6glicht es Euch, m\u00e4chtigere Formeln zu benutzen. Verzauberungsformeln k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben und auch bei toten Gegnern und beim Questen finden.",
[]],393:[393,"K\u00fcrschnerei","Eine hohe K\u00fcrschnerfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Monster zu h\u00e4uten. Sobald Euer Fertigkeitswert 100 \u00fcbersteigt, ist die maximale Stufe der Monster, die Ihr h\u00e4uten k\u00f6nnt, Euer Fertigkeitswert geteilt durch 5.",[[17993,[53125,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,
3,0,0,0,1792,0,0,0,0,45760],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 3.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,75,53662],[18277,[53662,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,6,0,0,0,1792,0,0,0,0,46349],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 6.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,150,53663],[18278,[53663,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,9,0,0,0,1792,0,0,0,0,46350],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 9.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,225,53664],[18279,[53664,"Master of Anatomy",
"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,12,0,0,0,1792,0,0,0,0,46351],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 12.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,300,53665],[18280,[53665,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.",
"inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,20,0,0,0,1792,0,0,0,0,46352],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 20.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,375,53666],[18281,[53666,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,40,0,0,0,1792,0,0,0,0,46353],j,
j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 40.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74495],[21617,[74495,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,80,0,0,0,1792,0,0,0,0,74356],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 80.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],755:[755,"Juwelenschleifen","Eine hohe Juwelenschleiferfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Vorlagen zu benutzen. Vorlagen bekommt Ihr bei allen Juwelierskunstlehrern, von toten Gegnern und als Questbelohnung.",[]],773:[773,"Inschriftenkunde","Eine h\u00f6here Inschriftenfertigkeit erm\u00f6glicht es Euch, fortgeschrittenere Inschriften zu erlernen. Inschriften k\u00f6nnt Ihr bei den gelehrten Schreibern \u00fcberall in der Welt erwerben.",
[]]},Ab={"0":"Any class"};Ab[1]=locale.a_class[0];Ab[2]=locale.a_class[1];Ab[4]=locale.a_class[2];Ab[8]=locale.a_class[3];Ab[16]=locale.a_class[4];Ab[32]=locale.a_class[5];Ab[64]=locale.a_class[6];Ab[128]=locale.a_class[7];Ab[256]=locale.a_class[8];Ab[1024]=locale.a_class[10];var Bb={};Bb[0]=locale.F_No;Bb[1]=locale.F_Yes;var Cb={};Cb[0]=locale.a_quality[0];Cb[1]=locale.a_quality[1];Cb[2]=locale.a_quality[2];Cb[3]=locale.a_quality[3];Cb[4]=locale.a_quality[4];Cb[5]=locale.a_quality[5];Cb[6]=locale.a_quality[6];
Cb[7]=locale.a_quality[7];var Db=[8919044,1116154,2026,2026,2026];function r(a,b){this.hc=a;this.scope=b}r.prototype.hc=j;r.prototype.scope=j;r.prototype.notify=function(a){this.hc.apply(this.scope,a)};function J(a,b,c,d,f){function g(a){f?c.apply(d,f):c.apply(d,[a])}document.addEventListener?a.addEventListener(b,g,k):document.attachEvent&&a.attachEvent("on"+b,g)}function Eb(a,b,c,d){document.addEventListener?a.addEventListener(b,function(){c.notify(d)},k):document.attachEvent&&a.attachEvent("on"+b,function(){c.notify(d)})};function Fb(a){return Math.floor(10*a.ib)/10+(0==Math.floor(10*a.ib)%10?".0":"")}function Gb(a){return 0==a.delay%1E3?a.delay/1E3+".00":0==a.delay%100?a.delay/1E3+"0":Math.floor(a.delay/10)/100+""}function K(a,b){if(!a)return b.join(" ");var c;for(c=0;c<b.length;c++){if(-1==a.search(/\$/)){for(;c<b.length;c++)a+=" "+b[c];break}a=a.replace(/\$/,b[c])}return a}function L(a,b){return!a?""+b:-1==a.search(/\$/)&&b?a:a.replace(/\$/,""+b)}
function F(a){var b="",c=0,d,f;for(f in a)0<c&&(b+="&"),b+=f,d=a[f],""!==d&&(b+="="+encodeURIComponent(""+d)),c++;return b}function Hb(a,b){return 0<a?K(locale.ydRange2,[a,b]):L(locale.ydRange,b)}function M(a,b){for(var c="",a=Math.round(a*Math.pow(10,b));0<b;b--)if(0==a%10)c="0"+c,a/=10;else break;return 0==b?Math.floor(a)+"."+c:Math.floor(a)/Math.pow(10,b)+c}function N(a){var b,a=Math.round(100*a);b=a%10+"";a/=10;b=Math.floor(a%10)+b;return b=Math.floor(a/10)+"."+b}
function Ib(a){a=Math.round(10*a);return Math.floor(a/10)+"."+a%10}function Jb(a){a=Math.round(10*a)/10;return 0==a%3600?a/3600+" "+locale.h:0==a%60?a/60+" "+locale.m:a+" "+locale.s};function Kb(){if("undefined"!=typeof window.innerWidth)return[window.innerWidth,window.innerHeight];var a=window.document.compatMode&&"CSS1Compat"==window.document.compatMode?window.document.documentElement:window.document.body;return[parseInt(a.clientWidth,10),parseInt(a.clientHeight,10)]}var Lb=j;function ja(){if(Lb===j){var a=window.location.pathname.replace(/\?.+$/,"").split("/").length-2;Lb="";for(var b=0;b<a;b++)Lb+="../"}return Lb}
function Mb(a){var b=document.createElement("div");b.style.clear="both";a.appendChild(b)}function Nb(a){if(a)for(;a.firstChild;)a.removeChild(a.firstChild)}function P(a){return"<tr><td colspan='2'>"+a+"</td></tr>"}function R(a,b){return"<tr><td vAlign='bottom'>"+a+"</td><td vAlign='bottom' style='white-space:nowrap; padding-left:50px' align='right'>"+b+"</td></tr>"}var Pb=[{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:0}];
function Qb(a){for(var b=[],c=document.createElement("div"),d=0;9>d;d++)switch(b[d]=document.createElement("div"),b[d].innerHTML=a,b[d].style.position="absolute",b[d].style.textAlign="right",b[d].style.width="24px",b[d].style.top=Pb[d].y+"px",b[d].style.left=Pb[d].x+"px",b[d].style.zIndex=d,c.appendChild(b[d]),d){case 8:b[d].style.color="#FFFFFF";break;default:b[d].style.color="#000000"}c.style.position="relative";c.style.height="17px";c.style.marginTop="6px";c.style.fontSize="12px";return c}
function Rb(a,b){b["default"]||e("Default css class missing!");a.className=b["default"];a.Tf=k;b.focus&&(a.onfocus=function(){this.Tf=i;this.className=b["default"]+" "+b.focus});a.onblur=function(){this.Tf=k;this.className=b["default"]};b.hover&&(a.onmouseover=b.focusHover?function(){this.className=this.Tf?b["default"]+" "+b.focusHover:b["default"]+" "+b.hover}:function(){this.className=b["default"]+" "+b.hover},a.onmouseout=function(){this.className=this.Tf&&b.focus?b["default"]+" "+b.focus:b["default"]})}
function ca(a){a.stack&&e(a.stack);e(a)}function Sb(a){return!a?a:a.replace(/\./," ")}window.Tools||(window.Tools={removeDots:Sb});function Tb(a,b){return 75<=b?6:165==a||182==a||186==a?55<=b?5:40<=b?4:25<=b?3:10<=b?2:1:65<=b?5:50<=b?4:35<=b?3:20<=b?2:10<=b?1:5<=b?0:-1}function Ub(a,b){var c=Tb(a,b);return 0>c?0:75*(c+1)};function Vb(a,b){this.message="Called abstract method "+a+"::"+b;this.name="NotImplementedException"}Vb.prototype=Error();function Wb(a,b,c,d){this.Xb=b;this.event=a;this.mk=c;this.Hj=d}Wb.prototype={event:"",Xb:{},mk:j,Hj:j,get:function(a){this.Xb.hasOwnProperty(a)||e(Error("The key "+a+" is not defined for this event!"));return this.Xb[a]},is:function(a){this.mk.nm(a)||e(Error("The event "+a+" is not registered for the subject!"));this.Hj.tm(a)||e(Error("The event "+a+" is not registered for the observer!"));return this.event===a}};function A(){this.be={}}
A.prototype={be:{},g:function(a,b){this.be.hasOwnProperty(a)&&e(Error("The event "+a+" is already registered!"));"object"!==typeof b&&e(Error("Given arguments are not the correct type!"));for(var c in b)"string"!==typeof b[c]&&e(Error("The argument "+b[c]+" on index "+c+" is not of the type string!"));this.be[a]={args:b,observers:[],propagators:[]}},fire:function(a,b){var c=this.se(a),d,f=0;d=c.args;for(f in b)d.hasOwnProperty(f)&&e(Error("The argument "+b[f]+" was not defined when registering the event!"));for(f in d)b.hasOwnProperty(f)&&
e(Error("The required argument "+d[f]+" was found!"));d=c.observers;for(f in d)d[f].hc.notify([new Wb(a,b,this,d[f])]);c=c.propagators;for(f in c)c[f].fire(a,b)},ng:function(a){this.Fi(a.event,a)},Im:function(a,b){this.Fi(a,b)},Fi:function(a,b){var c=this.se(a),d,f=0;d=c.args;for(f in b.Xb)d.hasOwnProperty(f)&&e(Error("The argument "+b.Xb[f]+" was not defined when registering the event!"));for(f in d)b.Xb.hasOwnProperty(f)&&e(Error("The required argument "+d[f]+" was found!"));d=c.observers;for(f in d)d[f].hc.notify([new Wb(a,
b.Xb,this,d[f])]);c=c.propagators;for(f in c)c[f].fire(a,b.Xb)},q:function(a){for(var b in a.Gc){var c=this.se(a.Gc[b]);a instanceof w||e(Error("You may only add GenericObserver as observer!"));c.observers.push(a)}},Va:function(a){for(var b in a.Gc){var c=a.Gc[b],d=this.se(c).observers,f;for(f in d)if(a==d[f]){d.splice(f,1);return}e(Error("Unable to remove observer +"+a+" for event "+c+"!"))}},ca:function(a,b){this.se(a).propagators.push(b)},se:function(a){var b=this.be[a];("undefined"===typeof b||
b===j)&&e(Error("The event "+a+" is not registered!"));return b},nm:function(a){a=this.be[a];return"undefined"!==typeof a&&a!==j}};function w(a,b){if(a==j||b==j)return j;"object"!==typeof a&&e(Error("Given events to listen to are not the correct type!"));for(var c in a)"string"!==typeof a[c]&&e(Error("The event "+a[c]+" on index "+c+" is not of the type string!"));b instanceof r||e(Error("Given handler is not an instance of handler!"));this.Gc=a;this.hc=b}w.prototype={Gc:{},hc:j,tm:function(a){for(var b in this.Gc)if(this.Gc[b]===a)return i;return k}};var Xb={};
(function(){function a(a,b){var f=j,g=j;try{f=t(a)}catch(h){g=h}b.notify([f,g])}function b(a,b){var f="",g=j;try{f=t(a)}catch(h){g=h}b.notify([f,g])}Xb.Hm=function(b,d,f,g){fa("api/battlenet_profile.php?"+F({name:b,server:d,region:f}),new r(a,Xb),[g])};Xb.Dk=function(a,d,f){da("api/profile.php",{action:a?"update":"add",id:a,serialized:JSON.stringify(d.toArray())},new r(b,Xb),[f,d])};Xb.Jn=function(b,d){fa("api/profile.php?"+F({id:b}),new r(a,Xb),[d])};Xb.Gn=function(a,b){da("api/chardev_profile.php",{action:"delete",
id:a},b,[a])}})();var Yb={Rl:function(a,b){fa("api/character_class.php?"+F({id:a}),new r(Yb.Sl,Yb),[b])},Sl:function(a,b){var c=j;200==a.status?(c=parseInt(a.getResponseHeader("error"),10))&&e(new La("DatabaseIO.getCharacterClass")):e(new Ma(a));b&&b.notify([eval("("+a.responseText+")")])},Tl:function(a,b){fa("api/character_race.php?"+F({id:a}),new r(Yb.Ul,Yb),[b])},Ul:function(a,b){var c=j;200==a.status?(c=parseInt(a.getResponseHeader("error"),10))&&e(new La("DatabaseIO.getCharacterRace")):e(new Ma(a));b&&b.notify([eval("("+
a.responseText+")")])}};function Zb(a,b){this.i=a;this.Na=b;this.Zf=k;this.Lc=i;this.Jd=this.om=k;this.Fc=$b;this.fd=this.i.ge&&1<this.i.ge.Na}var $b=0;Zb.prototype={i:j,Na:0,Zf:k,Lc:i,Jd:k,Fc:$b,fd:k,od:function(){this.i.ge&&this.i.ge.Na>this.Na&&this.Na++},Qm:function(){1<this.Na&&this.Na--},pn:aa("Zf"),qn:function(a){this.Jd=(this.Lc=a)?k:this.Jd},hn:aa("Fc"),gn:function(a){this.Lc=(this.Jd=a)?k:this.Lc}};function ac(a){this.id=a[0];this.type=a[1];this.i=a[2]?new z(a[2]):j;this.Cj=a[3]}ac.prototype={id:0,type:0,i:j,Cj:0};function pa(a){var b;this.H=[j,j,j];this.F=[];this.Gb=a;this.id=a[0];this.$=a[1];this.U=a[2];this.pk=this.S=a[3];this.ra=a[4];this.ac=a[5];this.f=a[6];this.ob=a[7];this.Qd=a[9];this.Nj=a[10];this.Pj=a[11];this.e=a[13];this.delay=a[14];this.ba=[];for(b=0;b<a[15].length;b++)this.ba[b]=a[15][b]!=j?new z(a[15][b]):j;this.$i=a[17];this.ni=this.name=a[18];this.fa=a[19]!=j?new bc(a[19]):j;this.Qf=a[20];this.R=a[21];this.dd=a[22]!=j?new cc(a[22]):j;this.t=a[23];this.Nb=a[24];this.Xd=a[25];this.Uh=a[27];this.tb=
a[28];this.unique=a[29];this.Oj=a[30];this.gi=a[31];this.ci=a[33];this.oa=a[36]!=j?new dc(a[36]):j;this.description=a[37];this.ib=a[38];this.lc=a[39];this.kc=a[40];this.Ia=j;if(a[41]){this.Ia=[];for(b=0;b<a[41].length;b++)this.Ia[b]=new ec(a[41][b])}else if(a[42]){this.Ia=[];for(b=0;b<a[42].length;b++)this.Ia[b]=new fc(a[42][b])}this.Fb=a[43];this.Yd=a[44];this.ih=a[45];this.Lj=a[46]}
pa.prototype={H:j,ub:j,N:j,zc:j,id:0,$:0,U:0,S:0,ra:0,ac:0,f:0,ob:0,Qd:0,Nj:0,Pj:0,e:0,delay:0,ba:j,$i:0,name:"",fa:0,Qf:0,R:0,dd:j,t:"",Nb:"",Xd:0,Yd:0,Uh:0,tb:0,unique:0,Oj:0,gi:0,ci:0,oa:0,description:"",ib:0,lc:0,kc:0,ih:0,Lj:0,Z:-1,da:-1,ia:-1,Qb:-1,Ia:j,ni:"",Fb:j,pk:0,Pd:0,Sm:0,Um:0,Rm:j,Tm:j,wg:function(a){this.zc=a;for(var b=0;3>b;b++)this.H[b]&&this.H[b].wg(a)},xh:function(){return 200<=this.f},Te:function(a,b){var c,d=k,f=-1,g=-1;-1!=this.ia&&e(new gc(this,a,b,hc));200>this.f&&e(new gc(this,
a,b,ic));for(c=0;c<Oa.length;c++)a==Oa[c]&&(d=i);d||e(new gc(this,a,b,jc));for(c=0;c<this.e.length;c++)this.e[c]&&(this.e[c][0]==b&&e(new gc(this,a,b,kc)),this.e[c][0]==a&&(f=c));if(this.N)for(c=0;c<this.N.F.length;c++)if((d=this.N.F[c])&&5==d.types[0])d.Ma[0]==b&&e(new gc(this,a,b,kc)),d.Ma[0]==a&&(g=c);-1==f&&-1==g&&e(new gc(this,a,b,lc));this.ia=a;this.Z=b;-1!=f?(this.Qb=this.e[f][1],this.da=Math.floor(0.4*this.e[f][1]),this.e[f][1]-=this.da):-1!=g&&(d=this.N.F[g],this.Qb=c=d.Wb[0],this.da=Math.floor(0.4*
c),d.V(c-this.da))},restore:function(){var a;if(-1!=this.ia){for(a=0;a<this.e.length;a++)if(this.e[a]&&this.e[a][0]==this.ia){this.e[a][1]=this.Qb;break}if(this.N)for(a=0;a<this.N.F.length;a++){var b=this.N.F[a];b&&5==b.types[0]&&b.Ma[0]==this.ia&&b.V(this.Qb)}}this.Qb=this.ia=this.da=this.Z=-1},Zh:function(a){if(this.Fb!=j){var b=0,c=0,d=0,a=Math.min(a,this.Fb[21]);this.e[b]!=j&&50<this.e[b][0]&&(this.e[9]=this.e[b],this.e[b]=j);if(4==this.U){switch(this.ra){case 1:this.tb=H[a][19+this.S];c=H[a][7];
break;case 3:this.tb=H[a][11+this.S];c=H[a][8];break;case 5:case 20:this.tb=H[a][15+this.S];c=H[a][7];break;case 7:this.tb=H[a][23+this.S];c=H[a][7];break;case 11:c=H[a][9];break;case 12:c=H[a][8];break;case 16:this.tb=H[a][44],c=H[a][9]}switch(this.pk){case 4:this.S=40<=a?4:3;this.Nb[0]=locale.a_armor[this.S];break;case 3:this.S=40<=a?3:2,this.Nb[0]=locale.a_armor[this.S]}}else if(2==this.U){var f=1<<this.S;f&262156?(c=H[a][10],d=H[a][4]):f&43153?(c=H[a][11],d=H[a][this.Yd&512?2:0]):f&1185122&&(c=
H[a][7],d=H[a][this.Yd&512?3:1])}if(c){for(f=0;10>f;f++)0<this.Fb[f]&&(this.e[b++]=[this.Fb[f],Math.floor(this.Fb[f+10]*c/1E4)]);this.Yd&512&&2==this.U&&0<H[a][6]&&(this.e[b++]=[45,H[a][6]])}d&&(this.ib=d,this.lc=Math.floor(this.ib*this.delay*(1-this.ih/2)/1E3),this.kc=Math.floor(this.ib*this.delay*(1+this.ih/2)/1E3))}},Zj:function(a){if(!(this.N&&a==this.N.id))if(this.restore(),0==a)this.N=j,this.name=this.ni;else{if(this.Ia)for(var b=0;b<this.Ia.length;b++)if(this.Ia[b].id==a){this.N=this.Ia[b].clone();
this.name=this.ni+" "+this.N.name;return}e(Error("Unable to set random property (ID:"+a+")"))}},uc:function(a){if(!a)return j;for(var b=0;b<this.F.length;b++){var c=this.F[b];if(7==c.types[0]&&7==a.types[0]||7!=c.types[0]&&7!=a.types[0])return this.F[b]=a,c}this.F.push(a);return j},Mm:function(a){if(a)for(var b=0;b<this.F.length;b++)if(this.F[b].id==a.id){this.F.splice(b,1);break}},vc:function(a,b){this.Ni(a,b,k)},Vi:function(a,b){this.Ni(a,b,i)},Ni:function(a,b,c){if(a){!c&&this.zc!=j&&(0<a.unique||
a.Aj()==i)&&(this.H[b]==j||this.H[b].id!=a.id)&&!this.zc.ki(a.id)&&e(new mc("Gem is unique and already in use!"));if(1!=this.R[b]&&6==a.S||1==this.R[b]&&6!=a.S)return;if(a.oa&&a.oa.sg>this.f){c||e(new mc("Your character doesn't match the gems level requirements!"));return}a.wg(this.zc)}this.H[b]=a},Ph:function(a){this.H[a]=j},yh:function(){if(!this.dd)return k;for(var a=0;3>a;a++)if(this.R[a]){if(this.H[a]==j)return k;switch(this.R[a]){case 1:if(6!=this.H[a].S)return k;break;case 2:if(!(Math.pow(2,
this.H[a].S)&297))return k;break;case 4:if(!(Math.pow(2,this.H[a].S)&308))return k;break;case 8:if(!(Math.pow(2,this.H[a].S)&282))return k}}return i},ua:function(){var a=this.zc.Q,b,c;for(b=0;5>b;b++)(c=this.ba[b])&&1==this.gi[b]&&a.add(this.ba[b]);for(b=0;3>b;b++)(c=this.H[b])&&c.ua(a);for(b=0;b<this.F.length;b++)this.F[b].ua(a);this.dd!=j&&this.yh()&&this.dd.ua(a);this.oa!=j&&this.oa.ub.Aa(this.zc)&&this.oa.ub.ua(a)},pm:function(){return 0<this.unique},Aj:function(){return 0!=(this.Xd&524288)},
im:function(){for(var a=0,b=0,c=0;3>c;c++)this.H[c]&&b++,this.R[c]&&a++;return b>a},clone:function(){return new pa(this.Gb)},sh:function(a){var b;for(b=0;b<this.e.length;b++)if(this.e[b]&&this.e[b][0]==a)return this.e[b][1];if(this.N)for(b=0;b<this.N.F.length;b++){var c=this.N.F[b];if(c&&5==c.types[0]&&c.Ma[0]==a)return c.Wb[0]}return 0}};function nc(a,b){this.id=b[0];this.name=b[1];this.description=b[2];this.Gf=[];for(var c=0;c<b[3].length;c++){var d=new oc(b[3][c]);d&&(this.Gf.push(d),pc(d.i))}this.character=a;this.aa(Ub(this.id,a.f))}nc.prototype={id:0,name:"",description:"",Gf:[],f:0,aa:function(a){var b=Ub(this.id,this.character.f);this.f=a>b?b:a},Ql:function(){for(var a=0,b=j,c=0;c<this.Gf.length;c++){var d=this.Gf[c];d.Pd>a&&d.Pd<=this.f&&(a=d.Pd,b=d)}return b==j?j:b.i}};function qc(a){var b,c;this.id=a[0];this.n=[];for(b=0;b<a[1].length;b++)c=new z(a[1][b]),this.n.push(new Zb(c,1)),pc(c);this.Q=[];for(b=0;b<a[2].length;b++)this.Q.push(new z(a[2][b]))}qc.prototype={n:[],Q:[],id:0};function rc(a){this.id=a[0];this.name=a[1]}rc.prototype={id:0,name:""};function oc(a){this.id=a[0];this.i=a[1]?new z(a[1]):j;this.If=a[3];this.Pd=a[4]}oc.prototype={id:0,i:j,Pd:0};function z(a){var b,c=a[17],d=j;if(c!=j)for(b=0;b<c.length;b++)(d=c[b])&&pc(new z(d));this.f=S;this.Gb=a;this.id=a[0];this.name=a[1];this.t=a[3];this.duration=a[4];this.Ja=a[5];this.bb=a[6]?new sc(a[6]):j;this.type=a[7];this.je=a[8];this.Lf=a[9];this.bi=this.Lf==j?0:Math.max(this.Lf[0],this.Lf[1])/1E3;this.D=[];for(b=0;b<a[10].length;b++)this.D[b]=a[10][b]?new tc(a[10][b]):j;this.Sd=a[11]?new uc(a[11]):j;this.aj=a[12]?a[12]:"";this.Dg=a[14]?new vc(a[14]):j;this.Pa=a[15]?new xc(a[15]):j;this.type=
[];for(b=0;b<a[16].length;b++)c=a[16][b],0>c&&(c=~c+1),this.type[b]=c;this.ge=a[18]?new yc(a[18]):j;this.Fc=a[20];this.rc=a[21]?new zc(a[21]):j;this.aa(this.f)}
z.prototype={f:0,Gb:j,id:j,name:j,t:j,duration:j,Ja:j,bb:j,type:j,je:j,Lf:j,bi:0,D:j,Sd:j,aj:j,Dg:j,Pa:j,ge:j,type:j,Fc:0,rc:j,Wc:0,wb:function(a){for(var b=0,c=0,a=Ac(this.aj,a),a=a.replace(/\|c([0-9a-z]{8})/gi,function(a,c){b++;return'<span style="color:#'+c.substr(2,6)+'">'}),a=a.replace(/\|r/gi,function(){c++;return"</span>"});c<b;c++)a+="</span>";return a.split(/\r\n/)},aa:function(a){var b,c;this.f=a;if(this.Sd!=j){a=$a(this.Sd.dj,this.Sd.cj,this.Sd.vj,this.f);a!=j&&(this.je=a[0]);for(c=0;c<
this.D.length;c++)this.D[c]!=j&&(b=Ya(a!=j?a[1]:1,this.Sd.yd,this.D[c].lk,0,this.f),b!=j&&(this.D[c].value=b[0],this.D[c].Ll=b[1]))}else for(c=0;c<this.D.length;c++)this.D[c]!=j&&this.D[c].aa(a)},wj:function(){return 0!=(this.type[0]&64)&&0>=this.duration},clone:function(){return new z(this.Gb)},toString:function(){return"Spell ["+this.id+"]: "+this.wb(j)},rj:function(){for(var a=0;3>a;a++)if(this.D[a]&&23==this.D[a].Ad)return Bc(this.D[a].Nd)},Yl:function(a,b){if(!this.rc||a<this.rc.Df)return 0;
var c=0,c=0<this.rc.dg&&a>this.rc.dg?this.rc.dg-this.rc.Df:a-this.rc.Df;return c*this.D[b].ag}};function cc(a){var b;this.id=a[0];this.types=[];this.Wb=[];this.Ma=[];for(b=0;5>b;b++)this.types[b]=a[1][b],this.Wb[b]=a[2][b],this.Ma[b]=a[3][b];this.ba=[];for(b=0;3>b;b++)this.ba[b]=1==this.types[b]||3==this.types[b]||7==this.types[b]?new z(a[4][b]):a[4][b];this.description=a[5];this.bc=a[6];this.ug=a[7]?new rc(a[7]):j;this.Qd=a[8];this.ob=a[9];this.fb=a[10]}
cc.prototype={id:0,types:[],Wb:[],Ma:[],description:"",mi:"",bc:j,ug:j,Qd:0,ob:0,ba:[],fb:0,yj:function(a){if(a!=j&&this.bc!=j)for(var b=0;5>b;b++)if(!this.xj(b,a.u.fc))return k;return i},xj:function(a,b){var c=this.bc[1][a];c||(c=0);var d=this.bc[2][a];d||(d=0);var f=this.bc[3][a];f||(f=0);var g=this.bc[4][a];g||(g=0);if(!b||0==d&&0!=g&&b[c]!=g||2==d&&b[c]>=b[f])return k;if(3==d)if(0<g){if(b[c]<g+1)return k}else if(b[c]<=b[f])return k;return 0<c&&5==d&&b[c]<g?k:i},V:function(a){5==this.types[0]||
4==this.types[0]?this.Wb[0]=a:3==this.types[0]&&this.ba[0]!=j&&this.ba[0].D[0]!=j&&(this.ba[0].D[0].value=a);this.mi||(this.mi=this.description);this.description=this.mi.replace(/\$i/g,a)},jj:function(a){return 1>=this.ob||a!=j&&this.ob<=a.f},kj:function(a){return this.ug&&0<this.Qd?a&&(a=a.pj(this.ug.id),a!=j&&a.f>=this.Qd)?i:k:i},Aa:function(a){return this.jj(a)&&this.kj(a)&&this.yj(a)},ua:function(a){for(var b=0;3>b;b++)3==this.types[b]&&a.add(this.ba[b])}};function Cc(a){this.id=a[0];this.i=new z(a[1])}Cc.prototype={id:0,selected:k,i:j};function tc(a){this.fe=a[1];this.Ad=a[2];this.value=a[4];this.Yc=53==this.fe?new cc(a[8]):a[8];this.Ak=a[9];this.ag=a[11];this.Nd=a[12];this.id=a[13];this.lk=a[14];this.Zi=this.value}tc.prototype={id:0,fe:0,Ad:0,value:0,Ll:0,Yc:j,Ak:0,ag:0,Nd:0,lk:0,Zi:0,aa:function(a){0!=this.ag&&(this.value=Math.floor(this.Zi+this.ag*(a-1)))},$l:function(){return 0>=this.Nd?j:Bc(this.Nd)}};function xc(a){this.Ac=a[0];this.fb=a[1];this.df=a[2]}xc.prototype={Ac:0,fb:0,df:0};function uc(a){this.dj=a[0];this.cj=a[1];this.vj=a[2];this.yd=a[3]}uc.prototype={dj:0,cj:0,vj:0,yd:0};function vc(a){this.oh=a[2]}vc.prototype={oh:0};function yc(a){this.Na=a[0]}yc.prototype={Na:0};function zc(a){this.Df=a[0];this.dg=a[1]}zc.prototype={Df:0,dg:0};function sc(a){this.type=a[0];this.Pg=a[1];this.qg=a[2]}sc.prototype={type:0,Pg:0,qg:0};function gc(a,b,c,d){this.message="Unable to reforge "+a+", reducing "+b+" and adding "+c+(d?"!\n Cause:"+d.toString():"");this.add=c;this.red=b;this.Ra=a}gc.prototype=Error();gc.prototype.Ra=j;gc.prototype.red=-1;gc.prototype.add=-1;var jc=2,kc=3,lc=4,ic=5,hc=6;
function Dc(a,b){var c;switch(b){case Ec:c="You do not match the class requirement to wear this item!";break;case Fc:c="You do not match the requirement to wear this item!";break;case Gc:c="You are already wearing this item!";break;default:c="Unable to equip "+a.name+" due to unknown reason!"}this.Ra=a;this.message=c}Dc.prototype=Error();Dc.prototype.Ra=j;var Ec=0,Fc=1,Gc=2;function mc(a){this.message=a}mc.prototype=Error();function dc(a){this.ub=new cc(a[0]);this.sg=a[1]}dc.prototype.ub=j;dc.prototype.sg=0;function Hc(){}Hc.prototype={id:0,name:"",F:[],Gb:[],clone:ba(j)};function ec(a){this.id=a[0];this.name=a[1];this.F=[];for(var b=0;5>b;b++)this.F[b]=a[2+b]?new cc(a[2+b]):j;this.Gb=a}ec.prototype=new Hc;ec.prototype.clone=function(){return new ec(this.Gb)};function fc(a){this.id=0-a[0];this.name=a[1];this.F=[];for(var b=0;5>b;b++)a[2+b]?(this.F[b]=new cc(a[2+b][1]),this.F[b].V(a[2+b][0])):this.F[b]=j;this.Gb=a}fc.prototype=new Hc;fc.prototype.clone=function(){return new fc(this.Gb)};function bc(a){var b;this.id=a[0];this.name=a[1];this.sd=[];for(b=0;b<a[3].length;b++)this.sd[b]=a[3][b]!=j?new z(a[3][b]):j;this.Sh=a[4];this.rm=a[5];this.j=a[6]}bc.prototype={id:0,name:"",sd:[],Sh:[],ua:function(a){for(var b=0;8>b;b++)this.sd[b]!=j&&a.ph(this.id)>=this.Sh[b]&&a.Q.add(this.sd[b])}};function wa(){this.b=new A;this.b.g("race_change",["race"]);this.b.g("class_change",["class"]);this.b.g("level_change",["level"]);this.b.g("character_loaded",["character"]);this.b.g("stats_change",["stats"]);this.b.g("preview_stats_change",["previewStats"]);this.b.g("profession_change",["index","profession"]);this.b.g("profession_level_change",["index","level"]);this.b.g("item_change",["slot"]);this.b.g("gem_change",["slot","socket"]);this.b.g("enchant_change",["slot"]);this.b.g("reforge_change",
["slot"]);this.b.g("random_enchant_change",["slot"]);this.b.g("talents_reset",[]);this.b.g("talents_tiers_change",["tiers"]);this.b.g("talents_select",["row","col"]);this.b.g("talents_deselect",["row","col"]);this.b.g("talents_set_distribution",["distribution"]);this.b.g("buffs_change",[]);this.b.g("shapeform_change",["new_shape","old_shape"]);this.b.g("presence_change",["new_presence","old_presence"]);this.b.g("glyph_added",["glyph"]);this.b.g("glyph_removed",["glyph"]);this.ga=[j,j];this.e=new Ic(this);
this.Hh=new Ic(this);this.u=new Jc(this);this.Q=new Kc(this);this.n=new Lc;this.ji=new w(["select","deselect","reset","set_distribution","tiers_change"],new r(function(a){this.b.Im("talents_"+a.event,a)},this));this.n.q(new w(["change","remove_buff","remove_stack"],new r(function(a){if(a.is("remove_buff")){var b=this.d?this.d.shape:j;if(b)for(var c in b.n)if(a.get("buff").i.id==b.n[c].i.id){this.ad(0);break}}a.get("silent")||this.W();this.b.fire("buffs_change",{})},this)));this.dh=new w(["shapeform_change",
"presence_change","glyph_added","glyph_removed"],new r(function(a){if(a.is("shapeform_change")){var b=a.get("old_shape"),c=a.get("new_shape"),d;if(b)for(d=0;d<b.n.length;d++)this.n.rg(b.n[d].i.id,i);if(c)for(d=0;d<c.n.length;d++)this.n.xf(c.n[d].i.id,1==this.d.id,i);this.b.ng(a)}else a.is("presence_change")?(b=a.get("old_presence"),c=a.get("new_presence"),b&&this.n.rg(b.i.id,i),c&&this.n.xf(c.i.id,i,i),this.b.ng(a)):a.is("glyph_added")?(this.W(),this.b.ng(a)):a.is("glyph_removed")&&(this.W(),this.b.ng(a))},
this));this.aa(S);this.description=this.name=""}var S=90;
wa.prototype={b:j,ji:j,dh:j,I:j,d:j,f:S,u:j,n:j,ga:j,e:j,Hh:j,Q:j,description:"",name:"",q:function(a){this.b.q(a)},Va:function(a){this.b.Va(a)},aa:function(a){if(a>=this.rh()&&a<=S){this.d!=j&&this.d.aa(a);this.f=a;for(var b=0;2>b;b++)this.ga[b]&&(0==Ub(this.ga[b].id,this.f)&&(this.ga[b]=j),this.ga[b].aa(this.f))}else e(new Mc(a));this.W();this.b.fire("level_change",{level:a})},xg:function(a){this.d!=j&&(this.d.z.Va(this.ji),this.d.Va(this.dh));if(a!=j){(this.I==j||!this.I.Bj(a.id))&&e(new Nc(this.I,
a));this.d=a;try{this.d.aa(this.f)}catch(b){b instanceof Mc?b.f>S?this.d.aa(S):this.d.aa(this.rh()):ca(b)}this.d.z.q(this.ji);this.d.q(this.dh)}else this.d=j;this.W();this.b.fire("class_change",{"class":a})},Yj:function(a){a==j?this.xg(j):(this.d!=j&&!a.Bj(this.d.id)&&this.xg(j),this.I=a);this.W();this.b.fire("race_change",{race:a})},W:function(){Oc(this.e,k);this.b.fire("stats_change",{stats:this.e})},Xa:function(){Oc(this.Hh,i);this.b.fire("preview_stats_change",{previewStats:this.Hh});this.u.Ka()},
Rb:function(){this.b.fire("preview_stats_change",{previewStats:j})},Hf:function(a){if(4==a.U){if(0!=(1<<a.S&this.Pl()))return i}else if(2==a.U)return i;return k},Sf:function(a){return 0==a.ac||1535==(a.ac&1535)||this.d!=j&&0!=(a.ac&1<<this.d.id-1)},El:function(a){switch(a){case 0:return 2;case 1:return 4;case 2:return 8;case 3:return 65536;case 4:return 1048608;case 5:return 16;case 6:return 524288;case 7:return 512;case 8:return 1024;case 9:return 64;case 10:return 128;case 11:return 256;case 12:return 2048;
case 13:return 2048;case 14:return 4096;case 15:return 4096;case 16:if(this.d!=j)switch(this.d.id){case 4:break;default:return 2236416}return 2105344;case 17:if(this.d!=j)switch(this.d.id){case 1:return 8404992|(1==this.d.Y?4202496:0)|(this.Yg()?131072:0);case 2:return 8404992;case 3:return 12591104;case 4:return 12591104;case 6:return 12591104;case 7:return 8404992|(1==this.d.Y?4202496:0)}return 8388608}return 0},Wl:function(){var a=31;if(this.d!=j)switch(this.d.id){case 1:a=40<=this.f?16:8;break;
case 2:a=40<=this.f?16:8;break;case 3:a=40<=this.f?8:4;break;case 4:a=4;break;case 5:a=2;break;case 6:a=16;break;case 7:a=40<=this.f?8:4;break;case 8:a=2;break;case 9:a=2;break;case 11:a=4}return a},Fl:function(a){switch(a){case 0:case 2:case 4:case 7:case 8:case 9:case 10:case 11:return[4,this.Wl()];case 3:return[4,2];case 5:case 6:return[4,3];case 1:case 12:case 13:case 14:case 15:return[4,1];case 18:if(this.d!=j)switch(this.d.id){case 9:case 8:case 5:return[2,524288];case 1:case 3:case 4:return[2,
327692];case 2:case 7:case 6:case 11:return[4,2048]}return[100,1]}return[-1,0]},Pl:function(){if(this.d!=j)switch(this.d.id){case 1:return(40<=this.f?31:15)+64;case 2:return(40<=this.f?31:15)+2112;case 6:return(40<=this.f?31:15)+2048;case 3:return 40<=this.f?15:7;case 7:return(40<=this.f?15:7)+2112;case 11:return 2055;case 4:return 7;case 5:case 8:case 9:return 3}return 31},Yg:function(){return this.d!=j&&1==this.d.id},tj:function(){return this.d==j?k:0==(1<<this.d.id&90)},Xj:function(a,b){this.ga[a]=
0<b?new nc(this,zb[b]):j;this.W();this.b.fire("profession_change",{index:a,profession:this.ga[a]})},mn:function(a,b){this.ga[a].aa(b);this.W();this.b.fire("profession_level_change",{index:a,level:this.ga[a].f})},sj:function(a){var b=this.pj(164);return(7==a||8==a)&&this.u.get(a)!=j&&60<=this.u.get(a).f&&b!=j&&400<=b.f||9==a&&70<=this.f&&this.u.get(a)!=j&&80<=this.u.get(a).f?i:k},pj:function(a){return this.ga[0]&&this.ga[0].id==a?this.ga[0]:this.ga[1]&&this.ga[1].id==a?this.ga[1]:j},jd:function(a){this.Q.Aa(a)&&
!this.n.Aa(a)?this.n.xf(a,k,i):!this.Q.Aa(a)&&this.n.Aa(a)&&this.n.rg(a,k)},ua:function(){var a=this.n.n,b=0;this.d&&this.d.ua(this.Q);this.I&&this.I.ua(this.Q);for(b=0;2>b;b++)if(this.ga[b]){var c=this.ga[b].Ql();c&&this.Q.add(c)}if(this.d)switch(this.d.id){case 1:this.jd(29801);break;case 3:this.jd(53290);break;case 4:this.jd(51701);this.jd(31223);break;case 6:this.jd(55610);break;case 7:this.jd(51470);break;case 11:this.Q.Aa(17007)&&this.d!=j&&0!=(1<<this.d.sa&290)?this.n.xf(24932,k,k):this.n.rg(24932,
k)}for(b in a)this.Q.md(a[b])},qm:function(a){return 16==a||17==a&&this.d!=j&&0!=(1<<this.d.id&154)||18==a&&this.d!=j&&0!=(1<<this.d.id&826)},load:function(a){var b,c=0,d,f;if(a!=j){this.name=a[0][0];this.description=a[0][1];this.Yj(new Pc(this,a[0][2]));this.xg(new Qc(a[0][3]));this.aa(a[0][4]);this.d&&this.d.ad(a[0][5]?a[0][5]:0);b=a[0][6]?a[0][6]:0;if(0==b&&this.d!=j&&6==this.d.id)switch(a[4]){case 0:b=48263;break;case 1:b=48266;break;case 2:b=48265;break;default:b=48263}this.d.Ud(b);if(this.d){(2===
a[4]||1===a[4]||0===a[4])&&this.d.z.Kn(a[4]);a[2]&&this.d.z.Tb(a[2],i);if(a[5])for(b=0;b<a[5].length;b++)a[5][b]&&(this.Xj(b,a[5][b][0]),this.ga[b].aa(a[5][b][1]));for(b=0;b<a[3].length;b++)a[3][b]&&this.d.wf(new ac(a[3][b]))}for(b=0;19>b;b++)if(a[1][b])if(a[1][b][0]){d=new pa(a[1][b][0]);try{this.u.set(b,d)}catch(g){if(g instanceof Dc)continue;ca(g)}for(c=0;3>c;c++)a[1][b][1+c]&&(f=new pa(a[1][b][1+c]),d.vc(f,c),Rc(f));a[1][b][4]&&d.uc(new cc(a[1][b][4]));a[1][b][6]!=j&&0!=a[1][b][6]&&d.Zj(a[1][b][6]);
if(a[1][b][5]&&-1!=a[1][b][5][0]&&-1!=a[1][b][5][1])try{d.Te(a[1][b][5][0],a[1][b][5][1])}catch(h){h instanceof gc||ca(h)}if(a[1][b][7])for(c=0;c<a[1][b][7].length;c++)d.uc(new cc(a[1][b][7][c]));Rc(d)}else this.u.remove(b);for(b in a[6])c=new z(a[6][b][0]),pc(c),this.n.set(new Zb(c,a[6][b][1]));this.W();this.b.fire("character_loaded",{character:this})}},rh:function(){return this.d!=j&&6==this.d.id?55:1},toArray:function(){var a=[],b,c,d,f=this.d?this.d.sa:0,g=this.d!=j&&this.d.mb!=j?this.d.mb.i.id:
0;this.d&&(this.d.ad(0),this.d.Ud(0));a[0]=[this.name,this.description,this.I?this.I.id:0,this.d?this.d.id:0,this.f,f,g];a[1]=[];for(b=0;19>b;b++)if(d=this.u.j[b][0],d==j)a[1][b]=j;else{a[1][b]=[];a[1][b][0]=d.id;a[1][b][1]=d.H[0]?d.H[0].id:0;a[1][b][2]=d.H[1]?d.H[1].id:0;a[1][b][3]=d.H[2]?d.H[2].id:0;a[1][b][4]=0<d.F.length?d.F[0].id:j;a[1][b][5]=[d.ia,d.Z];a[1][b][6]=d.N?d.N.id:0;a[1][b][7]=[];for(c=1;c<d.F.length;c++)a[1][b][7].push(d.F[c].id)}a[2]=this.d?this.d.z.pe(i):[];a[3]=[];if(this.d)for(b=
0;b<this.d.L.length;b++)for(c=0;c<this.d.L[b].length;c++)this.d.L[b][c]&&a[3].push(this.d.L[b][c].id);a[4]=this.d?this.d.Y:-1;a[5]=[j,j];for(b=0;2>b;b++)c=this.ga[b],a[5][b]=c?[c.id,c.f]:j;a[6]=[];c=this.n.n;for(b in c)c[b]&&!c[b].Jd&&a[6].push([c[b].i.id,c[b].Na]);this.d&&(this.d.ad(f),this.d.Ud(g));return a},Bn:function(){var a,b,c,d={averageItemLevel:0,averageItemLevelEquipped:0},f,g,h,n=this.d!=j?this.d.z:j,p=[[],[],[]],u=[];for(a=0;19>a;a++)if(h=this.u.j[a][0],h!=j){f=Wa[a];g={};for(b=0;b<h.F.length;b++)c=
h.F[b],7==c.types[0]?g.tinker=c.id:g.enchant=c.id;for(b=0;3>b;b++)h.H[b]&&(g["gem"+b]=h.H[b].id);h.im()&&(g.extraSocket=i);-1!=h.ia&&-1!=h.Z&&(g.reforge=7*Pa[h.ia]+113+Pa[h.Z]-(h.Z>h.ia?1:0));h.N&&(g.suffix=h.N.id);d[f]={icon:h.t,id:h.id,name:h.name,quality:h.$,tooltipParams:g}}if(this.d){for(a=0;a<this.d.L.length;a++)for(b=0;b<this.d.L[a].length;b++)(c=this.d.L[a][b])&&p[a].push({glyph:c.id,item:c.Cj,name:c.i.name,icon:c.i.t});b=[{selected:i,name:-1!=this.d.Y?n.Ln[this.d.Y]:"None",icon:"",build:n.pe(i).join(""),
trees:[],glyphs:{prime:p[2],major:p[0],minor:p[1]}}]}else b=j;for(a=0;2>a;a++)(n=this.ga[a])&&u.push({id:n.id,name:Xa[n.id],rank:n.f});return JSON.stringify({name:this.name,race:this.I!=j?this.I.id:0,"class":this.d!=j?this.d.id:0,level:this.f,items:d,talents:b,professions:{primary:u,secondary:[]}})},Vj:aa("name"),en:aa("description"),Wi:function(a,b){this.u.Ka();this.Rb();this.u.set(a,b);this.W();16==a||17==a?(this.b.fire("item_change",{slot:16}),this.b.fire("item_change",{slot:17})):this.b.fire("item_change",
{slot:a})},removeItem:function(a){this.u.Ka();this.Rb();this.u.remove(a);this.W();this.b.fire("item_change",{slot:a})},vc:function(a,b,c){this.u.Ka();this.Rb();this.u.j[a][0].vc(c,b);this.W();this.b.fire("gem_change",{slot:a,socket:b})},Ph:function(a,b){this.u.Ka();this.Rb();this.u.j[a][0].vc(j,b);this.W();this.b.fire("gem_change",{slot:a,socket:b})},An:function(a,b){this.u.Ka();this.Rb();this.u.zn(a,b);this.W();16==a||17==a?(this.b.fire("item_change",{slot:16}),this.b.fire("item_change",{slot:17})):
this.b.fire("item_change",{slot:a})},uc:function(a,b){this.u.Ka();this.Rb();this.u.j[a][0].uc(b);this.W();this.b.fire("enchant_change",{slot:a})},Vh:function(a,b){this.u.Vh(b,a);this.Xa()},Nm:function(){this.u.Ka();this.Xa()},kn:function(a,b){this.u.Ka();this.Rb();this.u.j[a][0].Zj(b);this.W()},Wh:function(a,b){this.u.Wj(b,a,-1);this.Xa()},Rh:function(){this.u.Ka();this.Xa()},Uj:function(a,b,c){this.u.Wj(c,a,b);this.Xa()},Mj:function(){this.u.Ka();this.Xa()},va:function(a,b){return"undefined"===typeof b?
this.u.j[a][0]:this.u.j[a][b]},ki:function(a){return this.u.ki(a)},ph:function(a){return this.u.ph(a)},Km:function(a,b,c){this.u.Te(a,b,c)&&(this.b.fire("reforge_change",{slot:a}),this.W())},Zm:function(a){this.u.restore(a)&&(this.b.fire("reforge_change",{slot:a}),this.W())},nn:function(a,b,c){var d=this.u.Nh();d[a]=[b,c];this.u.Ag(d);this.Xa()},Ag:function(a){this.u.Ag(a);this.Xa()},Om:function(){this.u.Ka();this.Xa()},Pm:function(){this.u.Ka();this.Xa()},Ym:function(){this.u.Rd();this.W();this.Xa();
this.b.fire("reforge_change",{slot:-1})},Mh:function(a){this.u.Mh(a);this.W();this.Xa();this.b.fire("reforge_change",{slot:-1})},md:function(a){this.n.add(a,k)},od:function(a){this.n.od(a)},Lm:function(a){this.n.remove(a,k)},mm:function(a){return this.n.Aa(a)},Wm:function(){var a=this.d!=j?this.d.z:j;a&&(a.reset(),this.W())},Cn:function(a,b){var c=this.d!=j?this.d.z:j;c&&c.toggle(a,b)&&this.W()},dm:function(){if(this.d==j)return j;for(var a=this.d.z.z,b=[],c=0;c<a.length;c++){b[c]=[];for(var d=0;d<
a[c].length;d++)b[c][d]=new Sc(a[c][d],this)}return b},Uf:function(){return this.d!=j?this.d.z.pe():j},wf:function(a){this.d.wf(a)},Qh:function(a){if(this.d!=j&&a!=j)for(var b=this.d.L[a.type],c=0;c<b.length;c++)if(b[c]!=j&&b[c].id==a.id){this.d.Qh(a.type,c);break}},ad:function(a){this.d!=j&&(this.d.ad(a),this.W())},Ud:function(a){this.d!=j&&(this.d.Ud(a),this.W())}};function Nc(a,b){this.I=a;this.d=b}
Nc.prototype={I:j,d:j,toString:function(){return"Illegal combination of race ("+this.I+") and class("+this.d+")."}};function Mc(a){this.f=a}Mc.prototype={f:j};function Kc(a){this.character=a;this.D=[this.kf(),this.kf(),this.kf(),this.kf()];this.ze=[-1,-1];this.Fe=[-1,-1];this.Se=[-1,-1];this.ie=this.qd=this.Id=j}
Kc.prototype={character:j,Q:[],n:[],D:[],ze:[-1,-1],Fe:[-1,-1],Se:[-1,-1],Id:{},qd:{},ie:{},Ug:{},kf:function(){var a=Array(321);a[13]=Array(7);a[22]=Array(7);a[29]=Array(5);a[30]=Array(96);a[35]=Array(7);a[55]=Array(7);a[71]=Array(7);a[79]=Array(7);a[98]=Array(96);a[101]=Array(25);a[107]=Array(25);a[108]=Array(25);a[123]=Array(7);a[135]=Array(7);a[137]=Array(7);a[142]=Array(7);a[143]=Array(7);a[174]=Array(7);for(var b=0;7>b;b++)a[174][b]=Array(5);a[175]=Array(5);a[189]=Array(38);a[199]=Array(7);
a[212]=Array(5);a[219]=Array(5);a[220]=[];for(b=0;32>b;b++)a[220][b]=[0,0,0,0,0];a[237]=Array(7);a[238]=Array(7);a[268]=Array(5);return a},ri:function(a){if(a)for(var b=0;b<a.length;b++)"object"===typeof a[b]?this.ri(a[b]):a[b]=0},add:function(a){a&&!this.qd[a.id]&&(this.Q.push(a),this.qd[a.id]=i)},md:function(a){a&&!this.ie[a.i.id]&&(this.n.push(a),this.ie[a.i.id]=i)},Aa:function(a){return this.qd[a]||this.ie[a]?i:k},Xl:function(){var a=[],b={},c,d;c=j;this.Q=[];this.n=[];this.ri(this.D);this.qd=
{};this.ie={};this.Ug={};this.ze=[-1,-1];this.Fe=[-1,-1];this.Se=[-1,-1];this.character.ua();for(d=0;d<Tc;d++)if(c=this.character.va(d,0))if(c.ua(),16==d&&(this.ze=[c.U,c.S]),17==d&&(this.Fe=[c.U,c.S]),18==d&&(this.Se=[c.U,c.S]),c.fa!=j&&b[c.fa.id]!==i)b[c.fa.id]=i,a[a.length]=c.fa;for(d=0;d<a.length;d++)a[d].ua(this.character);this.Id={};for(d=0;d<this.Q.length;d++)this.zi(this.Q[d],1,k,k);for(d=0;d<this.n.length;d++)c=this.n[d],!c.Jd&&!this.Ug[c.i.id]&&this.zi(c.i,c.Na,i,c.om);return this.D},zi:function(a,
b,c,d){if(a&&(a.aa(this.character.f),!(79104!=a.id&&a.Dg&&0!=a.Dg.oh&&0==(a.Dg.oh&1<<(this.character.d?this.character.d.sa-1:0))||!c&&!a.wj())))if(this.Ug[a.id]=i,a.Pa!=j&&-1!=a.Pa.Ac){if(a.Pa.Ac==this.ze[0]&&a.Pa.df&1<<this.ze[1]&&this.$d(a,this.D[1],b,c,d),a.Pa.Ac==this.Fe[0]&&a.Pa.df&1<<this.Fe[1]&&this.$d(a,this.D[2],b,c,d),a.Pa.Ac==this.Se[0]&&a.Pa.df&1<<this.Se[1]&&this.$d(a,this.D[3],b,c,d),4==a.Pa.Ac){var f,g,h=i;for(f=0;32>f&&h;f++)if(a.Pa.fb&1<<f&&(g=Va[f],g=this.character.va(g,0),!g||!(g.U==
a.Pa.Ac&&a.Pa.df&1<<g.S)))h=k;h&&this.$d(a,this.D[0],b,c,d)}}else this.$d(a,this.D[0],b,c,d)},$d:function(a,b,c,d,f){var g=a.D,h=0,n,p=k;if(d&&!f)for(d=0;3>d;d++)if(g[d]!=j&&65==g[d].fe){p=i;break}for(d=0;3>d;d++)if(f=g[d],f!=j&&(h=f.id,n=f.value+a.Yl(this.character.f,d),!(p&&65!=f.fe))){switch(h){case 68368:if(this.Id[47203])continue;break;case 47203:if(this.Id[68368])continue;break;case 46325:case 68163:if(!this.kd([46325,68163]))continue;this.kd([44537,68341,68343,90962,90963])||(n-=6);break;case 44537:case 90962:case 90963:case 68341:case 68343:if(!this.kd([44537,
68341,68343,90962,90963]))continue;if(!this.kd([46325,68163]))continue;break;case 3549:case 45922:case 48552:if(!this.kd([3549,45922,48552]))continue;break;case 86186:case 97691:case 48553:if(!this.kd([86186,97691,48553]))continue}this.Id[h]=i;this.Ig(b,f.Ad,n*c,f.Yc,f.Ak,h)}},kd:function(a){for(var b in a)if(this.Id[a[b]])return k;return i},Ig:function(a,b,c,d,f,g){var h;h=this.character.d?this.character.d.sa:0;switch(g){case 81812:c=120;break;case 88002:case 88004:case 88006:if(5!=h&&8!=h)return;
b=142;d=1;break;case 8697:case 8700:case 8694:if(5!=h&&8!=h)return;b=137;f=4;break;case 8699:case 8696:case 8693:if(1!=h)return;b=166}switch(b){case 13:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 22:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 29:if(-1==d)for(h=0;5>h;h++)this.Ig(a,b,c,h,f,g);else a[b][d]+=c;break;case 30:a[b][d]+=c;break;case 35:a[b][d]+=c;break;case 55:0==d&&(d=127);for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 71:for(h=
0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 79:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 98:a[b][d]+=c;break;case 99:a[b]+=c;break;case 101:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 107:a[b][d]+=c;break;case 108:a[b][d]+=c;break;case 123:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 124:a[b]+=c;break;case 135:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 137:for(h=0;h<a[b].length;h++)if(f&
1<<h||-1==f)a[b][h]=100*((1+a[b][h]/100)*(1+c/100)-1);break;case 142:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]=100*((1+a[b][h]/100)*(1+c/100)-1));break;case 143:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]=Math.max(c,a[b][h]));break;case 174:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h][f]+=c);break;case 175:a[b][d]+=c;break;case 189:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 199:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 212:a[b][d]+=
c;break;case 219:a[b][d]+=c;break;case 220:for(h=0;32>h;h++)d&1<<h&&(a[b][h][f]+=c);break;case 237:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 238:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 240:21444==g&&this.Aa(56416)&&(c+=10);a[b]+=c;break;case 268:if(-1==d)for(h=0;5>h;h++)this.Ig(a,b,c,h,f,g);else a[b][d]+=c;break;default:a[b]+=c}}};function Lc(){this.n={};this.b=new A;this.b.g("change",["silent"]);this.b.g("remove_buff",["buff","silent"]);this.b.g("remove_stack",["buff","silent"])}var Uc;
Uc=function(a,b){fa("api/buffs.php",new r(function(c){try{var d=t(c),c={},f;for(f in d){c[f]=[];for(var g=0;g<d[f].length;g++)if("Food"===f){var h=new pa(d[f][g]);Rc(h);var n=h.ba[0]!=j&&h.ba[0].rj()?new Vc(h.name,h.t,h.ba[0].rj(),b):j;n&&c[f].push(n)}else{var p=new z(d[f][g]);pc(p);c[f].push(Wc(p,b))}}a.notify([c,j])}catch(u){a.notify([j,u])}},Lc),[])};
Lc.prototype={n:{},q:function(a){this.b.q(a)},set:function(a){this.n[a.i.id]=a;this.b.fire("change",{silent:k})},od:function(a){(a=this.n[a])&&a.od();this.b.fire("change",{silent:k})},xf:function(a,b,c){za(a,new r(function(a){this.Mi(a.id,b,i,i,c,$b)},this))},add:function(a,b){za(a,new r(function(a){this.Mi(a.id,k,k,b,k,$b)},this))},Mi:function(a,b,c,d,f,g){d=k;switch(a){case 79060:case 79062:this.gb([79060,79062])||(d=i);break;case 80353:case 32182:this.gb([80353,32182])||(d=i);break;case 79104:case 6307:case 469:this.gb([79104,
6307,469])||(d=i);break;case 79101:case 53138:case 30808:case 19506:this.gb([79101,53138,30808,19506])||(d=i);break;case 79057:case 54424:this.gb([79057,54424])||(d=i);break;case 77747:case 53646:this.gb([77747,53646])||(d=i);break;case 2895:case 49868:case 24907:this.gb([24907,49868,2895])||(d=i);break;case 53290:case 8515:case 55610:this.gb([8515,55610,53290])||(d=i);break;case 51701:case 29801:case 51470:case 24932:this.gb([51701,29801,51470,24932])||(d=i);break;case 6673:case 8076:case 57330:case 93435:this.gb([6673,
8076,57330,93435])||(d=i)}var h=Bc(a),n=[];if(h.Fc){for(var p in this.n)0!=(this.n[p].i.Fc&h.Fc)&&n.push(this.n[p].i.id);d=!this.gb(n)}d||(this.n[a]!=j&&this.n[a].Lc==(c?k:i)&&this.n[a].fd?this.n[a].od():(this.n[a]=new Zb(h,1),this.n[a].pn(b),this.n[a].qn(c?k:i),this.n[a].hn(g),this.n[a].gn(f)));this.b.fire("change",{silent:c?i:k})},rg:function(a,b){b&&(!this.n[a]||!this.n[a].Lc)?delete this.n[a]:this.Gi(a,i)},remove:function(a){this.Gi(a,k)},Gi:function(a,b){if(!(!this.n[a]||this.n[a].Zf||b&&this.n[a].Lc))if(this.n[a]&&
1<this.n[a].Na)this.n[a].Qm(),this.b.fire("remove_stack",{buff:this.n[a],silent:b?i:k});else{var c=this.n[a];delete this.n[a];this.b.fire("remove_buff",{buff:c,silent:b?i:k})}},gb:function(a){for(var b=0;b<a.length;b++){if(this.n[a[b]]&&this.n[a[b]].Zf)return k;delete this.n[a[b]]}return i},Aa:function(a){return this.n[a]?i:k}};function Jc(a){this.j=Array(19);this.fc=[0,0,0,0,0];this.character=a;this.Ue=j;for(a=0;a<this.j.length;a++)this.j[a]=[j,j,j,j,j]}var Xc=[1,2,3,16,[20,5],4,19,9,10,6,7,8,11,11,12,12,[21,17,13],[23,22,14,13,17],[28,26,25,15]],Tc=19;
Jc.prototype={j:[],ig:j,oc:0,Ie:-1,Dh:j,Ij:j,lh:k,mh:j,Ue:{},fc:[],character:j,qf:function(a){for(var b=this.j[a].length-1;0<b;b--)this.j[a][b]=this.j[a][b-1];this.j[a][0]=j},Ki:function(a,b){16==b&&!this.character.Yg()&&17==a.ra&&this.j[17][0]!=j&&this.qf(17);17==b&&!this.character.Yg()&&this.j[16][0]&&17==this.j[16][0].ra&&this.qf(16)},Ag:function(a){this.Ka();this.Ue=this.Nh();this.Rd();this.og(a)},Wj:function(a,b,c){-1<c?(this.Ij=this.j[b][0].H[c],this.j[b][0].Vi(a,c)):(this.ig=a)&&a.wg(this.character);
this.oc=b;this.Ie=c},Vh:function(a,b){if(this.j[b][0]!=j){var c=j;a!=j&&a.D[0]!=j&&a.D[0].Yc&&(c=a.D[0].Yc);this.mh=c;this.Dh=this.j[b][0].uc(c);this.oc=b;this.lh=i}},Ka:function(){if(-1<this.oc&&(-1<this.Ie&&(this.j[this.oc][0].Vi(this.Ij,this.Ie,i),this.sk()),this.lh))this.j[this.oc][0].Mm(this.mh),this.j[this.oc][0].uc(this.Dh);this.Ue&&(this.Rd(),this.og(this.Ue),this.Ue=j);this.ig=this.Dh=j;this.Ie=this.oc=-1;this.lh=k;this.mh=j},set:function(a,b){var c=k,d;if("object"==typeof Xc[a])for(d=0;d<
Xc[a].length;d++)b.ra==Xc[a][d]&&(c=i);else b.ra==Xc[a]&&(c=i);b.Zh(this.character.f);this.character.Hf(b)||e(new Dc(b,Fc));this.character.Sf(b)||e(new Dc(b,Ec));this.Li(b,a)&&(this.Ki(b,a),c&&(this.qf(a),(this.j[a][0]=b)&&b.wg(this.character)));return c},ki:function(a){var b,c,d,f;for(b=0;b<this.j.length;b++)if(d=this.j[b][0],d!=j)for(c=0;c<d.H.length;c++)if(f=d.H[c],f!=j&&f.id==a)return k;return i},Li:function(a,b){var c;if(a.pm()||a.Aj()==i)for(c=0;c<this.j.length;c++)c!=b&&this.j[c][0]!=j&&a.id==
this.j[c][0].id&&e(new Dc(a,Gc));return i},remove:function(a){this.j[a][0]!=j&&this.qf(a)},zn:function(a,b){if(this.Li(this.j[a][b],a)){this.Ki(this.j[a][b],a);var c=this.j[a][0];this.j[a][0]=this.j[a][b];this.j[a][b]=c}},get:function(a){return this.oc==a&&-1==this.Ie&&this.ig!=j?this.ig:0<=a&&a<this.j.length?this.j[a][0]:j},ph:function(a){for(var b=0,c=j,d=0;19>d;d++)c=this.get(d),c!=j&&c.fa!=j&&c.fa.id==a&&b++;return b},sk:function(){var a=j,b=j,b=-1;this.fc=[0,0,0,0,0];for(var c=0;19>c;c++)if(a=
this.get(c))for(var d=0;3>d;d++)if(b=a.H[d])b=b.S,6==b&&this.fc[1]++,(0==b||3==b||5==b||8==b)&&this.fc[2]++,(2==b||4==b||5==b||8==b)&&this.fc[3]++,(1==b||3==b||4==b||8==b)&&this.fc[4]++},Ph:function(a){var b,c;for(b=0;b<this.j.length;b++)if(this.j[b][0]!=j)for(c=0;3>c;c++)this.j[b][0].H[c]&&this.j[b][0].H[c].id==a&&this.j[b][0].vc(j,c)},Rd:function(){var a;for(a=0;19>a;a++)this.j[a][0]&&this.j[a][0].restore()},og:function(a){this.Rd();for(var b in a)if(this.j[b][0])if(-1==a[b][0])this.j[b][0].restore();
else try{this.j[b][0].Te(a[b][0],a[b][1])}catch(c){e(c)}},Nh:function(){for(var a=[],b=0;19>b;b++)this.j[b][0]&&(a[b]=[this.j[b][0].ia,this.j[b][0].Z]);return a},Mh:function(a){var b=this.Nh();try{this.Rd(),this.og(a)}catch(c){this.Rd(),this.og(b),e(c)}},Te:function(a,b,c){return(a=this.j[a][0])?(a.restore(),a.Te(b,c),i):k},restore:function(a){return(a=this.j[a][0])?(a.restore(),i):k}};function ua(a){this.b=new A;this.b.g("select",["row","col"]);this.b.g("deselect",["row","col"]);this.b.g("reset",[]);this.b.g("tiers_change",["tiers"]);this.b.g("set_distribution",[]);this.id=a[0];this.z=[];for(var b=0;b<Yc;b++){this.z[b]=[j,j,j];for(var c=0;c<Zc;c++)this.z[b][c]=new Cc(a[1][b][c])}}var Yc=6,Zc=3;
ua.prototype={id:0,z:j,b:j,tc:Yc,aa:function(a){a=Math.floor(a/15);this.tc>a&&this.Ri(a);var b=this.tc;this.tc=a;b!=a&&this.b.fire("tiers_change",{tiers:a})},reset:function(){this.Ri(0);this.b.fire("reset",{})},Ri:function(a){for(;a<Yc;a++)for(var b=0;b<Zc;b++)this.z[a][b].selected=k},ua:function(a){for(var b=0;b<Yc;b++)for(var c=0;c<Zc;c++)this.z[b][c].selected&&a.add(this.z[b][c].i)},Si:function(a,b){if(this.z[a][b].selected||a+1>this.tc)return k;for(var c=0;c<a;c++){for(var d=k,f=0;f<Zc;f++)this.z[c][f].selected&&
(d=i);if(!d)return k}for(f=0;f<Zc;f++)this.z[a][f].selected&&(this.z[a][f].selected=k,this.b.fire("deselect",{row:a,col:f}));this.z[a][b].selected=i;this.b.fire("select",{row:a,col:b});return i},sl:function(a,b){if(!this.z[a][b].selected)return k;for(var c=a+1;c<Yc;c++)for(var d=0;d<Zc;d++)if(this.z[c][d].selected)return k;this.z[a][b].selected=k;this.b.fire("deselect",{row:a,col:b});return i},toggle:function(a,b){return this.z[a][b].selected?this.sl(a,b):this.Si(a,b)},q:function(a){this.b.q(a)},
Va:function(a){this.b.Va(a)},Tb:function(a){var b;this.reset();for(var c=0;c<a.length&&c<Yc;c++)b=parseInt(a.charAt(c),10),0<b&&4>b&&this.Si(c,b-1);this.b.fire("set_distribution",{})},pe:function(){for(var a="",b=0;b<Yc;b++)if(this.z[b][0].selected)a+="1";else if(this.z[b][1].selected)a+="2";else if(this.z[b][2].selected)a+="3";else break;return a}};function Ea(){this.ah=[];this.b=new A;this.b.g("character_change",["character"])}Ea.prototype={ah:[],b:j,cursor:-1,vl:function(a){this.ah.push(a);this.cursor=this.ah.length-1;this.b.fire("character_change",{character:a})}};function Pc(a,b){this.character=a;this.id=b[0];this.name=b[1];this.Ne=[];for(var c=0;c<b[2].length;c++)this.Ne[c]=new oc(b[2][c])}
Pc.prototype={id:0,character:j,name:"",Ne:[],ua:function(a){for(var b,c,d=0;d<this.Ne.length;d++)b=this.Ne[d],b.i!=j&&(c=this.character.d,(c!=j&&1<<c.id-1&b.If||0>=b.If)&&a.add(b.i))},toString:function(){return"CharacterRace ("+this.name+","+this.Ne+")"},Bj:function(a){switch(this.id){case 11:return 11!=a&&9!=a&&4!=a;case 3:return 11!=a;case 7:return 11!=a&&3!=a&&2!=a&&7!=a;case 1:return 11!=a&&7!=a;case 4:return 2!=a&&7!=a&&9!=a;case 22:return 2!=a&&7!=a;case 10:return 11!=a&&7!=a;case 9:return 11!=
a&&2!=a;case 2:return 11!=a&&5!=a;case 6:return 8!=a&&4!=a&&9!=a;case 8:return 2!=a;case 5:return 11!=a&&2!=a&&7!=a}return k}};function Qc(a){this.b=new A;this.b.g("shapeform_change",["new_shape","old_shape"]);this.b.g("presence_change",["new_presence","old_presence"]);this.b.g("glyph_added",["glyph"]);this.b.g("glyph_removed",["glyph"]);var b,c=0;this.Gb=a;this.e=[];this.f=-1;this.bd=j;this.L=[[j,j,j],[j,j,j],[j,j,j]];this.id=a[0];this.name=a[1];this.z=new ua(a[2]);this.Xi=a[3];this.Ye={};this.Jf=[];for(b=0;b<a[4].length;b++)this.Jf[b]=new oc(a[4][b]);this.Bf=[];for(c=0;c<a[5].length;c++)for(b=0;b<a[5][c].length;b++)this.Bf.push(new ac(a[5][c][b]));
if(a[6]){this.bd=[];for(b=0;b<a[6].length;b++)this.bd[b]=new qc(a[6][b]),this.Ye[this.bd[b].id]=this.bd[b]}if(a[7]){this.nc=[];for(b=0;b<a[7].length;b++)c=new z(a[7][b]),this.nc.push(c),pc(c)}if(a[9]){this.nc=[];for(b=0;b<a[9].length;b++)pc(new z(a[9][b]))}this.fh=a[8]}
Qc.prototype={b:j,id:0,name:"",f:0,sa:0,shape:j,bd:j,Ye:j,L:j,Bf:j,Af:0,z:j,mb:j,nc:j,Jf:j,Xi:j,Y:-1,ca:function(a,b){this.b.ca(a,b)},q:function(a){this.b.q(a)},Va:function(a){this.b.Va(a)},aa:function(a){this.f=a;this.z.aa(a);for(a=this.Af=25>a?0:50>a?1:75>a?2:3;3>a;a++)this.L[0][a]=j,this.L[1][a]=j,this.L[2][a]=j},ad:function(a){var b=this.shape;this.sa=a;0!=this.sa?this.Ye[this.sa]?this.shape=this.Ye[this.sa]:e(Error("Invalid shapeform")):this.shape=j;this.b.fire("shapeform_change",{new_shape:this.shape,
old_shape:b})},Ud:function(a){var b=this.mb;if(0==a)this.mb=j,this.b.fire("presence_change",{new_presence:this.mb,old_presence:b});else{for(var c=0;c<this.nc.length;c++)if(this.nc[c].id==a){this.mb=new Zb(this.nc[c],1);this.b.fire("presence_change",{new_presence:this.mb,old_presence:b});return}e(Error("Unable to set presence "+a))}},ua:function(a){var b,c;if(0!=this.sa){b=this.Ye[this.sa];for(c=0;c<b.n.length;c++)a.md(b.n[c]);for(c=0;c<b.Q.length;c++)a.add(b.Q[c])}this.mb&&a.md(this.mb);this.z.ua(a);
for(c=0;c<this.L.length;c++)for(b=0;b<this.L[c].length;b++)this.L[c][b]&&a.add(this.L[c][b].i);for(c=0;c<this.Jf.length;c++)if(b=this.Jf[c],b.i!=j){if(b.i.type[8]&1048576)switch(this.id){case 1:if(86101==b.i.id&&0!=this.Y||86110==b.i.id&&1!=this.Y||86535==b.i.id&&2!=this.Y)continue;break;case 2:if(86103==b.i.id&&0!=this.Y||86102==b.i.id&&1!=this.Y||86539==b.i.id&&2!=this.Y)continue;break;case 6:if(86537==b.i.id&&0!=this.Y||86536==b.i.id&&1!=this.Y||86113==b.i.id&&2!=this.Y)continue;break;case 7:if(86100==
b.i.id&&0!=this.Y||86099==b.i.id&&1!=this.Y||86108==b.i.id&&2!=this.Y)continue;break;case 11:if(86093==b.i.id&&0!=this.Y||86096==b.i.id&&(1!=this.Y||0==(1<<this.sa&288))||86097==b.i.id&&(1!=this.Y||0==(1<<this.sa&2))||86104==b.i.id&&2!=this.Y)continue}(1<<this.id-1&b.If||0>=b.If)&&a.add(b.i)}},wf:function(a){var b,c=-1;0==this.Af&&e(Error("Unable to add Glyph, there are no empty slots available!"));for(b=0;b<this.Af;b++)this.L[a.type][b]==j?c=-1==c?b:c:this.L[a.type][b].id==a.id&&e(Error("Unable to add Glyph, this Glyph is already in use!"));
-1==c&&e(Error("Unable to add Glyph, there are no empty slots available!"));this.L[a.type][c]=a;this.b.fire("glyph_added",{glyph:a})},Qh:function(a,b){this.L[a][b]=j;this.b.fire("glyph_removed",j)}};function Ic(a){this.character=a;this.reset();this.tf=k}l=Ic.prototype;l.character=j;l.Za=[];l.attributes=[];l.rd=[];l.zf=[];l.Gg=[];l.xd=[];l.Ze=[];l.B=[];l.J=[];l.Eb=[];l.P=[];l.i=[];l.ja=[];l.hi=[];l.ue=0;l.Ae=0;l.Wg=0;l.Ef=0;l.cf=0;l.af=0;l.ei=0;l.bf=0;l.fi=0;l.ed=0;l.mc=0;l.$e=0;l.di=0;l.sc=[];l.bg=0;l.Vf=0;l.cg=0;l.kb=0;l.Nc=0;l.pd=0;l.na=0;l.Zb=0;l.zh=0;l.Ce=0;l.Be=0;l.yb=[];l.Oc=[];l.xb=[];l.Ob=[];l.vb=[];l.ec=[];l.Ha=0;l.Ga=0;l.$a=0;l.Ta=0;l.Sa=0;l.lb=0;l.nb=0;l.Kh=0;l.Qe=0;l.lg=0;l.Oe=0;
l.Pe=0;l.Lh=0;l.Re=0;l.Me=0;l.Le=0;l.Pb=0;l.kg=0;l.Tc=0;l.me=0;l.Dc=0;l.Md=0;l.Ff=0;l.Kd=0;l.Vg=0;l.De=0;l.tf=k;
l.reset=function(){var a;this.Za=[0,0,0,0,0,0,0];this.attributes=[0,0,0,0,0];this.rd=[0,0,0,0,0];this.zf=[0,0,0,0,0];this.Gg=[0,0,0,0,0];this.xd=[0,0,0,0,0];this.Ze=[0,0,0,0,0];this.B=[];for(a=0;40>a;a++)this.B[a]=0;this.P=[0,0,0,0,0,0,0,0,0,0];this.ha=[[0,0],0,0,0,0,0,0,0];this.i=[0,0,0,0,0,0,0,0];this.ja=[0,0,0,0,0,0,0];this.Eb=[0,0,0,0,0];this.fi=this.bf=this.ei=this.af=this.cf=this.Wg=this.Ef=this.Ae=this.ue=0;this.sc=[];this.Be=this.Ce=this.zh=this.Zb=this.na=this.pd=this.cg=this.Vf=this.bg=
this.di=this.$e=this.mc=this.ed=0;this.yb=[0,0,0];this.Oc=[0,0,0];this.xb=[0,0,0];this.Ob=[0,0,0];this.Re=this.Lh=this.Pe=this.Oe=this.lg=this.Qe=this.Kh=0;this.vb=[0,0,0,0];this.ec=[0,0,0,0];for(a=this.kg=this.Pb=this.Le=this.Me=this.nb=this.De=this.Vg=this.Ff=this.Md=this.Dc=this.me=this.Tc=this.Ch=this.lb=this.Sa=this.Ta=this.Ah=this.$a=this.Ga=this.Ha=this.Nc=this.kb=0;6>a;a++)this.sc[a]=0;for(a=0;7>a;a++)this.J[a]=0;this.Kd=0;this.hi=[0,0,0,0,0,0,0,0]};
function Oc(a,b){a.tf&&e("Concurring calls of Stats::calculate");a.tf=i;a.character.u.sk();var c,d,f,g,h;g=0;var n=a.character.u,p=n.get(17)!=j&&2==n.get(17).U,u=n.get(18)!=j&&2==n.get(18).U,s=a.character.f,I=a.character.Q.Xl(k),q=I[0],W=I[1],Q=I[2],ha=I[3];f=a.character.I==j?0:a.character.I.id;var Qa=a.character.d,Ob=k,D=0,ia=0,wc=-1,Da=j,Y=j;Qa&&(Ob=i,D=Qa.id,ia=Qa.sa,wc=Qa.Y,Da=Qa.Xi,Da[s]&&(Y=Da[s]));var Da=[0,0,0,0,0],Ra=jb[D];if(11==D&&0<ia)switch(ia){case 1:Ra=kb;break;case 5:Ra=lb;break;case 31:Ra=
mb}a.reset();if(!Ob||!Y)Y=[0,0,0,0,0,0,0,0,0,0,0];a.Wg=Y[5];a.Ef=Y[6];for(c=0;5>c;c++)Da[c]=cb[f][c]+(Ob?Y[c]:0),a.rd[c]=Math.floor(Da[c]*(1+q[137][c]/100));if(1==ia||5==ia||8==ia)a.character.Q.Aa(17002)?q[49]+=2:a.character.Q.Aa(24866)&&(q[49]+=4);if(a.character.Q.Aa(48411)&&(1==ia&&(q[290]+=4),5==ia||8==ia))q[79][0]+=4;a.Vg=q[142][0]/100;for(c=0;19>c;c++)if(h=a.character.sj(c),f=b?n.get(c):n.j[c][0],!(f==j||!a.character.Hf(f)||!a.character.Sf(f))){f.Zh(s);5!=c&&6!=c&&(g++,a.Kd+=f.f);d=a;for(var E=
f,O=void 0,O=0;O<E.e.length;O++)if(E.e[O]!=j)if(50<=E.e[O][0])switch(E.e[O][0]){case 50:d.J[0]+=E.e[O][1];break;case 51:d.J[2]+=E.e[O][1];break;case 52:d.J[4]+=E.e[O][1];break;case 53:d.J[1]+=E.e[O][1];break;case 54:d.J[5]+=E.e[O][1];break;case 55:d.J[3]+=E.e[O][1];break;case 56:d.J[6]+=E.e[O][1]}else 11<=E.e[O][0]?d.B[E.e[O][0]-11]+=E.e[O][1]:d.attributes[Ua[E.e[O][0]]]+=E.e[O][1];-1!=E.Z&&-1!=E.da&&(11<=E.Z?d.B[E.Z-11]+=E.da:d.attributes[Ua[E.Z]]+=E.da);d.J[0]+=E.tb;4==E.U&&0<E.S&&(d.J[0]+=E.tb*
d.Vg);for(d=0;3>d;d++)if(f.H[d]){if(0>=f.R[d])if(h)h=k;else continue;$c(a,f.H[d].oa.ub)}f.yh()&&$c(a,f.dd);for(d=0;d<f.F.length;d++)h=f.F[d],h!=j&&$c(a,h);if(f.N){f=f.N.F;for(d=0;5>d;d++)h=f[d],h!=j&&$c(a,h)}}a.J[0]=Math.round((a.J[0]+q[22][0]+q[143][0])*(1+q[101][0]/100));for(c=1;c<a.J.length;c++)a.J[c]=Math.round((a.J[c]+q[22][c]+q[143][c])*(1+q[142][c]/100));a.Kd=0<g?a.Kd/g:0;a.hi=[0,q[133],q[132],q[137][1],q[137][0],q[137][3],q[137][4],q[137][2]];for(c=0;5>c;c++){a.attributes[c]+=q[29][c];a.attributes[c]*=
1+q[137][c]/100;a.attributes[c]+=a.rd[c];a.attributes[c]=Math.floor(a.attributes[c]);0<Ra[c]&&(a.zf[c]=a.attributes[c]>=10*Ra[c]?a.attributes[c]*(q[268][c]/100+Ra[c])-10*Ra[c]:0);for(d=0;32>d;d++)a.B[d]+=Math.floor(q[220][d][c]/100*(a.attributes[c]-Da[c]))}a.xd[1]+=100*db[D]+a.attributes[1]*Y[7];a.Ze[3]+=100*eb[D]+a.attributes[3]*Y[8];a.vb[0]=a.B[26];for(c=0;4>c;c++)a.vb[c]+=I[c][189][23],a.ec[c]+=a.vb[c]/G[23][s-1]+I[c][240],0<c&&(a.ec[c]+=a.ec[0],a.vb[c]+=a.vb[0]);80<=s&&(a.kb=a.B[38]+q[189][25],
a.Nc=1==D&&1==Qa.Y?2+a.kb/G[25][s-1]:8==D&&2==Qa.Y?2+a.kb/G[25][s-1]:8+a.kb/G[25][s-1]);a.Vf=(80>s?10:10+0.8*(s-80))*Math.max(0,a.attributes[2]-20)+(20<=a.attributes[2]?20:a.attributes[2]);a.ue=a.Vf+a.Wg*(1+q[282]/100)+q[34]+q[230];a.ue*=1+q[133]/100;a.bg=15*Math.max(0,a.attributes[3]-20)+(20<=a.attributes[3]?20:a.attributes[3]);a.Ae=a.bg+a.Ef+q[35][0];a.Ae*=1+q[132]/100;a.Ce=a.B[17]+a.B[25]+q[189][17];a.Be=a.Ce/G[17][s-1];a.Qe=a.B[18]+a.B[25]+q[189][18];a.lg=a.Qe/G[18][s-1];a.Zb=q[99]+a.B[27]+(0!=
q[285]?a.J[0]/q[285]:0);a.na+=a.Zb;a.pd+=q[166];a.na+=tb[D]*s;for(c=0;5>c;c++)a.na+=a.zf[c];a.Zb*=1+a.pd/100;a.na*=1+a.pd/100;a.nb=q[124]+a.B[27]+gb[D]*a.attributes[1]+hb[D]*s+ib[D];for(c=0;5>c;c++)a.nb+=a.attributes[c]*(q[212][c]/100);a.nb*=1+q[167]/100;a.yb[0]=a.B[5]+a.B[20];a.xb[0]=a.B[8]+a.B[21];for(d=0;d<a.attributes.length;d++)a.Ob[0]+=a.xd[d];for(c=0;3>c;c++)a.yb[c]+=I[c][189][5]+I[c][189][20],a.Oc[c]+=a.yb[c]/G[5][s-1]+I[c][54],a.xb[c]+=I[c][189][8]+I[c][189][21],a.Ob[c]+=a.xb[c]/G[8][s-1]+
I[c][52]+I[c][290]+I[c][71][0],0<c&&(a.Oc[c]+=a.Oc[0],a.yb[c]+=a.yb[0],a.Ob[c]+=a.Ob[0],a.xb[c]+=a.xb[0]);a.Re=a.B[6]+a.B[20];a.Lh=a.Re/G[6][s-1]+q[54]+ha[54];a.Pe=a.B[9]+a.B[21];a.Oe=a.Pe/G[9][s-1]+q[290]+q[71][0]+q[52]+ha[290]+ha[71][0]+ha[52];for(d=0;d<a.attributes.length;d++)a.Oe+=a.xd[d];if(11==D&&5==ia){if(a.$a=2500,g=n.get(16))a.Ha=2500*g.lc/g.delay,a.Ga=2500*g.kc/g.delay}else if(11==D&&1==ia){if(a.$a=1E3,g=n.get(16))a.Ha=1E3*g.lc/g.delay,a.Ga=1E3*g.kc/g.delay}else(g=n.get(16))?(a.$a=g.delay,
a.Ha=g.lc,a.Ga=g.kc):(a.$a=2E3,a.Ha=22.6,a.Ga=22.6);a.Ha+=a.na/14*a.$a/1E3;a.Ga+=a.na/14*a.$a/1E3;a.$a/=(1+a.Be/100)*(1+q[138]/100+W[138]/100)*(1+q[319]/100+W[319]/100)*(1+q[192]/100+W[192]/100)*(1+q[193]/100+W[193]/100);a.zh=100*((1+a.Be/100)*(1+q[138]/100)*(1+q[319]/100)*(1+q[192]/100)*(1+q[193]/100)-1);a.Ha+=q[13][0]+W[13][0];a.Ga+=q[13][0]+W[13][0];a.Ha*=1+(q[79][0]+W[79][0])/100;a.Ga*=1+(q[79][0]+W[79][0])/100;a.Ah=500*(a.Ha+a.Ga)/a.$a;p&&(g=n.get(17),a.lb=g.delay,a.Ta=g.lc+a.na/14*a.lb/1E3,
a.Sa=g.kc+a.na/14*a.lb/1E3,a.lb/=(1+a.Be/100)*(1+q[138]/100+Q[138]/100)*(1+q[319]/100+Q[319]/100)*(1+q[192]/100+Q[192]/100)*(1+q[193]/100+Q[193]/100),a.Ta+=q[13][0]+Q[13][0],a.Sa+=q[13][0]+Q[13][0],a.Ta*=1+(q[79][0]+Q[79][0])/100,a.Ta*=1+(q[122]+Q[122])/100,a.Ta>>=1,a.Sa*=1+(q[79][0]+Q[79][0])/100,a.Sa*=1+(q[122]+Q[122])/100,a.Sa>>=1,a.Ch=500*(a.Ta+a.Sa)/a.lb);u&&(g=n.get(18),a.Pb=g.delay,a.Me=g.lc+a.nb/14*a.Pb/1E3+q[13][0]+ha[13][0],a.Le=g.kc+a.nb/14*a.Pb/1E3+q[13][0]+ha[13][0],a.Pb/=(1+a.lg/100)*
(1+(q[140]+ha[140])/100)*(1+(q[141]+ha[141])/100)*(1+(q[320]+ha[320])/100)*(1+(q[192]+ha[192])/100)*(1+(q[193]+ha[193])/100),a.kg=500*(a.Me+a.Le)/a.Pb);a.Kh=100*((1+a.lg/100)*(1+q[140]/100)*(1+q[141]/100)*(1+q[320]/100)*(1+q[192]/100)*(1+q[193]/100)-1);a.Gg[3]=Math.max(0,a.attributes[3]-10);a.cf=a.Gg[3]+a.B[34]+q[238][1]/100*a.na+q[135][1];a.cf*=1+q[317]/100;a.af=a.B[19]+a.B[25]+q[189][19];a.ei=100*((1+a.af/G[19][s-1]/100)*(1+q[65]/100)*(1+q[193]/100)-1);a.bf=a.B[7]+a.B[20]+q[189][7]+q[189][20];a.fi=
a.bf/G[7][s-1]+Math.min(q[55][1],q[55][2],q[55][3],q[55][4],q[55][5],q[55][6]);a.$e=a.B[10]+a.B[21]+q[189][10]+q[189][21];a.di=a.Ze[3]+a.$e/G[10][s-1]+q[57]+q[290]+Math.max(W[57],Q[57]);for(c=0;6>c;c++)a.sc[c]=Math.abs(a.B[36])+Math.abs(q[123][c]);if(a.character.tj()){a.cg=5*(0.0010+Math.sqrt(a.attributes[3])*a.attributes[4]*xb[s-1]);a.ed=a.cg;a.mc=q[85]+a.B[32]+a.ed*(q[134]/100);for(c=0;5>c;c++)a.mc+=q[219][c]/100*a.attributes[c]}else a.mc=0,a.ed=0;a.ed+=Y[10];a.mc+=Y[10];0!=(1<<D&134)&&(a.Ff=5+
q[51]+(2==D&&1==wc?2.25*a.Nc:0)+(1==D&&2==wc?1.5*a.Nc:0)+(a.B[4]+q[189][4])/G[4][s-1]);a.me=a.B[2]+q[189][2];if(Ob){if(a.Dc=2==D||1==D||6==D?q[49]+5+1/(ub[D-1]/(a.me/G[2][s-1]+Y[9])+(wb[D-1]?1/wb[D-1]:0)):q[49]+fb[D]+a.rd[1]*Y[9]+1/(ub[D-1]/(a.me/G[2][s-1]+Y[9]*(a.attributes[1]-a.rd[1]))+(wb[D-1]?1/wb[D-1]:0)),0!=(1<<D&94)){a.Tc=a.B[3]+q[189][3];switch(D){case 1:case 2:case 6:a.Tc+=0.27*(a.attributes[0]-Da[0])}a.Md=5+q[47]+1/(ub[D-1]/(a.Tc/G[3][s-1])+(vb[D-1]?1/vb[D-1]:0))}}else a.Dc=q[49]+a.me/G[2][s-
1];a.Qj=a.B[24]+Math.min(a.B[14]+q[189][14],a.B[15]+q[189][15],a.B[16]+q[189][16]);a.Xm=1-Math.pow(0.99,a.Qj/G[15][s-1]);a.De=5-I[0][184]-I[1][184]-I[2][184]-I[3][184];a.Za[0]=a.ue;a.Za[1]=a.Ae;a.Za[2]=100;a.Za[3]=100+q[35][3]+Math.min(W[35][3],Q[35][3]);a.Za[4]=100;a.Za[5]=Math.floor(100+q[35][6]/10);a.Za[6]=a.Kd;a.P[0]=[[Math.floor(a.Ha),Math.ceil(a.Ga)],p?[Math.floor(a.Ta),Math.ceil(a.Sa)]:j];a.P[1]=[a.Ah,p?a.Ch:j];a.P[2]=a.na;a.P[3]=[a.$a,p?a.lb:j];a.P[4]=a.zh;a.P[5]=a.Oc[1];a.P[6]=a.Ob[1];a.P[7]=
[Math.floor(a.ec[1]),p?Math.floor(a.ec[2]):j];a.P[8]=a.Nc;u?(a.ha[0]=[Math.floor(a.Me),Math.ceil(a.Le)],a.ha[1]=a.kg,a.ha[3]=a.Pb):(a.ha[0]=[-1,-1],a.ha[1]=-1,a.ha[3]=-1);a.ha[2]=a.nb;a.ha[4]=a.Kh;a.ha[5]=a.Lh;a.ha[6]=a.Oe;a.ha[7]=a.Nc;a.i[0]=a.cf;a.i[1]=a.ei;a.i[2]=a.fi;a.i[3]=Math.min(a.sc[1],a.sc[2],a.sc[3],a.sc[4],a.sc[5]);a.i[4]=a.ed;a.i[5]=a.mc;a.i[6]=a.di;a.i[7]=a.Nc;a.ja[0]=a.J[0];a.ja[1]=a.Dc;a.ja[2]=a.Md;a.ja[3]=a.Ff;a.ja[4]=a.Qj;a.ja[5]=a.De+a.Dc+a.Md;a.ja[6]=a.De+a.Dc+a.Ff+a.Md;a.Eb[0]=
a.J[6];a.Eb[1]=a.J[2];a.Eb[2]=a.J[3];a.Eb[3]=a.J[4];a.Eb[4]=a.J[5];a.tf=k}function $c(a,b){var c;if(b.Aa(a.character))for(c=0;c<b.types.length;c++)5==b.types[c]?11<=b.Ma[c]?a.B[b.Ma[c]-11]+=b.Wb[c]:a.attributes[Ua[b.Ma[c]]]+=b.Wb[c]:4==b.types[c]&&(a.J[b.Ma[c]]+=b.Wb[c])};var ya,Rc,ad;(function(){function a(a,b){if(a!=j){var f=new pa(a);Rc(f);b.notify([f])}}var b={};ad=function(a){return b[a]};Rc=function(a){b[a.id]=a.clone()};ya=function(b,d){var f=ad(b);f?d.notify([f]):Ka("api/item.php?"+F({id:b}),new r(a,this),[d],k)}})();var za,pc,Bc;(function(){function a(a,b){if(a!=j){var f=new z(a);pc(f);b.notify([f])}}var b={};Bc=function(a){return b[a]};pc=function(a){b[a.id]=a.clone()};za=function(b,d){var f=Bc(b);f?d.notify([f]):Ka("api/spell.php?"+F({id:b}),new r(a,this),[d],k)}})();function bd(a,b){this.yc=new w("class_change,race_change,level_change,item_change,profession_change,profession_level_change,character_loaded,stats_change,preview_stats_change,buffs_change,shapeform_change,presence_change".split(","),new r(function(a){a.is("class_change")?this.rk(a.get("class")):a.is("race_change")?this.vk(a.get("race")):a.is("level_change")?this.ff(a.get("level")):a.is("item_change")?this.yk(a.get("slot")):a.is("profession_change")?this.gf():a.is("profession_level_change")?this.gf():
a.is("character_loaded")?this.ic():a.is("stats_change")?this.zk(a.get("stats")):a.is("buffs_change")?this.qk():a.is("preview_stats_change")?this.Fn(a.get("previewStats")):a.is("shapeform_change")?this.xk():a.is("presence_change")?this.uk():e(Error("Unhandled event: "+a.event))},this));a.q(this.yc);this.ai=new w("race_select,class_select,level_select,profession_select,profession_level_select,stat_tooltip_show,stat_tooltip_hide,item_left_click,item_right_click,item_tooltip_show,item_tooltip_hide,select_shape,select_presence,remove_buff,add_stack".split(","),
new r(function(b){if(b.is("race_select")){Yb.Tl(b.get("race_id"),new r(this.kl,this));m.la()}else if(b.is("class_select")){Yb.Rl(b.get("class_id"),new r(this.jl,this));m.la()}else if(b.is("level_select"))try{this.character.aa(b.get("level"))}catch(d){d instanceof Mc?m.C(d.toString()):ca(d)}else if(b.is("profession_select"))this.character.Xj(b.get("index"),b.get("id"));else if(b.is("profession_level_select"))this.character.mn(b.get("index"),b.get("level"));else if(b.is("stat_tooltip_show")){var f=
cd(this.character,b.get("group"),b.get("index"));f&&m.hk(f,b.get("node"))}else if(b.is("stat_tooltip_hide"))m.hide();else if(b.is("item_left_click"))if(b.get("index")>0&&this.character.va(b.get("slot"),b.get("index"))!=j){this.character.An(b.get("slot"),b.get("index"));this.sheet.uj(b.get("slot"),b.get("index"))}else this.sheet.an(b.get("slot"));else if(b.is("item_right_click")){if(b.get("index")==0){this.character.removeItem(b.get("slot"));this.sheet.uj(b.get("slot"),b.get("index"))}}else if(b.is("item_tooltip_show"))(f=
this.character.va(b.get("slot"),b.get("index")))&&b.get("index")>0&&this.character.Wh(b.get("slot"),f);else if(b.is("item_tooltip_hide"))b.get("index")>0&&this.character.Rh();else if(b.is("select_shape"))this.character.ad(b.get("shape_id"));else if(b.is("select_presence"))this.character.Ud(b.get("presence_id"));else if(b.is("remove_buff")){b=b.get("id");a.Lm(b);a.mm(b)||m.hide()}else b.is("add_stack")?a.od(b.get("id")):e(Error("Unhandled event: "+b.event))},this));b.q(this.ai);this.sheet=b;this.character=
a;this.ic()}
bd.prototype={sheet:j,character:j,ai:j,yc:j,kl:function(a){var b=this.character.d==j?-1:this.character.d.id;this.character.Yj(new Pc(this.character,a));a=this.character.d==j?-1:this.character.d.id;b!=a||-1==a?this.sheet.Jh.ck():m.enable()},jl:function(a){this.character.xg(new Qc(a));m.enable()},detach:function(){this.character.Va(this.yc);this.sheet.Va(this.ai)},ic:function(){this.gf();this.zk(this.character.e);this.vk();this.rk();this.pi();this.ff();this.qk()},rk:function(){this.sheet.ik(this.character.d==j?
-1:this.character.d.id);this.sheet.En(this.character.rh(),S);this.character.d!=j?this.sheet.La[18].$h(i):this.sheet.La[18].$h(k);this.xk();this.uk();this.wk();this.pi();this.ff()},xk:function(){if(this.character.d!=j){var a=[],b;for(b in this.character.d.bd){var c=this.character.d.bd[b];a.push(new dd(c.id,c.n[0].i.t,c.n[0].i.wb(this.character).join("<br />")))}this.sheet.Xe.update(a,this.character.d.sa)}else this.sheet.Xe.update(j,0)},uk:function(){if(this.character.d!=j){var a=[],b;for(b in this.character.d.nc){var c=
this.character.d.nc[b];a.push(new ed(c.id,c.t,c.wb(this.character).join("<br />")))}this.sheet.He.update(a,this.character.d.mb?this.character.d.mb.i.id:0)}else this.sheet.He.update(j,0)},vk:function(){this.wk()},ff:function(){this.sheet.ff(this.character.f);this.pi()},wk:function(){this.sheet.Jh.update(this.character.I==j?-1:this.character.I.id,this.character.d==j?-1:this.character.d.id)},gf:function(){for(var a=[],b=0;2>b;b++){var c=this.character.ga[b];c==j?a.push(j):a.push(new fd(c.id,c.f))}this.sheet.gf(a,
this.character.f)},yk:function(a){for(var b=[],c,d=0;5>d;d++)c=this.character.va(a,d),c==j?b.push(j):b.push(new gd(this.character,c,a));this.sheet.La[a].update(b)},pi:function(){for(var a=0;19>a;a++)this.yk(a)},zk:function(a){var b;b=this.character.d;this.sheet.e[T][1].c.style.display=b!=j&&0==(1<<b.id&90)?"block":"none";this.sheet.e[T][2].c.style.display=b!=j&&(1==b.id||11==b.id&&5==b.sa)?"block":"none";this.sheet.e[T][3].c.style.display=b!=j&&(4==b.id||11==b.id&&1==b.sa)?"block":"none";this.sheet.e[T][4].c.style.display=
b!=j&&3==b.id?"block":"none";this.sheet.e[T][5].c.style.display=b!=j&&6==b.id?"block":"none";for(b=0;b<this.sheet.e[T].length;b++)this.sheet.e[T][b].V(a.Za[b]);for(b=0;b<this.sheet.e[hd].length;b++)this.sheet.e[hd][b].V(a.attributes[b]);for(b=0;b<this.sheet.e[id].length;b++)this.sheet.e[id][b].V(a.Eb[b]);for(b=0;b<this.sheet.e[jd].length;b++)this.sheet.e[jd][b].V(a.i[b]);for(b=0;b<this.sheet.e[kd].length;b++)this.sheet.e[kd][b].V(a.ja[b]);for(b=0;b<this.sheet.e[ld].length;b++)this.sheet.e[ld][b].V(a.P[b]);
for(b=0;b<this.sheet.e[md].length;b++)this.sheet.e[md][b].V(a.ha[b])},Fn:function(a){if(a==j)this.Rb();else{var b;for(b=0;b<this.sheet.e[T].length;b++)this.sheet.e[T][b].$c(a.Za[b]);for(b=0;b<this.sheet.e[hd].length;b++)this.sheet.e[hd][b].$c(a.attributes[b]);for(b=0;b<this.sheet.e[id].length;b++)this.sheet.e[id][b].$c(a.Eb[b]);for(b=0;b<this.sheet.e[jd].length;b++)this.sheet.e[jd][b].$c(a.i[b]);for(b=0;b<this.sheet.e[kd].length;b++)this.sheet.e[kd][b].$c(a.ja[b]);for(b=0;b<this.sheet.e[ld].length;b++)this.sheet.e[ld][b].$c(a.P[b]);
for(b=0;b<this.sheet.e[md].length;b++)this.sheet.e[md][b].$c(a.ha[b])}},Rb:function(){var a,b;for(a=0;a<this.sheet.e.length;a++)for(b=0;b<this.sheet.e[a].length;b++)this.sheet.e[a][b].Vm()},qk:function(){var a=this.character.n.n,b=[],c;for(c in a)b.push(new nd(a[c],this.character));this.sheet.he.update(b)}};function Ca(a,b){this.l=a;this.r=b;this.Fg=new od(this.r.qb,this);this.Rf=new pd(this.r.dc,this);this.Xg=new qd(this.r.$b,this);this.pg=new rd(this.r.Vc,this);new sd(this.r.Xc,this);this.th=new td(this.r.Kc,this);this.te=new ud(this.r.Ic,this);this.$f=new vd(this);this.Bg=new wd(this);this.yc=new w("class_change,gem_change,random_enchant_change,talents_select,talents_deselect,talents_reset,talents_set_distribution,character_loaded,item_change,talents_tiers_change,reforge_change,glyph_removed,glyph_added".split(","),
new r(this.rl,this));this.r.Ca.q(new w(["item_left_click"],new r(function(a){a.is("item_left_click")&&0==a.get("index")&&(this.v=a.get("slot"),!this.G.va(this.v,0)&&this.Cc!=xd?this.r.Mf.show(xd):this.oi())},this)));b.Wa.q(new w(["click","reset"],new r(function(a){var b=this.G;a.is("click")?b.Cn(a.get("row"),a.get("col")):a.is("reset")?b.Wm():e(Error("Unhandled event "+a.event))},this)));this.Ba=(new la).Ba;this.Ba.set("ismine.eq.1;",j,j,1);this.r.b.q(new w(["tab_change","csfolder_tab_change"],new r(function(a){a.is("tab_change")?
(this.Jc=a.get("newTab"),this.Jc==Fa?this.tk():this.Jc==yd&&(a=this.l.We.profile.ProfileInfo,this.r.Xc.update(a&&0!=a.ID&&a.UserID==this.l.We.userId))):a.is("csfolder_tab_change")?(this.Cc=a.get("newTab"),this.oi()):e(Error("Unhandled event "+a.event))},this)));this.l.q(new w(["character_change","logged_in","logged_out"],new r(function(a){a.is("character_change")?this.Vk(a.get("character")):a.is("logged_in")?this.th.hf():a.is("logged_out")&&this.th.hf()},this)));b.lm(this.$f.qh(),this.Ba.r,this.Bg.qh())}
Ca.prototype={r:j,l:j,Ba:j,v:-1,Hb:-1,vf:j,Jc:0,Cc:0,yc:j,G:j,Rf:j,Fg:j,Xg:j,pg:j,th:j,te:j,$f:j,Bg:j,Vk:function(a){this.G&&(this.vf.detach(),this.G.Va(this.yc));this.G=a;this.vf=new bd(a,this.r.Ca);this.Ti(a.d);a.q(this.yc)},Ti:function(a){var b=a!=j?"usablebyclass.eq."+(1<<a.id-1)+";":"usablebyclass.eq.0;";this.$f.Db("usablebyclass",b);this.Bg.Db("usablebyclass",b);a!=j?(a=this.G,this.r.Wa.ic(Math.floor(a.f/15),a.dm())):this.r.Wa.ic(j);this.Xg.xe=k;this.te.update();this.oi()},tk:function(){this.r.Fh.update(new zd(this.G))},
oi:function(){switch(this.Cc){case xd:if(-1==this.v)break;this.$f.update();break;case Ad:if(-1==this.v)break;this.Fg.update();break;case Bd:if(-1==this.v)break;this.Rf.update();break;case Cd:if(-1==this.v)break;this.pg.update();break;case Dd:this.Bg.update();break;case Ed:this.Xg.update()}},rl:function(a){if(a.is("talents_select"))this.r.Wa.select(a.get("row"),a.get("col")),this.r.Wa.Tb(this.G.d.id,this.G.Uf());else if(a.is("talents_deselect"))this.r.Wa.Pf(a.get("row"),a.get("col")),this.r.Wa.Tb(this.G.d.id,
this.G.Uf());else if(a.is("talents_tiers_change"))this.r.Wa.dn(a.get("tiers")),this.r.Wa.Tb(this.G.d.id,this.G.Uf());else if(a.is("talents_reset"))this.r.Wa.reset();else if(a.is("talents_set_distribution"))this.r.Wa.Tb(this.G.d.id,this.G.Uf());else if(a.is("class_change"))this.Ti(a.get("class"));else if(a.is("character_loaded"))this.te.update();else if(a.is("gem_change"))this.Jc==Fd&&this.Cc==Ad&&this.Fg.update();else if(a.is("item_change")){if(a.get("slot")==this.v)switch(this.Jc){case Fa:this.tk();
break;case Fd:switch(this.Cc){case Ad:this.Fg.update();break;case Cd:this.pg.update();break;case Bd:this.Rf.update()}}}else a.is("reforge_change")?this.Jc==Fd&&this.Cc==Cd&&this.pg.update():a.is("random_enchant_change")?this.Jc==Fd&&this.Cc==Bd&&this.Rf.update():a.is("glyph_removed")?this.te.update():a.is("glyph_added")?this.te.update():e(Error("Unhandled event: "+a.event))}};function od(a,b){this.qb=a;this.l=b;this.Ya=new na;this.Ya.q(new w(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new r(this.Ol,this)));this.qb.q(new w(["socket_used_gem","socket_left_click","socket_right_click","used_gem_tooltip_show","used_gem_tooltip_hide"],new r(this.wn,this)));this.qb.Xh(this.Ya.r.c);this.Ya.r.show(i)}
od.prototype={Hb:-1,Ya:j,qb:j,l:j,wn:function(a){var b=this.l.G,c;a.is("socket_left_click")?(c=b.va(this.l.v,0),this.Hb=a.get("socket"),c!=j&&(a=1==c.R[this.Hb]?64:2==c.R[this.Hb]?297:4==c.R[this.Hb]?308:8==c.R[this.Hb]?282:32==c.R[this.Hb]?1024:319,Gd(this.Ya,0,3,a),this.Ya.A.O("usablebyclass",i),this.Ya.A.O("issocketablegem",i),this.Ya.A.O("gemreqitemlvl",i),this.Ya.A.O("class",i),this.Ya.set((b.d!=j?"usablebyclass.eq."+(1<<b.d.id-1)+";":"")+"issocketablegem.eq.1;class.eq.3;subclass.ba."+a+";gemreqitemlvl.le."+
c.f+";",j,j,1),this.Ya.update(),this.qb.Th(this.Hb))):a.is("socket_right_click")?b.Ph(this.l.v,a.get("socket")):a.is("used_gem_tooltip_show")?b.Uj(this.l.v,a.get("socket"),ad(a.get("gemId"))):a.is("used_gem_tooltip_hide")?b.Mj():a.is("socket_used_gem")?b.vc(this.l.v,a.get("socket"),ad(a.get("gemId"))):e(Error("Unhandled event "+a.event))},Ol:function(a){var b=this.l.G;if(a.is("show_tooltip"))m.eb(qa(a.get("entity"),b)),b.Uj(this.l.v,this.Hb,a.get("entity"));else if(a.is("move_tooltip"))m.move();else if(a.is("hide_tooltip"))m.hide(),
this.l.G.Mj();else if(a.is("click")){if(b&&-1!=this.l.v&&b.va(this.l.v)!=j)try{b.vc(this.l.v,this.Hb,a.get("entity").clone())}catch(c){c instanceof Dc?m.C(c):ca(c)}}else a.is("update")&&(new Hd("api/items.php")).update(this.Ya)},update:function(){if(-1!=this.l.v){var a=this.l.G,b=a.va(this.l.v,0);this.l.v!=this.qb.v&&this.qb.Th(-1);this.qb.update(b==j?j:new gd(a,b,this.v),this.tl())}},tl:function(){for(var a={},b,c,d=this.l.G,f=0;f<Tc;f++)if(b=d.va(f,0),b!=j)for(var g=0;3>g;g++)(c=b.H[g])&&(a[c.id]=
new Id(d,c));return a}};function pd(a,b){this.dc=a;this.l=b;this.Oa=new Jd;this.dc.b.q(new w(["change"],new r(this.Ml,this)));this.Oa.q(new w(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new r(this.Nl,this)));this.dc.Xh(this.Oa.r.c)}
pd.prototype={dc:j,l:j,Oa:j,Ml:function(a){a.is("change")?this.l.G.kn(this.l.v,a.get("randomEnchantmentId")):e(Error("Unhandled event "+a.event))},Nl:function(a){var b=this.l.G;a.is("show_tooltip")?(m.eb(ra(a.get("entity"),b)),b.Vh(this.l.v,a.get("entity"))):a.is("move_tooltip")?m.move():a.is("hide_tooltip")?(m.hide(),b.Nm()):a.is("click")?b&&-1!=this.l.v&&b.va(this.l.v)!=j&&b.uc(this.l.v,a.get("entity").D[0].Yc):a.is("update")&&(new Hd("api/spells.php")).update(this.Oa)},update:function(){this.Oa.r.show(k);
if(-1!=this.l.v){var a=this.l.G,b=a.va(this.l.v,0);this.dc.update(b==j?j:new gd(a,b,this.l.v));b!=j&&(this.Oa.A.O("isenchant",i),this.Oa.A.O("itemclasssubclasscombined",i),this.Oa.A.O("slot",i),this.Oa.A.O("enchantitemlevel",i),this.Oa.A.O("enchantchrlevel",i),this.Oa.set("isenchant.eq.1;itemclasssubclasscombined.eq."+b.U+"."+b.S+";slot.ba."+(1<<b.ra)+";enchantitemlevel.le."+b.f+";enchantchrlevel.le."+a.f+";",j,j,1),this.Oa.update(),this.Oa.r.show(i))}}};function qd(a,b){this.$b=a;this.l=b;this.$b.b.q(new w(["add_buff"],new r(this.Bl,this)))}
qd.prototype={$b:j,l:j,xe:k,update:function(){var a=this.l.G;this.xe||(Uc(new r(function(a,b){b!=j?m.C(b):this.$b.we(a)},this),a),this.xe=i);var b,c,d,f,g=[],h=[],n,p;for(c=0;19>c;c++)if(f=a.u.get(c)){for(d=0;d<f.ba.length;d++)if(n=f.ba[d],n!=j){for(b=0;3>b;b++)if((p=n.D[b])&&42==p.Ad)(p=p.$l())&&g.push(new Kd(p,a));n.wj()||h.push(new Kd(n,a))}for(d=0;d<f.F.length;d++)b=f.F[d],1==b.types[0]&&g.push(new Kd(b.ba[0],a))}d=[];if(a.d!=j&&a.d.fh!=j)for(c=0;c<a.d.fh.length;c++)f=a.d.fh[c],a.Q.qd[f[1]]&&
d.push(Wc(new z(f[0]),a));this.$b.update(h,g,d)},Bl:function(a){if(a.is("add_buff")){var b=a.get("id");za(b,new r(function(a){var d=this.l.G;try{a.D[0]&&(23==a.D[0].Ad||42==a.D[0].Ad)&&0<a.D[0].Nd?d.md(a.D[0].Nd):d.md(b)}catch(f){m.C(f)}},this))}}};function rd(a,b){this.Vc=a;this.l=b;this.Vc.b.q(new w("wowreforge_export,reforge,restore,remove_reforge_preview,reforge_preview,reforge_all,restore_all,reforge_item_preview,remove_reforge_item_preview".split(","),new r(this.Jm,this)))}
rd.prototype={Vc:j,l:j,Jm:function(a){var b=this.l.G;a.is("reforge")?b.Km(this.l.v,a.get("reduce"),a.get("add")):a.is("restore")?b.Zm(this.l.v):a.is("reforge_item_preview")?b.nn(this.l.v,a.get("reduce"),a.get("add")):a.is("remove_reforge_item_preview")?b.Om():a.is("reforge_preview")?b.Ag(a.get("reforge_array")):a.is("remove_reforge_preview")?b.Pm():a.is("restore_all")?b.Ym():a.is("reforge_all")?b.Mh(a.get("reforge_array")):a.is("wowreforge_export")&&(a=b.Bn(),b=document.createElement("form"),b.method=
"POST",b.action="http://wowreforge.com/Profiles/Import",b.name="wowreforge_export",b.target="_blank",b.id="wowreforge_export",b.style.display="none",y(b,"input",{type:"hidden",name:"profile",value:a}),y(b,"input",{type:"hidden",name:"metadata",value:'{"BasedOn" : null,"CanUpdate" : false,"Data" : null,"Origin" : "chardev.org","SourceLink" : null}'}),document.body.appendChild(b),document.getElementById("wowreforge_export").submit(),document.body.removeChild(b))},update:function(){var a=this.l.G,b=
j;-1!=this.l.v&&(b=a.va(this.l.v,0));this.Vc.update(b==j?j:new gd(a,b,this.l.v))}};function sd(a,b){this.Xc=a;this.l=b;this.Xc.q(new w(["save","update"],new r(this.$m,this)))}
sd.prototype={Xc:j,l:j,$m:function(a){if(a.is("save"))try{var b=this.l.G;b.Vj(a.get("name"));b.en(a.get("desc"));Xb.Dk(0,b,new r(function(a,b){b!=j?m.C(b):m.ek("Your profile was saved.<br /><a class='tt_profile_link' href='"+escape(ja()+a)+"' target='_blank'>Click here</a> to view it.")},this));m.la()}catch(c){m.C(c)}else if(a.is("update"))try{b=this.l.G,Xb.Dk(this.l.We.profile.ProfileInfo.ID,b,new r(function(a,b){b!=j?m.C(b):m.ek("The profile was updated.")},this)),m.la()}catch(d){m.C(d)}}};function td(a,b){this.Kc=a;this.l=b;this.Kc.q(new w(["import"],new r(this.km,this)));this.hf()}td.prototype={Kc:j,l:j,km:function(a){if(a.is("import"))try{Xb.Hm(a.get("name"),a.get("realm"),a.get("region"),new r(function(a,b){b!=j?m.C(b):(this.l.G.load(a),this.l.r.show(Fd),m.enable())},this)),m.la()}catch(b){m.C(b)}},hf:function(){var a=this.l.We;this.Kc.hf(a.userData&&a.userData.battlenet_profiles?a.userData.battlenet_profiles:j)}};function ud(a,b){this.Ic=a;this.l=b;this.Ic.b.q(new w(["add_glyph","remove_glyph"],new r(this.em,this)))}ud.prototype={Ic:j,l:j,em:function(a){var b=this.l.G;if(a.is("add_glyph"))try{b.wf(a.get("glyph").rb)}catch(c){m.C(c)}else a.is("remove_glyph")&&b.Qh(a.get("glyph").rb)},update:function(){var a=this.l.G,b=[];if(a.d)for(var c=a.d,d=0;d<c.Bf.length;d++)b.push(new Ld(c.Bf[d],a));this.Ic.update(b,new zd(a))}};function vd(a){this.l=a;this.Vb=new Md;this.X=new na;this.X.q(new w(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new r(this.sm,this)));this.X.r.show(k);this.X.r.jg.style.display="block"}
vd.prototype={Vb:j,X:j,l:j,sm:function(a){var b=this.l.G;if(a.is("show_tooltip"))m.eb(qa(a.get("entity"),b)),b.Wh(this.l.v,a.get("entity"));else if(a.is("move_tooltip"))m.move();else if(a.is("hide_tooltip"))m.hide(),b.Rh();else if(a.is("click")){if(b&&-1!=this.l.v)try{b.Wi(this.l.v,a.get("entity").clone())}catch(c){c instanceof Dc?m.C(c):ca(c)}}else if(a.is("update")&&((new Hd("api/items.php")).update(this.X),-1!=this.l.v)){a=this.X.Da();this.Vb.Ke("name",a);this.Vb.Ke("quality",a);this.Vb.Ke("level",
a);this.Vb.Ke("reqlvl",a);if(ga(this.X.r.Kj)){var b=this.X.A.hb,d;for(d in b)this.Vb.Ke(b[d].T,b[d].Da())}this.Vb.set(this.l.v,a)}},update:function(){var a=this.l.v,b=this.l.G,c=this.Vb.get(a),d=b.El(a),f=b.Fl(a);Gd(this.X,d,f[0],f[1]);this.X.A.O("usablebyclass",i);this.X.A.O("issocketablegem",i);this.X.A.O("canbeusedwithlvl",i);this.X.A.O("class",i);this.X.A.O("gemreqitemlvl",i);this.X.r.setProperty("showDpsAndDelay",b.qm(a));16!=a&&17!=a&&18!=a?this.X.A.O("slot",i):this.X.A.O("slot",k);1==a||12==
a||13==a||14==a||15==a||6==a||5==a?this.X.A.O("subclass",i):this.X.A.O("subclass",k);c=c.replace(/\bclass\.\w+\.[^;]*;/,"")+(0<=f[0]?"class.eq."+f[0]+";":"");c=c.replace(/\bslot\.\w+\.[^;]*;/,"")+(0<d?"slot.ba."+d+";":"");c=c.replace(/\bsubclass\.\w+\.[^;]*;/,"")+(0<f[1]?"subclass.ba."+f[1]+";":"");this.X.set(c,j,j,1);this.X.update();this.X.r.show(i)},Db:function(a,b){this.X.Db(a,b);this.Vb.Db(a,b)},qh:function(){return this.X.r}};function wd(a){this.l=a;this.Ub=new Nd;this.Ub.A.O("usablebyclass",i);this.Ub.r.Eg(i);this.Ub.ef();this.Ub.q(new w("show_tooltip,move_tooltip,hide_tooltip,update,click,itemset_click".split(","),new r(function(a){var c;if(a.is("show_tooltip")){c=this.G;m.eb(qa(a.get("entity"),c));c.Wh(this.v,a.get("entity"))}else if(a.is("move_tooltip"))m.move();else if(a.is("hide_tooltip")){m.hide();this.G.Rh()}else if(a.is("click"))(c=this.G)&&this.hj(a.get("entity"));else if(a.is("itemset_click")){a=a.get("items");
for(c=0;c<a.length;c++)this.hj(a[c])}else a.is("update")&&(new Hd("api/sets.php")).update(this.Ub)},this)))}wd.prototype={l:j,Ub:j,Db:function(a,b){this.Ub.Db(a,b)},update:function(){this.Ub.update()},hj:function(a){var b=this.l.G;try{var c=a.clone(),d=Va[c.ra];!d&&0!==d&&e(Error("Unable to add "+c.name));12==d&&b.u.get(12)!=j&&b.u.get(13)==j?d=13:14==d&&b.u.get(14)!=j&&b.u.get(15)==j&&(d=15);b.Wi(d,c)}catch(f){f instanceof Dc?m.C(f):ca(f)}},qh:function(){return this.Ub.r}};function xa(a,b,c){for(var d=[],f=0;f<a.z.length;f++){d[f]=[];for(var g=0;g<a.z[f].length;g++)d[f][g]=new Sc(a.z[f][g],c)}b.ic(Math.floor((c?c.f:S)/15),d);b.Tb(a.id,a.pe());a.q(new w(["select","deselect","set_distribution","reset"],new r(function(c){switch(c.event){case "select":b.select(c.get("row"),c.get("col"));break;case "deselect":b.Pf(c.get("row"),c.get("col"));break;case "reset":b.reset()}b.Tb(a.id,a.pe())},this)));b.q(new w(["click"],new r(function(b){switch(b.event){case "click":a.toggle(b.get("row"),
b.get("col"))}},this)))};function la(){this.Ba=new Od;this.Ba.r.Eg(i);this.Ba.q(new w(["update","delete"],new r(function(a){a.is("update")?(new Hd("api/profiles.php")).update(this.Ba):a.is("delete")&&confirm("Do you really want to delete the character profile '"+a.get("desc")+"'?")&&ta("api/profile.php",{action:"delete",id:a.get("profile_id")},function(a){try{a.get(),this.Ba.update()}catch(c){m.C(c)}},this)},this)))}la.prototype={Ba:j};function gd(a,b,c){this.id=b.id;this.t=b.t;this.name=b.name;this.$=b.$;this.v=c;this.K=a;this.Ib=b;this.R=b.R;this.N=this.Cf=j;if(b.Ia!=j){this.Cf=[];for(a=0;a<b.Ia.length;a++)this.Cf.push(new Pd(b.Ia[a]));b.N!=j&&(this.N=new Pd(b.N))}this.ia=b.ia;this.Qb=b.Qb;this.Z=b.Z;this.da=b.da}
gd.prototype={Ib:j,K:j,t:"",id:0,name:"",$:-1,v:0,R:[],N:j,Cf:[],ia:-1,Qb:0,Z:-1,da:0,ka:function(){return qa(this.Ib,this.K)},bm:function(){return Qd(this.Ib,this.K,1)},zj:function(){return!this.K.Hf(this.Ib)||!this.K.Sf(this.Ib)||this.Ib.ob>this.K.f},jm:function(){return this.K.sj(this.v)},sh:function(a){return this.Ib.sh(a)},xh:function(){return this.Ib.xh()},Hc:function(a){return(a=this.Ib.H[a])?new Id(this.K,a):j}};function Id(a,b){this.ti=b;this.K=a;this.t=b.t;this.id=b.id;this.name=b.name;this.$=b.$}Id.prototype={ti:j,K:j,t:"",id:0,name:"",ka:function(){return qa(this.ti,this.K)}};function Pd(a){this.id=a.id;this.name=a.name;this.description="";for(var b=0;5>b;b++)a.F[b]&&(this.description+=(this.description?", ":"")+a.F[b].description)}Pd.prototype={id:0,name:"",description:""};function Sc(a,b){this.de=a;this.Pi=b}Sc.prototype={de:j,Pi:j,re:function(){return this.de.i.t},getName:function(){return this.de.i.name},ka:function(){return ra(this.de.i,this.Pi)}};function Kd(a,b){this.sf=a;this.K=b;this.name=a.name;this.id=a.id;this.t=a.t}Kd.prototype={sf:j,K:j,name:"",t:"",id:"",wb:function(){this.sf.aa(this.K.f);return this.sf.wb(this.K)},ka:function(){return ra(this.sf,this.K)}};function Ld(a,b){this.rb=a;this.K=b;this.id=a.id}Ld.prototype={rb:j,K:j,id:0,getName:function(){return this.rb.i.name},ka:function(){return ra(this.rb.i,this.K)},re:function(){return this.rb.i.t}};function zd(a){var b,c;this.K=a;this.f=a.f;this.name=a.name?a.name:"";this.description=a.description?a.description:"";this.j=[];for(c=0;c<Tc;c++)b=a.va(c,0),this.j[c]=b?new gd(a,a.va(c,0),c):j;this.L=[];if(a.d){var d=a.d.L;for(c=0;c<d.length;c++)for(b=0;b<d[c].length;b++)d[c][b]&&this.L.push(new Ld(d[c][b],a))}}
zd.prototype={K:j,f:0,name:"",description:"",j:[],L:[],gc:function(){return this.K.d?this.K.d.id:0},mj:function(){return this.bh=this.K.I?this.K.I.id:0},lj:function(){return 0!=this.gc()?25>this.K.f?0:50>this.K.f?1:75>this.K.f?2:3:0},cm:function(a,b){return cd(this.K,a,b)},am:function(){return this.K.d?this.K.d.sa:0}};function Vc(a,b,c,d){this.i=new Kd(c,d);this.name=a;this.t=b}function Wc(a,b){return new Vc(a.name,a.t,a,b)}Vc.prototype={i:j,name:"",t:""};function dd(a,b,c){this.id=a;this.t=b;this.description=c}dd.prototype={id:0,t:"",description:""};function ed(a,b,c){this.id=a;this.t=b;this.description=c}ed.prototype={id:0,t:"",description:""};function nd(a,b){this.jf=a;this.Ik=b;this.id=a.i.id;this.t=a.i.t;this.fd=a.fd}nd.prototype={id:-1,t:"",fd:k,jf:j,ka:function(){return ra(this.jf.i,this.Ik)}};function x(a,b){var c=document.createElement(a);if(b)for(var d in b)switch(d){case "class":c.className=b[d];break;case "action":c.action=b[d];break;case "method":c.method=b[d];break;case "clear":c.style.clear=b[d];break;case "display":c.style.display=b[d];break;case "href":c.href=b[d];break;case "src":c.src=b[d];break;case "target":c.target=b[d];break;case "name":c.name=b[d];break;case "id":c.id=b[d];break;case "backgroundImage":c.style.backgroundImage="none"===b[d].toLowerCase()||"inherit"===b[d].toLowerCase()?
b[d]:"url("+b[d]+")";break;case "text":"input"===a?c.value=b[d]:c.innerHTML=b[d];break;case "type":c.type=b[d];break;case "value":c.value=b[d];break;case "title":c.title=b[d];break;case "checked":c.checked=b[d];break;case "color":c.style.color=b[d];break;default:e(Error("Unknown parameter "+d+" with value "+b[d]))}return c}function y(a,b,c){b=x(b,c);"string"==typeof a?document.getElementById(a).appendChild(b):a.appendChild(b);return b}
function B(a,b){"string"===typeof a&&(a=document.getElementById(a));Rd(a,b);a.className=(a.className?a.className+" ":"")+b}function Rd(a,b){"string"===typeof a&&(a=document.getElementById(a));if(a)if(b instanceof RegExp)for(var c=a,d=c.className.split(" "),f=d.length,g=0;g<f;g++){if(b.exec(d[g])!==j){d[g]=d[f-1];d.pop();c.className=d.join(" ");break}}else{c=a;d=c.className.split(" ");f=d.length;for(g=0;g<f;g++)if(d[g]===b){d[g]=d[f-1];d.pop();c.className=d.join(" ");break}}}
function v(a,b){"string"===typeof a&&(a=document.getElementById(a));if("string"===typeof b)a.innerHTML=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}return a}function Sd(a){a.appendChild(x("div",{clear:"both"}))}function C(a,b){"string"===typeof a&&(a=document.getElementById(a));"string"===typeof b?a.innerHTML+=b:a.appendChild(b);return a}function U(a){for("string"===typeof a&&(a=document.getElementById(a));a.firstChild;)a.removeChild(a.firstChild)}
function ga(a){"string"===typeof a&&(a=document.getElementById(a));if(a!=j){var b=a.nodeName.toLowerCase();if("input"===b&&"checkbox"==a.type)return a.checked;if("input"===b||"textarea"==b)return a.value;if("select"===b)return-1!=a.selectedIndex?a.options[a.selectedIndex].value:j}return j};function Td(a){var b=x("a",{"class":"info",href:"javascript:"});J(b,"mouseover",m.eb,m,[a]);J(b,"mouseout",m.hide,m,[]);J(b,"mousemove",m.move,m,[]);return b}function Ud(a,b,c){return C(x(a,b),Td(c))}function Vd(a,b){"string"===typeof a&&(a=document.getElementById(a));J(a,"mousemove",m.move,m,[]);J(a,"mouseout",m.hide,m,[]);J(a,"mouseover",m.eb,m,[b])}
function Wd(a,b){y(a,"span",{}).innerHTML="<span style='position: absolute'>"+b+"<span style='color: #808080; position: absolute; top: -1px; left: 1px;'>"+b+"</span></span>"}function Xd(a){Rb(a,{"default":"button button_light li_filter_search_btn",focus:"button_light_focus",hover:"button_light_hover"})}function Yd(a,b){"string"===typeof a&&(a=document.getElementById(a));C(a,Td(b))}
window.ChardevHtml||(window.ChardevHtml={getInfo:Td,createWithInfo:Ud,addTooltip:Vd,shadow:Wd,buttonLightStyleFor:Xd,addInfo:Yd});function Ba(){this.Ca=new Zd;this.b=new A;this.b.g("tab_change",["newTab","oldTab"]);this.b.g("csfolder_tab_change",["newTab","oldTab"]);var a,b,c=new V(1,2);c.Cg($d);var d=document.createElement("div");this.c=document.createElement("div");this.c.className="gui_p";this.bk=x("div",{"class":"cs_sheet_p"});this.Wa=new va;this.Fh=new ae;this.Ih=document.createElement("div");this.Ih.style.paddingTop="20px";this.Ej=document.createElement("div");document.createElement("div");this.ak=document.createElement("div");
this.bk.appendChild(this.Ca.c);this.Vc=new be;this.Ic=new ce;this.$b=new de;this.dc=new ee;this.qb=new fe;this.Kc=new ge;this.Xc=new he;this.Mf=new ie([this.Ej,this.qb.c,this.dc.c,this.Vc.c,this.ak,this.$b.c],"Items,Gems,Enchants,Reforging,Sets,Buffs".split(","),"eqf");a=x("div",{"class":"gui_lp_menu"});a.appendChild(this.Mf.eg);b=x("div",{"class":"gui_lp_content"});b.appendChild(this.Mf.c);c.cols[0].style.width="300px";c.cols[1].style.width="660px";c.cells[0][0].appendChild(this.bk);c.cells[0][1].className=
"gui_list_p";c.cells[0][1].appendChild(a);c.cells[0][1].appendChild(b);a=new ie([this.Wa.c,this.Ic.c],["Talents","Glyphs"],"tsf");d.appendChild(a.eg);d.appendChild(a.c);d.className="gui_tt";this.oe=new ie([c.c,d,this.Fh.c,this.Kc.c,this.Xc.c,this.Ih],"Character Sheet,Talents,Overview,Import,Save,Browse".split(","),"cp_mm");this.c.appendChild(this.oe.c);this.oe.yg(new r(function(a,b){this.b.fire("tab_change",{newTab:a,oldTab:b})},this));this.Mf.yg(new r(function(a,b){this.b.fire("csfolder_tab_change",
{newTab:a,oldTab:b})},this))}var xd=0,Ad=1,Bd=2,Cd=3,Dd=4,Ed=5,Fd=0,Fa=2,yd=4;Ba.prototype={Ca:j,b:j,oe:j,Wa:j,Kc:j,Xc:j,qb:j,dc:j,Vc:j,Ic:j,$b:j,Fh:j,lm:function(a,b,c){v(this.Ej,a.c);v(this.Ih,b.c);v(this.ak,c.c)}};var Ac;
(function(){function a(d,f,g){switch(d.type){case "stat":switch(d=d.name.toLowerCase(),d){case "pl":return f?f.f:"lvl";default:return"$"+d}case "desc":for(var h=d.text.split("$"),n=h[0],p=0;p<d.exps.length;p++)g=a(d.exps[p],f,g),n+=g+h[1+p];return n;case "dec":return Math.abs(d.value);case "precision":return f=a(d.exp,f,g),"number"===typeof f?M(f,d.precision):f;case "plain":return d.text;case "var":return d.text;case "time":return Jb(d.value);case "ifthenelse":h=a(d.cond,f,g);if("boolean"===typeof h)return h===
i?a(d.ontrue,f,g):a(d.onfalse,f,g);n=a(d.ontrue,f,g);d=a(d.onfalse,f,g);return"?"+h+"["+n+"]["+d+"]";case "condref":if(!f||!f.Q)return c?d.ref:k;d=d.ref.match(/^\w(\d+)$/);return f.Q.Aa(d[1]);case "uncondop":return h=a(d.cond,f,g),"boolean"===typeof h?!h:"!"+h;case "bincondop":h=a(d.left,f,g);if("boolean"===typeof h)return"|"===d.op?h||a(d.right,f,g):h&&a(d.right,f,g);f=a(d.right,f,g);return"&"===d.op?h+d.op+f:"("+h+d.op+f+")";case "scalingtime":return g=$a(d.start,d.end,d.intervals,f?f.f:S),Jb(g[0]);
case "scalingvalue":switch(g=$a(d.start,d.end,d.intervals,f?f.f:S),f=Ya(g?g[1]:1,d.distribution,d.coefficient,d.dice,f?f.f:S),d.name){case "M":case "S":return Math.floor(Math.abs(f[0])+Math.abs(f[1]));default:return Math.floor(Math.abs(f[0]))}case "simplecond":switch(d.variable){case "l":case "L":return"number"===typeof g?1>=g?d.ontrue:d.onfalse:d.ontrue+"/"+d.onfalse;default:return d.ontrue+"/"+d.onfalse}case "fun":switch(h=d.variable.toLowerCase(),h){case "gt":return h=a(d.args[0],f,g),f=a(d.args[1],
f,g),"number"!==typeof h||"number"!==typeof f?"("+b(h)+">"+b(f)+")":h>f;case "lt":return h=a(d.args[0],f,g),f=a(d.args[1],f,g),"number"!==typeof h||"number"!==typeof f?"("+b(h)+"<"+b(f)+")":h<f;case "lte":return h=a(d.args[0],f,g),f=a(d.args[1],f,g),"number"!==typeof h||"number"!==typeof f?"("+b(h)+"<="+b(f)+")":h<=f;case "cond":return n=a(d.args[0],f,g),h=a(d.args[1],f,g),f=a(d.args[2],f,g),"boolean"===typeof n||"true"===n||"false"===n?n===i||"true"===n?h:f:"("+b(n)+"?"+b(h)+":"+b(f)+")";case "floor":return h=
a(d.args[0],f,g),"number"!==typeof h?"&lfloor;"+b(h)+"&rfloor;":Math.floor(h);default:e(Error("Unhandled function: "+h))}case "binop":h=a(d.left,f,g);f=a(d.right,f,g);if("number"!==typeof h||"number"!==typeof f){if(!c)if("*"===d.op||"/"===d.op){if(1===h)return f;if(1===f)return h}else if("+"===d.op||"-"===d.op){if(0===h)return f;if(0===f)return h}return("number"===typeof h||"stat"===d.left.type||"binop"===d.left.type&&("*"===d.left.op||"/"===d.left.op||"+"===d.op||"-"===d.op)?h:"("+h+")")+d.op+("number"===
typeof f||"stat"===d.right.type||"binop"===d.right.type&&("*"===d.right.op||"/"===d.right.op||"+"===d.op||"-"===d.op)?f:"("+f+")")}h=parseFloat(h);f=parseFloat(f);switch(d.op){case "+":return h+f;case "-":return h-f;case "/":return h/f;case "*":return h*f;default:e(Error("Unhandled op: "+d.op))}default:e(Error("Unhandled node: "+d.type))}}function b(a){var b=0;if("string"!==typeof a||2>a.length||"("!=a.charAt(0)||")"!=a.charAt(a.length-1))return a;for(var c=0;c<a.length;c++)if(")"==a.charAt(c)){if(b--,
0==b)return a}else"("==a.charAt(c)&&b++;return 0==b?a.substr(1,a.length-2):a}var c=k;Ac=function(b,c){return a(eval("("+b+")"),c,j)}})();var je;
(function(){function a(a){return $("#"+a.id+("password"==a.type?"_plain":""))}function b(a,b){var f=$("<div class='fm_in_err_p' />").html(b);a.parent().append(f);a.addClass("fm_in_err_b")}je=function(c,d){var f=a(c);f.parent().children().remove(".fm_in_err_p");f.removeClass("fm_in_err_b");if(!c.type.match(/input|password|secret/))return i;for(var g=c.restrictions.split(","),h=f.val(),n=i,p=0;p<g.length;p++)switch(g[p]){case "alnum":h.match(/^[a-zA-Z0-9]+$/)||(b(f,"Invalid characters found: "+h.replace(/([^a-zA-Z0-9]+)/g,
'<span class="fm_malformed_character">$1</span>')),n=k);break;case "alpha":h.match(/^[a-zA-Z]+$/)||(b(f,"Invalid characters found: "+h.replace(/([^a-zA-Z]+)/g,'<span class="fm_malformed_character">$1</span>')),n=k);break;case "num":h.match(/^[0-9]+$/)||(b(f,"Invalid characters found: "+h.replace(/([^0-9]+)/g,'<span class="fm_malformed_character">$1</span>')),n=k);break;case "email":h.match(/^.+\@.+\.\w{2,6}$/)||(b(f,"Invalid e-mail address"),n=k);break;default:var u;if(u=g[p].match(/^min\=(\d+)$/))h.length<
u[1]&&(b(f,"Input is too short - Minimum length: "+u[1]),n=k);else if(u=g[p].match(/^repeat of (\d+)$/)){u=d[u[1]];var s=a(u);h!=s.val()&&(b(f,"Input doesn't match "+u.title),n=k)}}"password"==c.type&&$("#"+c.id+"_hash").val(MD5(h));return n}})();window.FormValidator||(window.FormValidator={validate:je});function ka(a,b,c){this.data=b;this.ok=c;this.map={};this.c=document.createElement("div");this.cc=[];this.userId=a;c=a=0;v(document.getElementById(this.ok),this.c);b=new V(0,2);b.Cg($d);b.c.className="ui_data_tab";for(a in this.data){this.map[a]=c;b.wc();b.cells[c][0].className="ui_data_label";b.cells[c][0].innerHTML=this.data[a].label;b.cells[c][1].className="ui_data_data";if("select"==this.data[a].editable){var d=new ke(this.data[a].options);B(d.select.c,"ui_data_select");this.cc[c]=d}else"input"==
this.data[a].editable?(d=new le,B(d.input.c,"ui_data_input"),this.cc[c]=d):"battlenetprofilemanager"==this.data[a].editable?(this.cc[c]=new me(this.data[a].realms),b.cells[c][0].appendChild(Td("<div>These profiles will be shown in the import section of the character planner, so you can quickly import them, without having to type the character name or select region and realm.</div>"))):e(Error("Unknown editable "+this.data[a].editable));new ne(a,this.data[a].data,this.cc[c]);this.cc[c].readOnly(g_settings.userId!=
this.userId);b.cells[c][1].appendChild(this.cc[c].c);this.cc[c].setData(this.data[a].data);c++}this.c.appendChild(b.c)}ka.prototype={data:{},cc:[],c:j,map:{},userId:0,ok:""};function ne(a,b,c){w.call(this,["change"],new r(this.ce,this));this.key=a;this.data=b;this.kh=c;this.kh.q(this)}ne.prototype=new w([],j);l=ne.prototype;l.key="";l.data=j;l.kh=j;l.ce=function(a){if(a.is("change")){var b={};b[this.key]=a.get("data");fa("api/user.php?"+F(b),new r(this.hl,this),[])}};
l.hl=function(a){try{var b=t(a);this.data=b==j?"":b}catch(c){m.C(c)}this.kh.setData(this.data)};function ma(a,b){this.parent=document.getElementById(a);this.Nf=b;this.dk()}
ma.prototype={parent:"",Nf:"",page:1,Gh:function(a){fa("api/icons.php?"+F({page:a}),new r(this.Gk,this),[]);m.la()},Gk:function(a){try{var b=t(a),c=b[0],d=Math.ceil(b[1]/b[2]);this.page=b[3];var f=x("div",{"class":"ui_avatar_container"}),g=y(f,"a",{"class":"close ui_avatar_close",href:"javascript:;"});J(g,"click",m.enable,m,[]);var h=y(f,"div",{"class":"ui_avatar_img_container"}),n;for(n in c){var p=y(h,"a",{title:c[n],href:"javascript:;"});y(p,"img",{"class":"ui_avatar_preview_img",src:"/images/icons/large/"+
c[n]+".png"});J(p,"click",this.il,this,[c[n]])}var u=y(f,"div",{"class":"ui_avatar_container_lf"}),s=y(f,"div",{"class":"ui_avatar_container_c"}),I=y(f,"div",{"class":"ui_avatar_container_rf"});if(1<this.page){var q=y(u,"a",{href:"javascript:;","class":"button button_light ui_avatar_page_btn",text:locale.previous});J(q,"click",this.Gh,this,[this.page-1])}y(s,"span",{text:this.page+" "+locale.of+" "+d});if(this.page<d){var W=y(I,"a",{href:"javascript:;","class":"button button_light ui_avatar_page_btn",
text:locale.next});J(W,"click",this.Gh,this,[this.page+1])}Sd(f);y(f,"div",{"class":"tt_note",text:"Press Escape to return"});m.cd(f)}catch(Q){m.C(Q)}},il:function(a){m.la();fa("api/user.php?"+F({Avatar:a}),new r(this.ll,this),[])},ll:function(a){this.Nf=t(a);this.dk();m.enable()},dk:function(){U(this.parent);var a=y(this.parent,"a",{href:"javascript:;"});J(a,"click",this.Gh,this,[0]);this.Nf?y(a,"img",{"class":"ui_avatar_img",src:"/images/icons/large/"+this.Nf+".png"}):y(a,"span",{text:"Select an avatar"})}};function oe(a,b,c,d){var f=0,g="",c=c-11;switch(c){case 20:f=Math.floor(100*(d/G[5][b-1]))/100;b=Math.floor(100*(d/G[7][b-1]))/100;g=(0<f?"m:"+N(f)+"%":"")+(0<b?(0<f?", ":"")+"s:"+N(b)+"%":"");break;case 27:a&&(f=a.e.pd,b=d*(1+f/100),g=(0<f?Math.floor(b)+", ":"")+Ib(b/14)+" "+locale.dps2);break;default:if(10>=c)f=G[c][b-1];else switch(c){case 21:f=G[8][b-1];break;case 24:f=G[15][b-1];break;case 25:f=G[17][b-1];break;case 26:f=G[23][b-1];break;case 38:f=G[25][b-1]}b=0<f?Math.floor(100*(d/f))/100:0;
g=0<b?N(b)+"%":""}return"<span class='green'>"+locale.equip+": "+L(locale.imprStats[c],d)+(g?"<span class='tt_rating_percent'>("+g+")<span>":"")+"</span>"}function pe(a,b,c){return a&&(a=a.e.hi[b])?"+"+c+" "+locale.ItemStatNames[b]+"<span class='tt_stat_with_mods'>("+Math.floor(c*(1+a/100))+")</span>":"+"+c+" "+locale.ItemStatNames[b]}function qa(a,b){return Qd(a,b,0)}
function Qd(a,b,c){var d="",f,g,h="",n="",p,u="",s="",b=b?b:a.zc;p=b!=j?b.f:S;a.Zh(p);for(f=0;f<a.e.length;f++)a.e[f]&&0!=a.e[f][1]&&(a.e[f]&&11<a.e[f][0]&&50>a.e[f][0]?n+=P(oe(b,p,a.e[f][0],a.e[f][1])):h+=P(pe(b,a.e[f][0],a.e[f][1])));-1<a.Z&&(11>=a.Z?h+=P("<div class='green'>"+pe(b,a.Z,a.da)+"</div>"):n+=P("<div class='green'>"+oe(b,p,a.Z,a.da)+"</div>"));for(f=0;f<a.F.length;f++)g=a.F[f],d=P(g.ka(b)),7==g.types[0]&&g.ba[0]?s+=d:u+=d;g="<table cellpadding='0px' cellspacing='0px' class='tooltip_table tt_item'>"+
P("<div class='tooltip_title' style='color:"+bb[a.$]+"; white-space:nowrap;'>"+a.name+"</div>");a.Xd&8&&(g+=P("<span class='green'>"+locale.Heroic+"</span>"));if(a.Xd&134217728)g+=P(locale.boa);else switch(a.$i){case 1:g+=P(locale.bop);break;case 2:g+=P(locale.boe);break;case 3:g+=P(locale.bou)}1==a.unique?g+=P(locale.Unique):1<a.unique&&(g+=P(L(locale.UniqueMultiple,a.unique)));a.oa&&a.oa.sg&&(g+=P(L(locale.RequiresItemLevel,a.oa.sg)));a.Xd&524288&&(g+=P(locale.UniqueEquipped));a.Lj&&(g+=P(locale.This_Item_Begins_a_Quest));
if(a.Nb)switch(a.U){case 4:0!=a.ra&&(g=0==a.ra||0==a.S?g+P(locale.a_slot[a.ra]):a.oa==j?g+R(locale.a_slot[a.ra],"<span"+((b!=j?b.Hf(a):1)?"":" class='red'")+">"+a.Nb[0]+"</span>"):g+P(a.Nb[0]));break;case 2:g+=R(locale.a_slot[a.ra],a.Nb[0]);break;case 1:g+=P(a.Nb[0])}-1!=a.ia&&(g+=P("<span class='green'>"+locale.Reforged+"</span><span class='tooltip_reforge_info'>: "+a.da+" "+locale.ItemStatNames[a.ia]+" \u21e8 "+a.da+" "+locale.ItemStatNames[a.Z]+"</span>"));24==a.ra?g+=P(L(locale.Adds,Fb(a))):a.ib&&
(g+=R(Math.floor(a.lc)+" - "+Math.ceil(a.kc)+" "+locale.damage,locale.Speed+" "+Gb(a)),g+=P("("+L(locale.dps,Math.floor(10*a.ib)/10+(0==Math.floor(10*a.ib)%10?".0":""))+")"));0<a.tb&&(g+=P(L(locale.armor,a.tb)));g+=h;if(a.Ia)if(a.N!=j)for(f=0;f<a.N.F.length;f++)(d=a.N.F[f])&&(g+=P(d.description));else g+=P("<span class='green'>&lt;"+locale.RandomEnchantment+"&gt;</span>");g+=u;for(f=0;3>f;f++)if(a.H[f]!=j){var d="<div class='tooltip_gem' style='background-image:url(/images/icons/gem/"+a.H[f].t+".png);'>",
u=a.H[f].oa.ub,h="<table cellpadding = 0 cellspacing = 0>",I=u.jj(b),q=u.kj(b),W=u.yj(b),Q=void 0,Q=7==u.types[0]?locale.use+": "+u.ba[0].wb(b).join("<br />"):qe(u),h=h+P("<span "+(q&&I?W?"class='green'":"class='grey'":"class='red'")+">"+Q+"</span>");I||(h+=P("<span class='red'>"+L(locale.reqLevel,u.ob)+"</span>"));q||(h+=P("<span class='red'>"+locale.req+" "+u.ug.name+" ("+u.Qd+")</span>"));g+=P(d+(h+"</table>")+"</div>")}else a.R[f]&&(g=14==a.R[f]?g+P("<div class='tooltip_socket_empty' style='background-image:url(/images/socket_prismatic.png);'>"+
locale.PrismaticSocket+"</div>"):g+P("<div class='tooltip_socket_empty' style='background-image:url(/images/socket_"+Math.log(a.R[f])/Math.log(2)+".png);'>"+locale.a_socket[Math.log(a.R[f])/Math.log(2)]+"</div>"));a.dd!=j&&(g+=P("<span class='"+(a.yh()?"green":"grey")+"'>"+locale.socketBonus+": "+qe(a.dd)+"</span>"));a.oa&&(g+=P(qe(a.oa.ub)));a.Qf&&(g+=P(locale.Durability+": "+a.Qf+"/"+a.Qf));if(0!=a.ac&&1535!=(a.ac&1535)&&0<a.ac){u=d="";for(f=0;11>f;f++)0!=(a.ac&1<<f)&&(d+=(d?", ":"")+locale.a_class[f],
u+=(u?", ":"")+"<span class='character_class_"+(f+1)+"'>"+locale.a_class[f]+"</span>");d&&(g=b!=j&&!b.Sf(a)?g+P("<span class='red'>"+locale.Classes+": "+d+"</span>"):g+P(locale.Classes+": "+u))}if(a.ob||7==a.$)g=a.Fb?g+P(K(locale.RequiredLevelScaling,[Math.max(1,a.Fb[20]),a.Fb[21],Math.min(a.Fb[21],p)])):g+P("<span class='"+(p>=a.ob?"":"red")+"'>"+L(locale.reqLevel,a.ob)+"</span>");a.Sm&&(g+=P("<span class='red'>"+locale.req+" "+a.Rm+" ("+a.Pd+")</span>"));a.Um&&(g+=P("<span class='red'>"+locale.req+
" "+a.Tm+"</span>"));a.Nj&&(g+=P("<span class='red' style='white-space:nowrap'>"+locale.req+" "+a.Oj+" - "+locale.a_reputation[a.Pj]+"</span>"));if(a.f&&(2==a.U||4==a.U))g+=P(L(locale.itemLevel,a.f));g+=n;for(f=0;5>f;f++)if(a.ba[f]!=j&&(n=a.ba[f].wb(b),d=p="",n)){switch(a.gi[f]){case 0:d=locale.use;0<a.ci[f]&&(p="("+Jb(a.ci[f]/1E3)+" "+locale.Cooldown+")");break;case 1:d=locale.equip;break;case 2:d=locale.hit}g+=P("<span class='green'>"+d+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+
a.ba[f].id+"'>")+n.join("<br/>")+" "+(g_settings.isPlanner?"":"</a>")+p+"</span>")}g+=s;if(a.oa!=j&&a.oa.ub.bc)for(f=0;5>f;f++){s="#888888";if(a.oa.ub.xj(f,b!=j?b.u.fc:j))s="#FFFFFF";n=a.oa.ub.bc;p=n[1][f]?n[1][f]:0;d=n[3][f]?n[3][f]:0;u=n[4][f]?n[4][f]:0;switch(n[2][f]?n[2][f]:0){case 0:0!=u&&(g+=P("<div class='tt_meta_condition' style='color:"+s+"'>"+(1<u?K(locale.Meta_RequiresExactlyPl,[u,locale.Meta_Category[p]]):L(locale.Meta_RequiresExactly,locale.Meta_Category[p]))+"</div>"));break;case 2:g+=
P("<div class='tt_meta_condition' style='color:"+s+"'>"+K(locale.Meta_RequiresMore,[locale.Meta_Category[d],locale.Meta_Category[p]])+"</div>");break;case 3:g=0==u?g+P("<div class='tt_meta_condition' style='color:"+s+"'>"+K(locale.Meta_RequiresMore,[locale.Meta_Category[p],locale.Meta_Category[d]])+"</div>"):g+P("<div class='tt_meta_condition' style='color:"+s+"'>"+(1<u+1?K(locale.Meta_RequiresAtLeastPl,[u+1,locale.Meta_Category[p]]):L(locale.Meta_RequiresAtLeast,locale.Meta_Category[p]))+NaN);break;
case 5:0<p&&(g+=P("<div class='tt_meta_condition' style='color:"+s+"'>"+(1<u?K(locale.Meta_RequiresAtLeastPl,[u,locale.Meta_Category[p]]):L(locale.Meta_RequiresAtLeast,locale.Meta_Category[p]))+"</div>"))}}a.description&&(g+=P("<span style='color:#DDDD00'>\""+a.description+'"</span>'));if(1!=(c&1)){if(a.fa!=j){s=a.fa.rm;c=0;n=[];if(b!=j)for(f=0;f<Tc;f++)if(d=b.va(f,0),d!=j&&d.fa!=j&&d.fa.id==a.fa.id){for(p=0;p<s;p++)a.fa.j[p]&&a.fa.j[p][0]==d.ra&&(n[p]=d.name);c++}g+=P("<div class='tooltip_set_name'>"+
a.fa.name+" ("+c+"/"+s+")</div>");for(f=0;f<s;f++)g+=P("<span class='"+(n[f]?"tooltip_set_item_active":"tooltip_set_item_inactive")+"'>"+(n[f]?n[f]:a.fa.j[f]&&a.fa.j[f][1]?a.fa.j[f][1]:locale.Unknown)+"</span>");g+=P("<div class='tooltip_set_bonus_spacing'></div>");for(f=0;8>f;f++)(s=a.fa.Sh[f])&&(g+=P("<div class='"+(c>=s?"tooltip_set_bonus_active":"tooltip_set_bonus_inactive")+"'>("+s+") "+locale.Set+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+a.fa.sd[f].id+
"'>")+a.fa.sd[f].wb(b).join("<br />")+(g_settings.isPlanner?"":"</a>")+"</div>"))}0<a.Uh&&(b=a.Uh,f="<span class='tooltip_sell_price'>",1E4<b&&(f+=Math.floor(b/1E4)+"<img alt='g' class='tooltip_coint' align='center' src='/images/tooltip/UI-GoldIcon.png' />",b%=1E4),100<b&&(f+=Math.floor(b/100)+"<img alt='s' class='tooltip_coint' align='center' src='/images/tooltip/UI-SilverIcon.png' />",b%=100),b&&(f+=b+"<img alt='c' class='tooltip_coint' align='center' src='/images/tooltip/UI-CopperIcon.png' />"),
g+=P(L(locale.SellPrice,f+"</span>")));g_settings.isPlanner==i&&a.Ia!=j&&(g+=P("<span style='white-space: normal; color:#808080; font-size:11px'>See Enchants to change the random enchantment</span>"))}return g+"</table>"};function ra(a,b){a.aa(b!=j?b.f:S);var c,d="",f="",g="";c="<table cellpadding = 0 cellspacing = 0 style='vertical-align: top'>"+P("<span class='tooltip_title'>"+a.name+"</span>");f="";a.Wc&&5==a.bb.type?(a.Wc[0]&&(f+=a.Wc[0]+" "+locale.Blood),a.Wc[1]&&(f+=(f?", ":"")+a.Wc[1]+" "+locale.Unholy),a.Wc[2]&&(f+=(f?", ":"")+a.Wc[2]+" "+locale.Frost)):a.bb&&(d=1==a.bb.type||6==a.bb.type?a.bb.Pg/10:a.bb.Pg,b!=j?(d=Math.max(Math.floor(Math.pow(10,2)*d)/Math.pow(10,2),Math.floor(a.bb.qg*b.e.Ef/100)),0<d&&(f=
d+" "+locale.energy2[a.bb.type])):0<d?f=d+" "+locale.energy2[a.bb.type]:0<a.bb.qg&&(f=Math.floor(Math.pow(10,2)*a.bb.qg)/Math.pow(10,2)+"% "+locale.ofBaseMana));f=f?"<span style='white-space:nowrap'>"+f+"</span>":"";g="";a.Ja!=j&&0<a.Ja[1]&&(g=0<a.Ja[3]&&(a.Ja[1]!=a.Ja[3]||a.Ja[0]!=a.Ja[2])?L(locale.RangeEnemy,Hb(a.Ja[0],a.Ja[1]))+"<br />"+L(locale.RangeFriendly,Hb(a.Ja[2],a.Ja[3])):Hb(a.Ja[0],a.Ja[1]));if(f&&g)c+=R(f,g);else if(f||g)c+=P(f?f:g);d=a.bi;g="";a.bi&&(g=Jb(d)+" "+locale.cooldown);f="";
if(0<a.je||g)f="<span style='white-space:nowrap'>"+(0<a.je?L(locale.cast,Math.ceil(Math.pow(10,2)*(a.je/1E3))/Math.pow(10,2)):locale.instantCast)+"</span>";g?c+=R(f,g):f&&(c+=P(f));c+=P("<span class='tooltip_spell_description'>"+a.wb(b).join("<br />")+"</span>");return c+"</table>"};function sa(){this.Bd=document.createElement("div");this.Bd.className="tt_msg_c"}
sa.prototype={w:j,content:j,ab:j,disabled:k,nh:k,Bd:j,x:0,y:0,mf:j,Ea:k,Wf:k,jn:aa("Wf"),ln:function(a){this.content=document.createElement("div");this.w=document.createElement("div");this.w.className="tooltip_div";var b=new V(3,3);b.cells[0][0].innerHTML="<div class='tt_bg_lt'></div>";b.cells[0][1].className="tt_bg_t";b.cells[0][2].innerHTML="<div class='tt_bg_rt'></div>";b.cells[1][0].className="tt_bg_l";b.cells[1][1].appendChild(this.content);this.content.className="tt_bg";b.cells[1][2].className=
"tt_bg_r";b.cells[2][0].innerHTML="<div class='tt_bg_lb'></div>";b.cells[2][1].className="tt_bg_b";b.cells[2][2].innerHTML="<div class='tt_bg_rb'></div>";this.mf=b;this.w.appendChild(b.c);a.appendChild(this.w)},Nk:function(){this.content=document.createElement("div");this.w=document.createElement("div");this.w.className="tooltip_div";var a=new V(3,3);a.cells[0][0].innerHTML="<div class='tt_bg_lt'></div>";a.cells[0][1].className="tt_bg_t";a.cells[0][2].innerHTML="<div class='tt_bg_rt'></div>";a.cells[1][0].className=
"tt_bg_l";a.cells[1][1].appendChild(this.content);this.content.className="tt_bg";a.cells[1][2].className="tt_bg_r";a.cells[2][0].innerHTML="<div class='tt_bg_lb'></div>";a.cells[2][1].className="tt_bg_b";a.cells[2][2].innerHTML="<div class='tt_bg_rb'></div>";this.mf=a;this.w.appendChild(a.c);document.body.appendChild(this.w)},rf:function(a){this.w==j&&this.Nk();this.w.style.width="";this.w.style.whiteSpace="nowrap";this.content.innerHTML=a;this.w.style.display="block";350<this.mf.c.offsetWidth?this.Ii(350):
this.w.style.width=this.mf.c.offsetWidth+"px"},Ii:function(a){this.w.style.whiteSpace="normal";this.w.style.width=a+"px";this.w.firstChild.offsetWidth>a&&(this.w.style.width=this.w.firstChild.offsetWidth+"px")},vi:function(a,b){var c=Kb(),d=Math.max(document.documentElement.scrollTop,document.body.scrollTop);this.w&&(b+this.w.offsetHeight+24>c[1]+d&&(b=c[1]+d-this.w.offsetHeight-24),a+this.w.offsetWidth>document.body.scrollLeft+document.body.offsetWidth&&(a-=this.w.offsetWidth+20));return[Math.max(0,
a),Math.max(0,b)]},ui:function(a){for(var b=0,c=0,d=a.offsetWidth,f=a.offsetHeight;a!=j;)c+=a.offsetTop,b+=a.offsetLeft,a=a.offsetParent;return[b,c,d,f]},Hk:function(a){var b=a.scrollHeight,c=Kb(),d=document.body.scrollTop;a.style.marginLeft=Math.max(0,document.body.scrollLeft+(c[0]/2-a.scrollWidth/2))+"px";a.style.marginTop=Math.max(0,d+(c[1]/3-b/2))+"px"},Qk:function(){this.ab==j&&(this.ab=document.getElementById("tt_overlay"));var a=Kb();this.ab.style.width=Math.max(a[0],document.body.scrollWidth)+
"px";this.ab.style.height=Math.max(a[1],document.body.scrollHeight)+"px";this.ab.style.display="block";this.disabled=i;this.ab.onclick=j},move:function(){var a=this.vi(this.x+10,this.y+10);this.w&&(this.w.style.left=a[0]+"px",this.w.style.top=a[1]+"px")},hm:function(a){a||(a=window.event);document.all&&document.getElementById?(this.x=a.clientX+document.documentElement.scrollLeft,this.y=a.clientY+document.documentElement.scrollTop):(this.x=a.pageX,this.y=a.pageY)},fm:function(a){this.disabled&&(27==
a.keyCode?this.enable():13==a.keyCode&&(a.preventDefault(),this.enable()));17==a.keyCode&&(this.Ea=i)},gm:function(a){17==a.keyCode&&(this.Ea=k)},we:function(){J(document,"mousemove",m.hm,m,j);J(document,"keydown",m.fm,m,j);J(document,"keyup",m.gm,m,j)},gk:function(a,b){if(this.Ea&&this.Wf)this.Ea=k;else{var c=this.ui(b);this.rf(a);c=this.vi(c[0]+c[2]+10,c[1]);this.w.style.left=c[0]+"px";this.w.style.top=c[1]+"px"}},hide:function(){this.w!=j&&(this.w.style.display="none")},cd:function(a){this.Qk();
v(this.ab,a);this.Hk(a)},ek:function(a){a+='<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>';this.cd(y(x("div",{"class":"tt_msg_c"}),"div",{text:a,"class":"tt_msg"}));this.ab.onclick=function(){m.enable()}},enable:function(){this.ab&&(U(this.ab),this.ab.style.display="none");this.nh=this.disabled=k},C:function(a){if(a instanceof Error||a instanceof La)a=a.message;var b='<div class="tt_error_msg"><div class="tt_error_msg_title">Error:</div>';if("object"===typeof a){for(var c in a)b+=
'<div class="tt_error_msg_content">'+a[c]+"</div>";b+="</div>"}else b+='<div class="tt_error_msg_content">'+a+"</div>";b+="</div>";this.nh?this.Bd.innerHTML=b+"<br />"+this.Bd.innerHTML:(this.nh=i,this.Bd.innerHTML=b+'<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>');this.cd(this.Bd);this.ab.onclick=function(){m.enable()}},la:function(){var a=document.createElement("div");a.className="tt_loading";a.innerHTML="Loading";this.cd(a)},hk:function(a,b){this.rf(a+"</table>");
var c=this.ui(b);this.w.style.left=c[0]+c[2]+"px";this.w.style.top=c[1]+"px";300<this.w.offsetWidth&&this.Ii(300)},eb:function(a){this.Ea&&this.Wf?this.Ea=k:(this.rf(a),this.move())},show:function(a){this.Ea&&this.Wf?this.Ea=k:this.rf(a)}};var m=new sa;m.jn(i);window.__tooltip_init=m.we;window.g_moveTooltip=function(){m.move.call(m)};window.g_hideTooltip=function(){m.hide.call(m)};window.Tooltip||(window.Tooltip={showError:m.C,showLoading:m.la});function cd(a,b,c){var d=a.e,f="";switch(b){case 0:f+=P("<span class='tt_stat_title'>"+locale.CS_Stats[b][c]+" "+Math.floor(d.Za[c])+"</span>");switch(c){case 0:f+=P(locale.TT_StatText.Health);break;case 1:f+=P(locale.TT_StatText.Mana);break;case 2:f+=P(locale.TT_StatText.Rage);break;case 3:f+=P(locale.TT_StatText.Energy);break;case 4:f+=P(locale.TT_StatText.Focus);break;case 5:f+=P(locale.TT_StatText.RunicPower);break;case 6:f+=P(locale.TT_StatText.ItemLevel)}break;case 1:var g=Math.floor(d.rd[c]),
h=Math.floor(d.attributes[c]),n=h-g,p=Math.floor(d.zf[c]),u=Math.floor(d.Gg[c]),s=Math.round(100*d.xd[c])/100,I=Math.round(100*d.Ze[c])/100,f=f+P("<span class='tt_stat_title'>"+locale.CS_Stats[b][c]+" "+h+(0<n?" ("+g+"+<span class='green'>"+n+"</span>)":"")+"</span>");(3==c||4==c)&&!a.tj()?f+=P("<span class='tt_stat_no_benefit'>"+locale.TT_StatText.NoBenefit+"</span>"):(a="",2==c?a+=(a?"<br />":"")+L(locale.TT_StatText.IncreasesHealth,Math.floor(d.Vf)):3==c?a+=(a?"<br />":"")+L(locale.TT_StatText.IncreasesMana,
Math.floor(d.bg)):4==c&&(a+=(a?"<br />":"")+L(locale.TT_StatText.IncreasesManaRegen,Math.floor(d.cg))),0<p&&(a+=(a?"<br />":"")+L(locale.TT_StatText.IncreasesAP,p)),0<u&&(a+=(a?"<br />":"")+L(locale.TT_StatText.IncreasesSP,u)),0<s&&(a+=(a?"<br />":"")+L(locale.TT_StatText.IncreasesCrit,N(s))),0<I&&(a+=(a?"<br />":"")+L(locale.TT_StatText.IncreasesSpellCrit,N(I))),a&&(f+=P(a)));break;case 2:switch(c){case 0:f+=P("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");f+=R(locale.TT_StatText.AttackSpeed,
M(d.$a/1E3,2));f+=R(locale.TT_StatText.Damage,Math.floor(d.Ha)+" - "+Math.ceil(d.Ga));f+=R(locale.TT_StatText.DamagePerSecond,M(d.Ah,1));0<d.lb&&(f+=P("<div style='padding:5px'></div>"),f+=P("<span class='tt_stat_title'>"+locale.TT_StatTitle.OffHand+"</span>"),f+=R(locale.TT_StatText.AttackSpeed,M(d.lb/1E3,2)),f+=R(locale.TT_StatText.Damage,Math.floor(d.Ta)+" - "+Math.ceil(d.Sa)),f+=R(locale.TT_StatText.DamagePerSecond,M(d.Ch,1)));break;case 1:f+=P("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+
"</span>");break;case 2:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.MeleeAp,Math.floor(d.na)+(0<Math.floor(d.Zb)?" ("+(Math.floor(d.na)-Math.floor(d.Zb))+"<span class='green'>+"+Math.floor(d.Zb)+"</span>)":""))+"</span>");f+=P(L(locale.TT_StatText.IncreasesMeleeDamage,M(d.na/14,1)));break;case 3:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.AttackSpeed,M(d.P[3][0]/1E3,2)+(d.P[3][1]!=j?" / "+M(d.P[3][1]/1E3,2):""))+"</span>");break;case 4:f+=P("<span class='tt_stat_title'>"+
L(locale.TT_StatTitle.Haste,N(d.P[4]))+"</span>");f+=P(locale.TT_StatText.IncreasesAttackSpeed);f+=P(K(locale.TT_StatText.IncreasesHaste,[d.Ce,N(d.Ce/G[17][a.f-1])]));break;case 5:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.HitChance,M(d.P[5],2))+"</span>");f+=P(K(locale.TT_StatText.HitRating,[Math.floor(d.yb[1]),M(d.yb[1]/G[5][a.f-1],2)]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+
locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";if(0<d.lb){c+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_NormalAttacks+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.f+b)+"</td><td class='tt_miss'>"+N(Math.max(0,ob[b]-d.P[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+re(ob[3],d.P[5],G[5][a.f-1])+"</td></tr>";c+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_SpecialAttacks+"</td></tr>"}for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+
(a.f+b)+"</td><td class='tt_miss'>"+N(Math.max(0,nb[b]-d.P[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+re(nb[3],d.P[5],G[5][a.f-1])+"</td></tr>";f+=P(c+"</table>");break;case 6:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.CritChance,N(d.P[6]))+"</span>");f+=P(locale.TT_StatText.ExtraDamage);f+=P(K(locale.TT_StatText.CritRating,[Math.floor(d.xb[1]),N(d.xb[1]/G[8][a.f-1])]));break;case 7:p=0.25*d.P[7][0];u=d.P[7][1]==j?j:0.25*d.P[7][1];s=G[23][a.f-1]/0.25;f+=P("<span class='tt_stat_title'>"+
locale.CS_Stats[b][c]+" "+d.P[7][0]+(u!=j?" / "+d.P[7][1]:"")+"</span>");f+=P(L(locale.TT_StatText.ReduceDodgeParry,N(p)+"%"+(u!=j?"/"+N(u)+"%":"")));f+=P(K(locale.TT_StatText.ExpertiseRating,[Math.floor(d.vb[1]),Math.floor(d.vb[1]/G[23][a.f-1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup>"+("<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_DodgeChance+"</td></tr>");
c+=se(a.f,sb,p,u);c+="<tr><td colspan='2'>"+re(sb[3],p,s)+"</td></tr>";c+="<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_ParryChance+"</td></tr>";c+=se(a.f,rb,p,u);c+="<tr><td colspan='2'>"+re(rb[3],p,s)+"</td></tr>";f+=P(c+"</table>");break;case 8:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.Mastery,N(d.P[8]))+"</span>"),f+=P(K(locale.TT_StatText.MasteryRating,[Math.floor(d.kb),N(d.kb/G[25][a.f-1])]))}break;case 3:switch(c){case 0:f+=
P("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");f+=R(locale.TT_StatText.AttackSpeed,N(d.Pb/1E3));f+=R(locale.TT_StatText.Damage,Math.floor(d.Me)+" - "+Math.ceil(d.Le));f+=R(locale.TT_StatText.DamagePerSecond,Ib(d.kg));break;case 1:f+=P("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+"</span>");break;case 2:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.RangedAp,Math.floor(d.nb))+"</span>");f+=P(L(locale.TT_StatText.IncreasesRangedDamage,Ib(d.nb/14)));break;
case 3:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.AttackSpeed,N(d.ha[3]/1E3))+"</span>");break;case 4:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.Haste,N(d.ha[4]))+"</span>");f+=P(locale.TT_StatText.IncreasesAttackSpeedAndFocus);f+=P(K(locale.TT_StatText.IncreasesHaste,[d.Qe,N(d.Qe/G[18][a.f-1])]));break;case 5:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.HitChance,N(d.ha[5]))+"</span>");f+=P(K(locale.TT_StatText.HitRating,[Math.floor(d.Re),N(d.Re/G[6][a.f-
1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.f+b)+"</td><td class='tt_miss'>"+N(Math.max(0,qb[b]-d.ha[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+re(qb[3],d.ha[5],G[6][a.f-1])+"</td></tr>";f+=P(c+"</table>");break;case 6:f+=P("<span class='tt_stat_title'>"+
L(locale.TT_StatTitle.CritChance,N(d.ha[6]))+"</span>");f+=P(locale.TT_StatText.ExtraDamage);f+=P(K(locale.TT_StatText.CritRating,[Math.floor(d.Pe),N(d.Pe/G[9][a.f-1])]));break;case 7:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.Mastery,N(d.ha[7]))+"</span>"),f+=P(K(locale.TT_StatText.MasteryRating,[Math.floor(d.kb),N(d.kb/G[25][a.f-1])]))}break;case 4:switch(c){case 0:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.SpellPower,Math.floor(d.i[0]))+"</span>");f+=P(locale.TT_StatText.IncreasesDamageAndHealing);
break;case 1:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.Haste,N(d.i[1]))+"</span>");f+=P(locale.TT_StatText.IncreasesSpellCasting);f+=P(K(locale.TT_StatText.IncreasesHaste,[d.af,N(d.af/G[19][a.f-1])]));break;case 2:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.HitChance,N(d.i[2]))+"</span>");f+=P(K(locale.TT_StatText.HitRating,[Math.floor(d.bf),N(d.bf/G[7][a.f-1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+
locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.f+b)+"</td><td class='tt_miss'>"+N(Math.max(0,pb[b]-d.i[2]))+"%</td></tr>";c+="<tr><td colspan='2'>"+re(pb[3],d.i[2],G[7][a.f-1])+"</td></tr>";f+=P(c+"</table>");break;case 4:f+=P("<span class='tt_stat_title'>"+locale.TT_StatTitle.ManaRegen+"</span>");f+=P(L(locale.TT_StatText.ManaRegen,Math.floor(d.i[4])));break;case 5:f+=P("<span class='tt_stat_title'>"+
locale.TT_StatTitle.CombatRegen+"</span>");f+=P(L(locale.TT_StatText.CombatRegen,Math.floor(d.i[5])));break;case 6:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.CritChance,N(d.i[6]))+"</span>");f+=P(K(locale.TT_StatText.CritRating,[Math.floor(d.$e),N(d.$e/G[10][a.f-1])]));break;case 7:f+=P("<span class='tt_stat_title'>"+L(locale.TT_StatTitle.Mastery,N(d.i[7]))+"</span>"),f+=P(K(locale.TT_StatText.MasteryRating,[Math.floor(d.kb),N(d.kb/G[25][a.f-1])]))}break;case 5:f+=P("<span class='tt_stat_title'>"+
L(locale.TT_StatTitle_Defense[c],4==c||0==c?d.ja[c]:N(d.ja[c]))+"</span>");switch(c){case 0:f+=P(L(locale.TT_StatText.ReducesPhysical,N(100*(81<=a.f?d.ja[0]/(d.ja[0]+2167.5*a.f-158167.5):60<=a.f?d.ja[0]/(d.ja[0]+467.5*a.f-22167.5):d.ja[0]/(d.ja[0]+85*a.f+400)))));break;case 1:f+=P(K(locale.TT_StatText.DodgeRating,[d.B[2],N(d.B[2]/G[2][a.f-1])]));break;case 2:f+=P(K(locale.TT_StatText.ParryRating,[d.Tc,N(d.Tc/G[3][a.f-1])]));break;case 3:f+=P(K(locale.TT_StatText.BlockRating,[d.B[4],N(d.B[4]/G[4][a.f-
1])]));break;case 4:f+=P(L(locale.TT_StatText.Resilience,N(100*d.Xm)));break;case 5:f+=P(K(locale.TT_StatText.Avoidance,[N(d.De),N(d.Dc),N(d.Md)]))}break;case 6:f+=P("<span class='tt_stat_title'>"+L(locale.TT_ResistanceTitle[c],d.Eb[c])+"</span>"),f+=P(L(locale.TT_Resistance[c],0))}f&&(f="<table style='line-height:125%' class='tt_stat_text'>"+f+"</table>");return f}
function re(a,b,c){a=Math.floor((a-b)*c);return 0!=a?0<a?"<div class='tt_hit_cap'>"+L(locale.TillCap,a)+"</div>":"<div class='tt_hit_cap'>"+L(locale.OverCap,Math.abs(a))+"</div>":""}function se(a,b,c,d){var f,g="";for(f=0;4>f;f++)g+="<tr><td class='tt_miss_level'>"+(a+f)+"</td><td class='tt_miss'>"+N(Math.max(0,b[f]-c))+(d!=j?"/"+N(Math.max(0,b[f]-d)):"")+"%</td></tr>";return g};function qe(a){var b=a.description;if(!b)return"";b=b.replace(/\$k(\d)/g,function(b,d){return a.Wb[d-1]});return b.replace(/\$i\b/g,a.Ma[0])};function te(){this.c=x("div",{"class":"bb_p"});this.b=new A;this.b.g("remove_buff",["id"]);this.b.g("add_stack",["id"])}
te.prototype={b:j,c:j,update:function(a){U(this.c);for(var b in a)this.ml(a[b])},ml:function(a){var b=y(this.c,"div",{"class":"bb_buff",backgroundImage:"/images/icons/small/"+a.t+".png"});J(b,"contextmenu",this.Mg,this,[a.id]);J(b,"click",this.hd,this,[a.id]);b.oncontextmenu=ba(k);b.onmouseout=function(){m.hide()};b.onmousemove=function(){m.move()};a.fd&&b.appendChild(Qb(a.jf.Na));var c=a.ka(),c=a.fd?1<a.jf.Na?c+"<div class='tt_note'>Left click to increase and right click to decrease the stack</div>":
c+"<div class='tt_note'>Left click to increase the stack and right click to remove the Buff</div>":c+"<div class='tt_note'>Right click to remove the Buff</div>";J(b,"mouseover",m.eb,m,[c])},Mg:function(a){this.b.fire("remove_buff",{id:a})},hd:function(a){this.b.fire("add_stack",{id:a})}};function Zd(){this.b=new A;this.b.g("race_select",["race_id"]);this.b.g("class_select",["class_id"]);this.b.g("level_select",["level"]);this.b.g("profession_select",["index","id"]);this.b.g("profession_level_select",["index","level"]);this.b.g("stat_tooltip_show",["group","index","node"]);this.b.g("stat_tooltip_hide",["group","index","node"]);this.b.g("item_right_click",["slot","index"]);this.b.g("item_left_click",["slot","index"]);this.b.g("item_tooltip_show",["slot","index"]);this.b.g("item_tooltip_hide",
["slot","index"]);this.b.g("remove_buff",["id"]);this.b.g("add_stack",["id"]);this.b.g("select_shape",["shape_id"]);this.b.g("select_presence",["presence_id"]);var a,b,c,d,f;this.Jh=new ue(this);this.Xe=new ve;this.Xe.ca("select_shape",this.b);this.He=new we;this.He.zl("select_presence",this.b);this.he=new te;this.he.b.ca("remove_buff",this.b);this.he.b.ca("add_stack",this.b);this.c=document.createElement("div");c=document.createElement("div");c.className="cs_level_parent";this.f=document.createElement("select");
this.f.className="single_select";c.appendChild(this.f);J(this.f,"change",this.$k,this,j);a=document.createElement("div");a.className="cs_t";a.appendChild(this.Jh.c);a.appendChild(this.he.c);a.appendChild(c);Mb(a);a.appendChild(this.Xe.c);a.appendChild(this.He.c);this.c.appendChild(a);a=new V(1,2);a.Cg($d);a.c.className="cs_m_grid";a.cols[0].width="180px";a.cols[1].width="160px";c=document.createElement("div");c.className="cs_m_grid_t";c.appendChild(a.c);f=y(c,"div",{"class":"cs_prof_p"});this.c.appendChild(c);
c=document.createElement("div");c.className="cs_m_grid_sl";d=new V(8,2);this.La=[];for(b=0;19>b;b++)this.La[b]=new xe(this,b);for(b=0;8>b;b++)d.cells[b][0].appendChild(this.La[b].c),d.cells[b][1].appendChild(this.La[b+8].c);c.appendChild(d.c);b=new V(1,3);c.appendChild(b.c);b.cells[0][0].appendChild(this.La[16].c);b.cells[0][1].appendChild(this.La[17].c);b.cells[0][2].appendChild(this.La[18].c);b.c.className="cs_w_grid";a.cells[0][0].appendChild(c);this.e=[];this.ma=[];for(b=0;b<locale.CS_StatGroups.length;b++){this.ma[b]=
new ye;6==b&&this.ma[b].toggle();this.e[b]=[];for(c=0;c<locale.CS_Stats[b].length;c++)d=new ze(b,c),d.ca("stat_tooltip_show",this.b),d.ca("stat_tooltip_hide",this.b),this.e[b][c]=d,this.ma[b].content.appendChild(this.e[b][c].c);this.ma[b].c.className="cs_st_p";this.ma[b].content.className="cs_st_c";c=y(this.ma[b].qa,"div",{"class":"stat_title_p"});y(c,"a",{"class":"stat_title",text:locale.CS_StatGroups[b],href:"javascript:"});a.cells[0][1].appendChild(this.ma[b].c)}this.Je=new V(2,2);this.Je.c.className=
"cs_prof_grid";this.pc=[j,j];this.Cb=[j,j];this.Fk();for(b=0;2>b;b++)this.Je.cells[b][0].appendChild(this.pc[b].c),this.Je.cells[b][1].appendChild(this.Cb[b].c);y(f,"div",{"class":"cs_prof_title",text:locale.Professions});f.appendChild(this.Je.c);this.La[18].$h(k);this.ik(-1)}var Ae={1:24,2:8,3:52,4:56,5:44,6:24,7:40,8:44,9:44,11:8};
Zd.prototype={b:j,c:j,character:j,he:j,La:[],e:[],vg:-1,ma:[],f:j,Xe:j,He:j,Je:j,pc:[],Cb:[],q:function(a){this.b.q(a)},Va:function(a){this.b.Va(a)},Fk:function(){for(var a,b,c=0;2>c;c++){a=[[0,""]];for(b=0;b<ab.length;b++){var d=ab[b];a.push([d,locale.PrimaryProfessions[d]])}this.pc[c]=new Be([]);this.pc[c].c.className="single_select cs_prof_sel";J(this.pc[c].c,"change",this.al,this,[c]);this.Cb[c]=new Be([]);this.Cb[c].c.className="single_select cs_prof_level_sel";J(this.Cb[c].c,"change",this.bl,
this,[c])}},al:function(a){this.b.fire("profession_select",{index:a,id:parseInt(this.pc[a].ea(),10)})},bl:function(a){this.b.fire("profession_level_select",{index:a,level:parseInt(this.Cb[a].ea(),10)})},$k:function(){this.b.fire("level_select",{level:parseInt(this.f.options[this.f.selectedIndex].value,10)})},ff:function(a){for(var b=0;b<this.f.options.length;b++)if(parseInt(this.f.options[b].value,10)==a){this.f.options[b].selected="true";break}},En:function(a,b){var c;Nb(this.f);for(var d=a;d<=b;d++)c=
document.createElement("option"),c.value=d,c.innerHTML=d,this.f.appendChild(c)},ik:function(a){var b=0;0<a&&Ae[a]&&(b=Ae[a]);b|=64;for(a=0;a<this.ma.length;a++)0!=(1<<a&b)?this.ma[a].collapse():this.ma[a].expand()},gf:function(a,b){for(var c,d,f,g=0;2>g;g++){var h=a[g];c=[[0,""]];for(d=0;d<ab.length;d++)f=ab[d],0>Tb(ab[d],b)||0==g&&a[1]!=j&&a[1].id==f||1==g&&a[0]!=j&&a[0].id==f||c.push([f,locale.PrimaryProfessions[f]]);this.pc[g].set(c);if(h!=j){this.pc[g].select(h.id.toString());this.Cb[g].c.style.display=
"block";f=Ub(h.id,b);c=[];for(d=1;d<=f;d++)c.push([d,d]);this.Cb[g].set(c);this.Cb[g].select(h.f.toString())}else this.Cb[g].c.style.display="none"}},an:function(a){-1!=a&&this.La[a].select();-1!=this.vg&&this.vg!=a&&this.La[this.vg].Pf();this.vg=a},bn:function(a){this.b.fire("class_select",{class_id:a})},cn:function(a){this.b.fire("race_select",{race_id:a})},uj:function(a,b){this.La[a].Ea(b)}};function fd(a,b){this.id=a;this.f=b}fd.prototype={id:0,f:0};function xe(a,b){var c;this.Ca=a;this.c=document.createElement("div");this.wa=[];this.v=b;this.c.className="cs_is_p  cs_is_p_"+(8>b?0:16>b?1:2);for(c=0;4>c;c++)this.wa[c]=document.createElement("img"),this.wa[c].className=0==c?"cs_is_img_large":"cs_is_img_small";this.Fa=new Ce(2);this.Fa.k[0].className="cs_is_ip cs_is_ip_"+(8>b?0:16>b?1:2);this.Fa.k[0].appendChild(this.wa[0]);this.Fa.k[1].className="character_sheet_item_highlight";this.Fa.k[1].oncontextmenu=ba(k);this.c.appendChild(this.Fa.k[0]);
J(this.Fa.k[1],"mouseover",this.jk,this,[0]);J(this.Fa.k[1],"mouseout",this.Ea,this,[0]);J(this.Fa.k[1],"click",this.hd,this,[0]);J(this.Fa.k[1],"contextmenu",this.Di,this,[0]);this.Qa=[];for(c=0;3>c;c++){this.Qa[c]=new Ce(3);document.createElement("div");this.Qa[c].k[0].className="cs_is_hi";this.Qa[c].k[1].appendChild(this.wa[c+1]);this.Qa[c].k[1].className="cs_is_hip";this.Qa[c].k[1].style.zIndex="";this.Qa[c].k[2].className="cs_is_hi_event_p";var d=y(this.Qa[c].k[2],"a",{"class":"cs_is_hi_event",
href:"javascript:"});d.oncontextmenu=ba(k);J(d,"mouseover",this.jk,this,[c+1]);J(d,"mouseout",this.Ea,this,[c+1]);J(d,"click",this.hd,this,[c+1]);J(d,"contextmenu",this.Di,this,[c+1]);this.c.appendChild(this.Qa[c].k[0])}this.j=[]}
xe.prototype={c:j,wa:[],v:-1,$:-1,selected:k,Ca:j,j:[],Fa:j,Qa:[],jk:function(a){if(this.j[a])if(1<=a){this.wa[a].src="/images/icons/large/"+this.j[a].t+".png";this.wa[a].className="cs_is_img_large";B(this.Qa[a-1].k[1],"cs_is_hip_enlarge");var b=this.j[a].ka()+"<div class='tt_note'>Press CTRL to prevent this tooltip from showing</div>";m.gk(b,this.wa[a])}else m.gk(this.j[a].ka(),this.wa[a]);this.Ca.b.fire("item_tooltip_show",{slot:this.v,index:a})},Ea:function(a){1<=a&&(this.j[a]&&(this.wa[a].src=
"/images/icons/gem/"+this.j[a].t+".png"),this.wa[a].className="cs_is_img_small",Rd(this.Qa[a-1].k[1],"cs_is_hip_enlarge"));m.hide();this.Ca.b.fire("item_tooltip_hide",{slot:this.v,index:a})},hd:function(a){this.Ca.b.fire("item_left_click",{slot:this.v,index:a})},Di:function(a){this.Ca.b.fire("item_right_click",{slot:this.v,index:a})},$h:function(a){this.c.style.display=a?"block":"none"},select:function(){this.Fa.k[0].style.backgroundImage="url(/images/site/item_border_hover.png)";this.selected=i},
Pf:function(){this.Fa.k[0].style.backgroundImage=-1<this.$?"url(/images/site/item_border_q"+this.$+".png)":"url(/images/site/item_border.png)";this.selected=k},update:function(a){this.j=a;for(var b=0;4>b;b++)a=this.j[b],a==j?0<b?(this.wa[b].style.display="none",Rd(this.Qa[b-1].k[0],/^cs_is_quality_\d+$/)):(this.wa[b].src="/images/charsheet/slots/slot_"+this.v+".jpg",this.Fa.k[0].style.backgroundImage="url(/images/site/item_border.png)"):0<b?(this.wa[b].style.display="block",B(this.Qa[b-1].k[0],"cs_is_quality_"+
a.$),this.wa[b].src="/images/icons/gem/"+a.t+".png"):(this.$=a.$,this.Fa.k[0].style.backgroundImage=this.selected?"url(/images/site/item_border_hover.png)":a.zj()?"url(/images/site/item_border_invalid.png)":-1<this.$?"url(/images/site/item_border_q"+this.$+".png)":"url(/images/site/item_border.png)",this.wa[b].src=a.zj()?"/images/icons/r/large/"+(a.t?a.t:"Temp")+".png":"/images/icons/large/"+(a.t?a.t:"Temp")+".png")}};function we(){this.c=document.createElement("div");this.b=new A;this.b.g("select_presence",["presence_id"])}
we.prototype={c:j,b:j,zl:function(a,b){this.b.ca(a,b)},update:function(a,b){Nb(this.c);if(!(a==j||0==a.length)){for(var c=0;c<a.length;c++){var d=y(this.c,"div",{"class":"ps_presence",backgroundImage:"/images/icons/"+(a[c].id==b?"":"g/")+"small/"+a[c].t+".png"});J(d,"mouseover",m.show,m,["<div class='tooltip_spell_description'>"+a[c].description+"</div>"]);d.onmouseout=function(){m.hide()};d.onmousemove=function(){m.move()};J(d,"click",function(a){this.b.fire("select_presence",{presence_id:a})},this,
[a[c].id])}Mb(this.c)}}};var De={1:447,2:493,3:511,4:1213,5:445,6:1143,7:441,8:1533,9:509,10:447,11:247,22:1469},Ee={"0":[1,3,4,7,11,22],1:[2,5,6,8,10,9]};
function ue(a){this.Ca=a;var b=new V(1,2),a=new V(7,2),c;this.c=document.createElement("div");this.c.className="rcs_parent";this.Td=document.createElement("div");this.Td.className="rcs_icon_race_container";this.Zc=document.createElement("div");this.Zc.className="rcs_icon_container";this.I=document.createElement("div");this.I.className="character_race_icon";this.I.style.backgroundImage="url(/images/site/race_class/medium/slot_empty.png)";this.Od=document.createElement("img");this.Od.className="rcs_icon_s";
this.Od.src="/images/site/race_class/medium/slot_empty.png";this.I=new Ce(4);this.I.k[0].appendChild(this.Od);this.I.k[0].className="rcs_icon_l";this.I.k[1].className="rcs_shadow";this.I.k[2].className="rcs_border";this.I.k[3].className="rcs_event_l";b.cells[0][0].appendChild(this.I.k[0]);this.td=document.createElement("img");this.td.className="rcs_icon_s";this.td.src="/images/site/race_class/medium/slot_empty.png";this.d=new Ce(4);this.d.k[0].appendChild(this.td);this.d.k[0].className="rcs_icon_l";
this.d.k[1].className="rcs_shadow";this.d.k[2].className="rcs_border";this.d.k[3].className="rcs_event_l";b.cells[0][1].appendChild(this.d.k[0]);this.c.appendChild(b.c);b=document.createElement("div");b.innerHTML="<span class='rcs_select_header'>Select a Race:</span>";c=document.createElement("a");c.className="close rcs_close";c.onclick=function(){m.enable()};b.appendChild(c);this.Td.appendChild(b);a.cells[0][0].innerHTML="<div class='rcs_faction_alliance'>Alliance</div>";a.cells[0][1].innerHTML=
"<div class='rcs_faction_horde'>Horde</div>";for(b=0;2>b;b++)for(c=0;c<Ee[b].length;c++){var d=document.createElement("div");d.className="rcs_race_icon";d.style.backgroundImage="url(/images/site/race_class/medium/chr_race_"+Ee[b][c]+".png)";J(d,"click",this.cl,this,[Ee[b][c]]);a.cells[1+c][b].appendChild(d)}this.Td.appendChild(a.c);J(this.d.k[3],"click",this.ck,this,[]);J(this.I.k[3],"click",this.sn,this,[]);J(this.d.k[3],"mouseover",this.nf,this,[1,1]);J(this.I.k[3],"mouseover",this.nf,this,[0,1]);
J(this.d.k[3],"mouseout",this.nf,this,[1,0]);J(this.I.k[3],"mouseout",this.nf,this,[0,0])}
ue.prototype={c:j,Td:j,Zc:j,I:j,Od:j,d:j,td:j,bh:-1,Ca:j,nf:function(a,b){a?this.d.k[2].style.backgroundPosition=1!=b?"0px 0px":"48px 0px":this.I.k[2].style.backgroundPosition=1!=b?"0px 0px":"48px 0px"},update:function(a,b){this.bh=a;var c,d;if(-1!=a){this.Od.src="/images/site/race_class/resized_chr_race_"+a+".png";-1!=b?(this.td.src="/images/site/race_class/resized_"+b+".png",this.d.k[2].className="rcs_class_border",this.d.k[2].style.backgroundImage="url(/images/site/race_class/class_border_"+b+
".png)"):(this.td.src="/images/site/race_class/medium/slot_empty.png",this.d.k[2].className="rcs_border",this.d.k[2].style.backgroundImage="");Nb(this.Zc);c=document.createElement("div");c.innerHTML="<span class='rcs_select_header'>Select a Class:</span>";d=document.createElement("a");d.className="close rcs_close";d.onclick=function(){m.enable()};c.appendChild(d);this.Zc.appendChild(c);for(c=0;11>c;c++)0!=(De[a]&1<<c)&&(d=document.createElement("div"),d.className="rcs_icon",d.style.backgroundImage=
"url(/images/site/race_class/medium/"+(c+1)+".png)",J(d,"click",this.Wk,this,[c+1]),this.Zc.appendChild(d));c=document.createElement("div");c.className="clear_both";this.Zc.appendChild(c)}else this.Od.src="/images/site/race_class/medium/slot_empty.png"},Wk:function(a){this.Ca.bn(a)},cl:function(a){this.Ca.cn(a)},ck:function(){-1!=this.bh?m.cd(this.Zc):m.cd(this.Td)},sn:function(){m.cd(this.Td)}};function ve(){this.c=document.createElement("div");this.b=new A;this.b.g("select_shape",["shape_id"])}
ve.prototype={b:j,c:j,hd:function(a){this.b.fire("select_shape",{shape_id:a})},ca:function(a,b){this.b.ca(a,b)},update:function(a,b){var c,d;Nb(this.c);if(a!=j&&0!=a.length){c=document.createElement("div");for(var f=0;f<a.length;f++)d=document.createElement("div"),d.className="cs_shape",d.style.backgroundImage="url(/images/icons/"+(a[f].id==b?"":"g/")+"small/"+a[f].t+".png)",c.appendChild(d),J(d,"mouseover",m.show,m,["<div class='tooltip_spell_description'>"+a[f].description+"</div>"]),d.onmouseout=
function(){m.hide()},d.onmousemove=function(){m.move()},J(d,"click",this.hd,this,[a[f].id]);this.c.appendChild(c);Mb(this.c)}}};function ze(a,b){this.b=new A;this.b.g("stat_tooltip_show",["group","index","node"]);this.b.g("stat_tooltip_hide",["group","index","node"]);this.group=a;this.index=b;var c=document.createElement("div");c.className="stat_table_value_div";this.c=document.createElement("div");this.c.className="stat_table_name_div";this.c.innerHTML=locale.CS_Stats[a][b];this.c.appendChild(c);this.compareNode=document.createElement("span");this.compareNode.className="stat_table_stat_span stat_table_stat_compare_span";
this.ya=document.createElement("span");this.ya.className="stat_table_stat_span";this.ya.innerHTML=0;c.appendChild(this.compareNode);c.appendChild(this.ya);J(this.c,"mouseover",this.el,this,[]);J(this.c,"mouseout",this.Zk,this,[]);this.c.onmouseout=function(){m.hide()};this.za=Fe[this.group][this.index]}var T=0,hd=1,ld=2,md=3,jd=4,kd=5,id=6,Fe=[[0,0,0],[0,0,0,0,0],[68,96,0,65,16,24,16,64,256],[132,160,0,129,16,24,16,256],[0,16,24,0,0,0,16,256],[0,16,16,16,0,16,16],[0,0,0,0,0]];
ze.prototype={group:-1,index:-1,name:"",li:"",c:j,value:0,ya:j,za:0,b:j,el:function(){this.b.fire("stat_tooltip_show",{group:this.group,index:this.index,node:this.c})},Zk:function(){this.b.fire("stat_tooltip_hide",{group:this.group,index:this.index,node:this.c})},q:function(a){this.b.q(a)},ca:function(a,b){this.b.ca(a,b)},V:function(a){this.value=a;this.ya.innerHTML="";(-1===a||"object"===typeof a&&-1===a[0])&&this.za&128?this.ya.innerHTML+="N/A":this.za&64?(this.Tg(a[0]),a[1]!=j&&(this.ya.innerHTML+=
"/",this.Tg(a[1]))):this.Tg(a)},Tg:function(a){this.ya.innerHTML=this.za&16?this.ya.innerHTML+((this.za&8?"+":"")+M(a,2)+"%"):this.za&32?this.ya.innerHTML+M(a,1):this.za&256?this.ya.innerHTML+M(a,2):this.za&1?this.ya.innerHTML+M(a/1E3,2):this.za&4?this.ya.innerHTML+(a[0]+"-"+a[1]):this.ya.innerHTML+Math.floor(a)},Vm:function(){this.compareNode.innerHTML=""},$c:function(a){var b;this.compareNode.innerHTML="";if(!((-1===a||"object"===typeof a&&-1===a[0])&&this.za&128))if(this.za&64){if(!(this.za&4))if(b=
this.Qg(a[0],this.value[0]),a[1]!=j){if(a=this.Qg(a[1],this.value[1]),b||a)this.compareNode.innerHTML=(b?b:"0")+"/"+(a?a:"0")}else b!=j&&(this.compareNode.innerHTML=b)}else b=this.Qg(a,this.value),this.compareNode.innerHTML=b?b:""},Qg:function(a,b){var c;c=0!=(272&this.za)?Math.floor(100*(a-b))/100:Math.floor(a-b);return 0!=c?this.za&1?"<span class='stat_table_stat_span "+(0<c?"compare_red":"compare_green")+"'>"+(0<c?"+":"-")+N(Math.abs(c)/1E3)+"</span>":"<span class='stat_table_stat_span "+(0<c?
"compare_green":"compare_red")+"'>"+(0<c?"+":"-")+(0!=(this.za&16)?N(Math.abs(c)):Math.abs(c))+"</span>":j}};function Ge(){}Ge.prototype={c:j,ea:function(){e(new Vb("SimpleUserControl","getValue"))},V:function(){e(new Vb("SimpleUserControl","setValue"))}};function He(){this.c=document.createElement("input");this.c.className="input"}He.prototype=new Ge;He.prototype.c=j;He.prototype.V=function(a){this.c.value=a};He.prototype.ea=function(){return this.c.value};function Be(a){this.c=document.createElement("select");this.c.className="single_select";this.set(a)}function Ie(a){var b=[],c=0,d;for(d in a)b[c++]=[d,a[d]];return new Be(b)}Be.prototype=new Ge;l=Be.prototype;l.c=j;l.options=[];l.Vj=function(a){this.c.name=a};l.set=function(a){var b;for(this.options=[];this.c.firstChild;)this.c.removeChild(this.c.firstChild);for(b=0;b<a.length;b++)this.options[b]=document.createElement("option"),this.options[b].value=a[b][0],this.options[b].innerHTML=a[b][1],this.c.appendChild(this.options[b])};
l.select=function(a){for(var b=0;b<this.options.length;b++)if(this.options[b].value===a){this.options[b].selected=i;break}};l.ea=function(){return this.c.options[this.c.selectedIndex].value};l.V=function(a){this.select(a)};function Je(a){var b;this.c=document.createElement("select");this.c.className="multi_select";this.c.multiple="true";this.options=[];for(b=0;b<a.length;b++)this.options[b]=document.createElement("option"),this.options[b].value=a[b][0],this.options[b].innerHTML=a[b][1],this.c.appendChild(this.options[b])}Je.prototype.c=j;Je.prototype.options=[];
Je.prototype.select=function(a){if(a!=(1<<this.options.length+1)-1)for(var b=0;b<this.options.length;b++)this.options[b].selected=0!=(a&1<<parseInt(this.options[b].value,10))};Je.prototype.ea=function(){var a=0,b,c,d=0;for(b=0;b<this.options.length;b++)c=1<<parseInt(this.options[b].value,10),d+=c,this.options[b].selected==i&&(a+=c);0==a&&(a=d);return a};function V(a,b){var c,d;this.c=document.createElement("table");this.c.cellSpacing="0";this.c.cellPadding="0";this.rows=Array(a);this.cells=Array(a);this.Kf=document.createElement("colgroup");this.cols=Array(b);this.c.appendChild(this.Kf);for(d=0;d<b;d++)this.cols[d]=document.createElement("col"),this.Kf.appendChild(this.cols[d]);this.tbody=document.createElement("tbody");this.c.appendChild(this.tbody);for(c=0;c<a;c++){this.rows[c]=document.createElement("tr");this.tbody.appendChild(this.rows[c]);
this.cells[c]=Array(b);for(d=0;d<b;d++)this.cells[c][d]=document.createElement("td"),this.rows[c].appendChild(this.cells[c][d])}}var $d="top";
V.prototype={cells:[],rows:[],cols:[],c:j,tbody:j,vAlign:"",Kf:j,Cg:function(a){var b,c;this.vAlign=a;for(b=0;b<this.cells.length;b++)for(c=0;c<this.cells[b].length;c++)this.cells[b][c].vAlign=a},wc:function(){var a=this.rows.length,b;this.rows[a]=document.createElement("tr");this.cells[a]=[];for(b=0;b<this.cols.length;b++)this.cells[a][b]=document.createElement("td"),this.cells[a][b].vAlign=this.vAlign,this.rows[a].appendChild(this.cells[a][b]);this.tbody.appendChild(this.rows[a]);return a},wl:function(){var a=
this.cols.length,b=this.rows.length;this.cols[a]=document.createElement("col");this.Kf.appendChild(this.cols[a]);for(var c=0;c<b;c++)this.cells[c][a]=document.createElement("td"),this.cells[c][a].vAlign=this.vAlign,this.rows[c].appendChild(this.cells[c][a]);return a},Rg:function(){var a=this.rows.length,b=j,c;this.rows[a]=document.createElement("tr");this.cells[a]=[];b=document.createElement("td");b.colSpan=this.cols.length;b.vAlign=this.vAlign;this.rows[a].appendChild(b);for(c=0;c<this.cols.length;c++)this.cells[a][c]=
b;this.tbody.appendChild(this.rows[a]);return a},show:function(){this.c.style.display="table"},hide:function(){this.c.style.display="none"}};function ye(){this.c=document.createElement("div");this.qa=document.createElement("div");this.content=document.createElement("div");this.c.appendChild(this.qa);this.c.appendChild(this.content);this.qa.In=ba(k);this.qa.onmousedown=ba(k);J(this.qa,"click",this.toggle,this,[]);this.collapse()}ye.prototype={c:j,content:j,qa:j,pb:j,collapse:function(){this.content.style.display="none";this.pb=k},expand:function(){this.content.style.display="block";this.pb=i},toggle:function(){this.pb?this.collapse():this.expand()}};function Ce(a){if(0<a){this.k=[];this.k[0]=document.createElement("div");this.k[0].style.position="relative";for(var b=1;b<a;b++)this.k[b]=document.createElement("div"),this.k[b].style.position="absolute",this.k[b].style.zIndex=b,this.k[0].appendChild(this.k[b])}}Ce.prototype={k:j};function ie(a,b,c){this.lf=new Ke(a.length);this.Kg=new Le(b,c,this.show,this);this.c=this.lf.c;this.eg=this.Kg.c;for(b=0;b<a.length;b++)this.lf.j[b].appendChild(a[b])}ie.prototype={eg:j,c:j,pb:0,Kg:j,lf:j,Qc:j,yg:aa("Qc"),show:function(a){var b=this.pb;this.pb=a;this.lf.show(a);this.Kg.select(a);this.Qc&&this.Qc.notify([a,b])}};function Le(a,b,c,d){var f=document.createElement("div");this.c=document.createElement("div");this.c.className=b+"_sel";this.ke=b;this.links=[];for(var g=0;g<a.length;g++)this.links[g]=document.createElement("a"),this.links[g].className=b+"_i"+g+(0==g?"_a "+b+"_i_a_base":" "+b+"_i_base"),this.links[g].innerHTML="<span class='"+b+"_l_f'>"+a[g]+"</span>",J(this.links[g],"click",c,d,[g]),this.c.appendChild(this.links[g]);f.className="clear_both";Mb(f)}l=Le.prototype;l.ke="";l.links=j;l.c=j;
l.selected=0;l.select=function(a){this.links[this.selected].className=this.ke+"_i"+this.selected+" "+this.ke+"_i_base";this.links[a].className=this.ke+"_i"+a+"_a "+this.ke+"_i_a_base";this.selected=a};function Ke(a){this.j=[];this.c=document.createElement("div");for(var b=0;b<a;b++)this.j[b]=document.createElement("div"),this.j[b].style.display=0==b?"block":"none",this.j[b].style.width="100%",this.j[b].style.height="100%",this.c.appendChild(this.j[b]);this.pb=0}Ke.prototype={j:j,c:j,pb:0,Qc:j,show:function(a){if(a!=this.pb){var b=this.pb;this.j[a].style.display="block";this.j[b].style.display="none";this.pb=a;this.Qc&&this.Qc.notify([a,b])}},yg:function(a,b){this.Qc=new r(a,b)}};function Me(a,b){this.map={};if(a)for(var c in a)this.map[c]=a[c];this.parent=b;this.Dd=document.createElement("input");J(this.Dd,"change",this.Lg,this,[]);J(this.Dd,"keyup",this.Lg,this,[]);J(this.Dd,"blur",this.Lg,this,[])}Me.prototype={filter:function(a){Nb(this.parent);for(var b in this.map)(!a||RegExp(a,"i").exec(b))&&this.parent.appendChild(this.map[b])},rn:function(){Nb(this.parent);for(var a in this.map)this.parent.appendChild(this.map[a])},Lg:function(){this.filter(this.Dd.value)}};function Ne(){this.M={};this.c=x("div",{"class":"ba_p"});this.xc=new ye;this.xc.qa.appendChild(x("a",{href:"javascript:;",text:locale.RF_BatchHeader}));this.xc.qa.className="collapse_h ba_collapse_h";this.xc.content.className="collapse_c ba_collapse_c";this.xc.c.className="collapse ba_collapse";this.gg=this.xc.content;C(this.c,this.xc.c)}
Ne.prototype={M:j,xc:j,gg:j,c:j,ee:function(a,b,c){var d=y(this.gg,"div",{"class":"ba_op_container"}),b=y(d,"a",{text:b,href:"javascript:;","class":"ba_simple_op_link"});Eb(b,"click",c,[a]);this.M[a]={id:a,node:d};return this.M[a]},Ui:function(a,b,c,d){var f;f=y(this.gg,"div",{"class":"ba_op_container"});b=y(f,"div",{"class":"ba_op_title",text:b});d&&C(b,Td(d));d=y(f,"div",{});C(d,c);this.M[a]={id:a,node:f};return this.M[a]},remove:function(a){"undefined"!==typeof this.M[a]&&this.M[a]!==j&&(this.gg.removeChild(this.M[a].node),
delete this.M[a])},show:function(a){this.Ji(a);this.M[a].c.display.style="none"},hide:function(a){this.Ji(a);this.M[a].c.display.style=""},Ji:function(a){("undefined"===typeof this.M[a]||this.M[a]===j)&&e(Error("No batch operation with id '"+a+"' found!"))}};function Oe(){this.c=document.createElement("div");this.b=new A;this.b.g("change",["data"])}Oe.prototype={c:j,disabled:k,wh:k,b:j,setData:function(){e(new Vb("Editable","setData"))},readOnly:aa("wh"),q:function(a){this.b.q(a)}};function Pe(a){return a?'<a href="javascript:;" title="Click to edit">'+a+"</a>":"<span class='ui_data_nothing'>None</span>"};function le(){Oe.call(this);this.w=x("div",{});this.input=new He;J(this.input.c,"blur",this.ae,this,[k]);J(this.w,"click",this.ae,this,[i]);this.form=x("form",{action:"javascript:"});this.form.appendChild(this.input.c);J(this.form,"submit",this.ce,this,[])}le.prototype=new Oe;l=le.prototype;l.input=j;l.w=j;l.form=j;l.data=j;l.setData=function(a){this.data=a;this.input.V(a);this.disabled=k;a=this.input.ea();this.w.innerHTML=Pe(a);v(this.c,this.w)};
l.ae=function(a){a?!this.disabled&&!this.wh&&(v(this.c,this.form),this.input.c.focus()):(v(this.c,this.w),this.input.V(this.data))};l.ce=function(){this.b.fire("change",{data:this.input.ea()});v(this.c,x("img",{src:"/images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function ke(a){Oe.call(this);this.options=a;this.w=x("div",{});this.select=Ie(a);this.select.c.className+=" single_select_focussable";J(this.select.c,"blur",this.ae,this,[k]);J(this.w,"click",this.ae,this,[i]);J(this.select.c,"change",this.ce,this,[])}ke.prototype=new Oe;l=ke.prototype;l.select=j;l.w=j;l.data=j;l.options=[];l.setData=function(a){this.data=a;this.select.V(a);this.disabled=k;this.w.innerHTML=Pe(this.options[a]);v(this.c,this.w)};
l.ae=function(a){a?!this.disabled&&!this.wh&&(v(this.c,this.select.c),this.select.c.focus()):(v(this.c,this.w),this.select.V(this.data))};l.ce=function(){this.b.fire("change",{data:this.select.ea()});v(this.c,x("img",{src:"/images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function me(a){var b=[],c=0,d,f,g;Oe.call(this);this.mg=a;this.c.className="bnpm_c";this.content=document.createElement("div");this.content.className="bnpm_content";this.Ec=document.createElement("div");this.Yb=document.createElement("a");this.Yb.className="add bnpm_add_link";this.Yb.href="javascript:";this.Yb.innerHTML="Add a Battle.net Profile";J(this.Yb,"click",this.Tk,this,[]);d=new V(2,3);d.c.className="bnpm_grid";this.Ec.appendChild(this.Yb);this.c.appendChild(this.content);this.c.appendChild(this.Ec);
this.zb=new He;this.qc=new Be([]);this.qc.c.className+=" single_select_focussable";this.cb=new Be([]);this.cb.c.className+=" single_select_focussable";d.cols[0].width="160px";d.cols[1].width="160px";d.cols[2].width="160px";d.cells[0][0].innerHTML="Name";d.cells[0][1].innerHTML="Region";d.cells[0][2].innerHTML="Realm";d.cells[1][0].appendChild(this.zb.c);d.cells[1][1].appendChild(this.cb.c);d.cells[1][2].appendChild(this.qc.c);this.zb.c.className+=" bnpm_input";this.cb.c.className+=" bnpm_select";
this.qc.c.className+=" bnpm_select";this.yf=document.createElement("div");this.yf.className="bnpm_add_parent";g=document.createElement("div");g.className="group bnpm_input_parent";g.appendChild(d.c);d=document.createElement("form");d.action="javascript:";J(d,"submit",this.fl,this,[]);d.appendChild(g);g=document.createElement("div");f=document.createElement("input");f.type="button";Rb(f,{"default":"button button_light bnpm_add_cancel_btn",hover:"button_light_hover"});f.value="Cancel";J(f,"click",this.Uk,
this,[]);g.appendChild(f);f=document.createElement("input");f.type="submit";Rb(f,{"default":"button button_light bnpm_add_add_btn",hover:"button_light_hover"});f.value="Add";g.appendChild(f);g.className="bnpm_add_ctrl_parent";d.appendChild(g);this.yf.appendChild(d);J(this.cb.c,"change",this.dl,this,[]);for(var h in a)b[c++]=[h,locale.Regions[h]];this.cb.set(b);this.cb.select("us");Qe(this,this.cb.ea())}me.prototype=new Oe;l=me.prototype;l.c=j;l.content=j;l.Ec=j;l.yf=j;l.Yb=j;l.mg=j;l.zb=j;l.qc=j;
l.cb=j;
l.setData=function(a){var b,c;this.content.innerHTML="";for(var d in a){b=a[d];c=document.createElement("div");c.className="group bnpm_entry";var f=y(c,"a",{href:"javascript:;","class":"remove bnpm_remove"});J(f,"click",this.Mg,this,[b,c]);y(c,"span",{text:b.Name,"class":"bnpm_name"});y(c,"span",{text:", "+b.Level+" "+locale.CharacterRace[b.CharacterRaceID]+" "});y(c,"span",{text:locale.CharacterClass[b.CharacterClassID],"class":"character_class_"+b.CharacterClassID+" bnpm_chrclass"});y(c,"span",
{text:", "+b.Region.toUpperCase()+"-"+b.Realm,"class":"bnpm_origin"});y(c,"br",{});y(c,"a",{href:ja()+"Planner.html"+("?"+F({name:b.Name,realm:b.Realm,region:b.Region})),text:"Static link to import this character from Battle.net into chardev","class":"bnpm_static_link"});this.content.appendChild(c)}this.disabled=k;v(this.Ec,this.Yb)};l.Uk=function(){v(this.Ec,this.Yb)};l.Tk=function(){v(this.Ec,this.yf)};
l.Mg=function(a,b){this.disabled||(this.b.fire("change",{data:JSON.stringify({removeBattleNetProfile:a})}),b.innerHTML="<img src='/images/site/bar_loading.gif' class='bnpm_bar_loading' />")};
l.fl=function(){var a;if(a=!this.disabled)a=this.zb.ea(),2>a.length?(m.C("Character name is too short!"),a=k):12<a.length?(m.C("Character name is too long!"),a=k):a=i;a&&(this.disabled=i,this.b.fire("change",{data:JSON.stringify({addBattleNetProfile:{Name:this.zb.ea(),Realm:this.qc.ea(),Region:this.cb.ea()}})}),this.Ec.innerHTML="<img src='/images/site/bar_loading.gif' class='ui_bar_loading' />")};l.dl=function(){Qe(this,this.cb.ea())};
function Qe(a,b){var c=[],d=0,f;for(f in a.mg[b])c[d++]=[a.mg[b][f],a.mg[b][f]];a.qc.set(c)};new Oe;function fe(){this.b=new A;this.b.g("socket_left_click",["socket"]);this.b.g("socket_right_click",["socket"]);this.b.g("socket_used_gem",["socket","gemId"]);this.b.g("used_gem_tooltip_show",["socket","gemId"]);this.b.g("used_gem_tooltip_hide",["socket","gemId"]);this.b.g("socket_all",["gemId"]);this.b.g("socket_all_color",["color","gemId"]);this.b.g("remove_all_gems",[]);this.b.g("remove_all_gems_by_id",["gemId"]);this.c=x("div",{});this.xa=[new Ce(5),new Ce(5),new Ce(5)];this.M=new Ne;B(this.M.c,
"ra_group");this.c.appendChild(this.M.c);this.M.ee("remove_all",locale.SI_RemoveAllGems,new r(function(){this.fg(Re)},this));this.ye=y(this.c,"div",{"class":"si_main"});this.li=y(this.ye,"div",{"class":"si_tt_p"});this.gd=y(this.ye,"div",{"class":"ra_group si_used_parent"});this.kk=y(this.ye,"div",{"class":"si_socket_parent"});for(var a=0;3>a;a++)this.xa[a].k[0].className="si_gem_p",this.xa[a].k[1].className="si_bg",this.xa[a].k[2].className="si_no_highlight",this.xa[a].k[4].className="si_event",
this.xa[a].k[4].oncontextmenu=ba(k),J(this.xa[a].k[4],"mouseover",this.Cm,this,[a]),J(this.xa[a].k[4],"mouseout",this.Bm,this,[a]),this.xa[a].k[4].onmousemove=function(){m.move()},J(this.xa[a].k[4],"click",this.Am,this,[a]),J(this.xa[a].k[4],"contextmenu",this.b.fire,this.b,["socket_right_click",{socket:a}]);this.jc=document.createElement("div");this.c.appendChild(this.jc);this.Th(-1);this.Yf=new sa;this.Yf.ln(this.li);this.Yf.w.className="fixed_tooltip_div";this.Yh(k)}var Re=0;
fe.prototype={Sb:-1,li:j,c:j,ye:j,xa:[],v:0,character:j,gd:j,Ra:j,b:j,jc:j,M:j,Yf:j,Yh:function(a){this.ye.style.display=a?"block":"none"},$j:function(a){this.jc.style.display=a?"block":"none"},Xh:function(a){this.jc.appendChild(a)},update:function(a,b){if(a==j)this.Yh(k);else{this.Yh(i);this.Ra=a;var c,d,f,g,h=0,n;this.Yf.show(a.bm());f=a.jm();U(this.kk);n=y(this.kk,"div",{});for(c=0;c<a.R.length;c++)if(0<a.R[c]||f){0>=a.R[c]?(f=k,g="prismatic"):g=14==a.R[c]?"prismatic":Math.log(a.R[c])/Math.log(2);
d=this.xa[c];d.k[1].style.backgroundImage="url(/images/socket_interface/socket_"+g+"_large.png)";if(a.Hc(c)==j)d.k[3].className="si_braces",d.k[3].style.backgroundImage="url(/images/socket_interface/socket_"+g+"_braces_open.png)",Nb(d.k[1]);else{var p=document.createElement("img");p.src="/images/icons/large/"+a.Hc(c).t+".png";p.className="si_gem_icon";v(d.k[1],p);d.k[3].className="si_braces";d.k[3].style.backgroundImage="url(/images/socket_interface/socket_"+g+"_braces_closed.png)"}C(n,d.k[0]);h++}n.className=
"si_sp_"+h+"_gems";U(this.gd);C(y(this.gd,"span",{"class":"si_used_title_fix",text:locale.SI_UsedGems}),Td("Gems already present on your gear"));for(var u in b)c=b[u],d=y(this.gd,"a",{"class":"si_used_gem",backgroundImage:"/images/icons/small/"+c.t+".png"}),J(d,"mouseover",this.Fm,this,[c]),J(d,"mouseout",this.Em,this,[c]),J(d,"click",this.Dm,this,[c.id]),d.onmousemove=function(){m.move()};Mb(this.gd)}},Cm:function(a){B(this.xa[a].k[2],"si_highlight");this.Ra!=j&&this.Ra.Hc(a)&&m.eb(this.Ra.Hc(a).ka())},
Bm:function(a){Rd(this.xa[a].k[2],"si_highlight");m.hide()},Fm:function(a){this.b.fire("used_gem_tooltip_show",{socket:this.Sb,gemId:a.id});m.eb(a.ka()+"<div class='tt_note'>Left click to socket</div>")},Em:function(a){m.hide();this.b.fire("used_gem_tooltip_hide",{socket:this.Sb,gemId:a.id})},Dm:function(a){this.b.fire("socket_used_gem",{socket:this.Sb,gemId:a})},Am:function(a){this.b.fire("socket_left_click",{socket:a})},fg:function(a){if(a==Re)this.b.fire("remove_all_gems",{});else{var b=this.Ra.Hc(this.Sb).id;
switch(a){case 3:this.b.fire("remove_all_gems_by_id",{gemId:b});break;case 1:this.b.fire("socket_all_gems",{gemId:b});break;case 2:this.b.fire("socket_all_gems",{gemId:b,color:this.Ra.R[this.Sb]})}}},Th:function(a){this.M.remove("remove_color");this.M.remove("add_all");this.M.remove("add_color");if(-1!=a){var b=this.Ra.Hc(a);this.gd.style.display="block";B(this.xa[a].k[0],"si_gem_p_selected");b!=j&&(this.M.ee("remove_color",L(locale.SI_RemoveGems,b.name),new r(function(){this.fg(3)},this)),this.M.ee("add_all",
L(locale.SI_SocketAll,b.name),new r(function(){this.fg(1)},this)),1<this.Ra.R[a]&&this.M.ee("add_color",K(locale.SI_SocketAllColor,[b.name,locale.SI_SocketColors[this.Ra.R[a]]]),new r(function(){this.fg(2)},this)));this.$j(i)}else this.gd.style.display="none",this.$j(k);-1!=this.Sb&&this.Sb!=a&&Rd(this.xa[this.Sb].k[0],"si_gem_p_selected");this.Sb=a},q:function(a){this.b.q(a)}};function be(){this.b=new A;this.b.g("reforge",["reduce","add"]);this.b.g("reforge_all",["reforge_array"]);this.b.g("reforge_preview",["reforge_array"]);this.b.g("reforge_item_preview",["reduce","add"]);this.b.g("restore",[]);this.b.g("restore_all",[]);this.b.g("remove_reforge_preview",[]);this.b.g("remove_reforge_item_preview",[]);this.b.g("wowreforge_export",[]);this.c=x("div",{});this.M=new Ne;B(this.M.c,"ra_group");C(this.c,this.M.c);var a=x("form",{action:"javascript:;"});this.Ck=y(a,"input",
{"class":"input rf_wowreforgeurl"});var b=y(a,"input",{type:"submit",text:locale.RF_ImportWoWReforge,"class":"button button_light"});this.M.Ui("wowreforge_import",locale.RF_WoWReforgeImport,a,locale.RF_WoWReforgeImportHelp);J(a,"submit",this.ql,this,j);J(b,"mouseover",function(){var a=this.Ei();a!=j&&this.b.fire("reforge_preview",{reforge_array:a})},this,j);J(b,"mouseout",function(){this.b.fire("remove_reforge_preview")},this,j);a=x("div",{});b=y(a,"input",{type:"submit",text:locale.RF_ExportWoWReforge,
"class":"button button_light"});this.M.Ui("wowreforge_import",locale.RF_WoWReforgeExport,a,locale.RF_WoWReforgeExportHelp);J(b,"click",this.pl,this,j);a=this.M.ee("restore_all",locale.RF_RestoreAll,new r(function(){this.b.fire("restore_all")},this));J(a.node,"mouseover",function(){this.b.fire("reforge_preview",{reforge_array:[]})},this,j);J(a.node,"mouseout",function(){this.b.fire("remove_reforge_preview")},this,j);this.content=y(this.c,"div",{})}
be.prototype={b:j,c:j,content:j,Ck:j,M:j,update:function(a){var b=[],c=[],d,f,g,h,n,p,u;U(this.content);if(a){u=x("div",{"class":"rf_title_c"});y(u,"span",{text:"Reforge ","class":"rf_title"});d=y(u,"a",{text:a.name,"class":"item_quality_"+a.$+" rf_item_name",href:"javascript:"});Vd(d,a.ka());for(d=0;d<Oa.length;d++)f=Oa[d],g=a.sh(f),0<g?b.push([f,g]):c.push(f);if(a.xh())if(0==b.length)v(this.content,u),y(this.content,"div",{text:"This items has no reforgable stats!","class":"rf_error"});else{var s=
new V(0,c.length+2);s.c.className="rf_grid";p=s.Rg();C(s.cells[p][0],u);p=s.wc();for(d=0;d<c.length;d++)s.cells[p][2+d].innerHTML=locale.ItemStatNamesShort[c[d]],s.cells[p][2+d].className="rf_to_stat";for(d=0;d<b.length;d++){p=s.wc();h=0==d%2?"row_bg1":"row_bg2";s.cells[p][0].innerHTML=locale.ItemStatNames[b[d][0]];s.cells[p][0].className=h+" rf_from_stat";s.cells[p][1].innerHTML=b[d][1];s.cells[p][1].className=h+" rf_from_value";d==b.length-1&&(B(s.cells[p][0],"rf_from_stat_bottom"),B(s.cells[p][1],
"rf_from_value_bottom"));for(f=0;f<c.length;f++)u=x("div",{"class":h+" rf_cell"}),0==d&&B(u,"rf_cell_top"),d==b.length-1&&B(u,"rf_cell_bottom"),0==f&&B(u,"rf_cell_left"),f==c.length-1&&B(u,"rf_cell_right"),a.Z==c[f]&&a.ia==b[d][0]?(s.cells[p][1].className+=" red",n=y(u,"a",{"class":"rf_to_value rf_to_active",text:a.da,href:"javascript:"}),J(n,"click",this.Hi,this,[]),J(n,"mouseover",this.Ci,this,[-1,-1]),J(n,"mouseout",this.Bi,this,[]),Vd(n,"<div class='rf_tt_c'>Click to restore <span class='green'>"+
a.da+"</span> <span class='green'>"+locale.ItemStatNames[b[d][0]]+"</span> from <span class='red'>"+locale.ItemStatNames[c[f]]+"</span></div>")):(g=b[d][1],a.ia==b[d][0]&&(g=a.Qb),g=Math.floor(0.4*g),n=y(u,"a",{"class":"rf_to_value",text:g,href:"javascript:"}),J(n,"click",this.gl,this,[b[d][0],c[f]]),J(n,"mouseover",this.Ci,this,[b[d][0],c[f]]),J(n,"mouseout",this.Bi,this,[]),Vd(n,"<div class='rf_tt_c'>Click to reforge <span class='green'>"+g+"</span> <span class='red'>"+locale.ItemStatNames[b[d][0]]+
"</span> into <span class='green'>"+locale.ItemStatNames[c[f]]+"</span></div>")),v(s.cells[p][2+f],u)}d=s.Rg();s.cells[d][0].className="rf_b";n=y(s.cells[d][0],"a",{"class":"button button_light link_button",href:"javascript:",text:"Restore"});J(n,"click",this.Hi,this,[]);C(this.content,s.c)}else v(this.content,u),y(this.content,"div",{text:"This items is not reforgable!","class":"rf_error"})}},gl:function(a,b){this.b.fire("reforge",{reduce:a,add:b})},Hi:function(){this.b.fire("restore",{})},Bi:function(){this.b.fire("remove_reforge_item_preview",
{})},Ci:function(a,b){this.b.fire("reforge_item_preview",{reduce:a,add:b})},ql:function(){var a=this.Ei();a!=j&&this.b.fire("reforge_all",{reforge_array:a})},Ei:function(){var a=ga(this.Ck);if(!a)return j;var b=a.match(/reforge=((?:\d|-){34})/i);if(!b[1])return m.C(L(locale.RF_WoWReforge_UnableToParse,a)),j;for(var a=b[1],b=[],c=0;17>c;c++)"-"==a[2*c]||"-"==a[2*c+1]||(b[Ta[c]]=[Sa[parseInt(a[2*c],10)],Sa[parseInt(a[2*c+1],10)]]);return b},pl:function(){this.b.fire("wowreforge_export",{})}};function Se(){this.c=x("div",{"class":"rs_p"})}
Se.prototype={c:j,update:function(a){for(var b=new V(1,Oa.length+1),c=[0,0,0,0,0,0,0,0],d=0;d<Oa.length;d++)b.cells[0][1+d].innerHTML="<div class='rs_header'>"+locale.ItemStatNamesShort[Oa[d]]+"</div>";for(d=0;18>d;d++){var f=a.j[d];if(f&&-1!=f.ia){var g=b.wc(),h=y(b.cells[g][0],"div",{"class":"row_bg"+(1+g%2)+" rs_cell rs_cell_l"}),n=y(h,"a",{text:f.name,"class":"item_quality_"+f.$,href:"javascript:;"});Vd(n,f.ka());1==g&&B(h,"rs_cell_top");for(h=0;h<Oa.length;h++)f.ia==Oa[h]?(y(b.cells[g][1+h],
"span",{"class":"rs_stat red",text:"-"+f.da}),c[h]-=f.da):f.Z==Oa[h]?(y(b.cells[g][1+h],"span",{"class":"rs_stat green",text:"+"+f.da}),c[h]+=f.da):y(b.cells[g][1+h],"span",{"class":"grey",text:"0"}),B(b.cells[g][1+h],"rs_cell row_bg"+(1+g%2)),1==g&&B(b.cells[g][1+h],"rs_cell_top");B(b.cells[g][1],"rs_cell_lp");B(b.cells[g][8],"rs_cell_rp")}}g=b.wc();for(h=0;h<Oa.length;h++)0<c[h]?y(b.cells[g][1+h],"div",{"class":"rs_stat_sum green",text:"+"+Math.abs(c[h])}):0>c[h]&&y(b.cells[g][1+h],"div",{"class":"rs_stat_sum red",
text:"-"+Math.abs(c[h])});U(this.c);y(this.c,"div",{"class":"rs_title",text:"Reforge Summary"});C(this.c,b.c)}};function ce(){this.c=x("div",{"class":"gi_p"});this.b=new A;this.b.g("add_glyph",["glyph"]);this.b.g("remove_glyph",["glyph"])}
ce.prototype={c:j,b:j,update:function(a,b){var c,d;U(this.c);if(0==b.gc())y(this.c,"div",{"class":"gi_error",text:"You have to select a Class before you can use Glyphs!"});else if(0==b.lj())y(this.c,"div",{"class":"gi_error",text:"You have to reach Level 25 before you can use Glyphs!"});else{c=y(this.c,"div",{"class":"gi_glyphs_p"});y(this.c,"div",{"class":"gi_list_h",text:"Available Glyphs"});var f=y(this.c,"div",{"class":"gi_list_p"}),g=y(c,"div",{"class":"gi_glyphs_c"}),h=y(c,"div",{"class":"gi_glyphs_c"}),
n=y(c,"div",{"class":"gi_glyphs_c"});y(g,"div",{"class":"gi_list_h",text:"Prime Glyphs"});y(h,"div",{"class":"gi_list_h",text:"Major Glyphs"});y(n,"div",{"class":"gi_list_h",text:"Minor Glyphs"});var p=[0,0,0],u={};for(c=0;c<b.L.length;c++){2==b.L[c].rb.type?(d=g,p[2]++):0==b.L[c].rb.type?(d=h,p[0]++):(d=n,p[1]++);u[b.L[c].id]=i;var s=y(d,"div",{"class":"gi_glyph_c"});y(s,"img",{"class":"gi_glyph_icon",src:"/images/icons/half/"+b.L[c].re()+".png"});d=y(s,"a",{"class":"gi_glyph",href:"javascript:",
text:b.L[c].getName()});d.oncontextmenu=ba(k);Vd(d,b.L[c].ka()+"<div class='gi_note'>Right click to remove</div>");s.oncontextmenu=ba(k);J(s,"contextmenu",this.b.fire,this.b,["remove_glyph",{glyph:b.L[c]}])}for(c=0;c<b.lj();c++)if(c>=p[0]&&(s=y(h,"div",{"class":"gi_glyph_c gi_empty"}),d=y(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),Vd(d,"Select a Glyph from the list below")),c>=p[1]&&(s=y(n,"div",{"class":"gi_glyph_c gi_empty"}),d=y(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),Vd(d,
"Select a Glyph from the list below")),c>=p[2])s=y(g,"div",{"class":"gi_glyph_c gi_empty"}),d=y(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),Vd(d,"Select a Glyph from the list below");g=y(f,"div",{"class":"gi_list_c"});h=y(f,"div",{"class":"gi_list_c"});f=y(f,"div",{"class":"gi_list_c"});for(c=0;c<a.length;c++)u[a[c].id]!==i&&(d=2==a[c].rb.type?g:0==a[c].rb.type?h:f,d=y(d,"a",{"class":"gi_list_entry",href:"javascript:",text:a[c].getName()}),Vd(d,a[c].ka()+"<div class='gi_note'>Left click to add</div>"),
J(d,"click",this.b.fire,this.b,["add_glyph",{glyph:a[c]}]))}}};function ee(){this.c=document.createElement("div");this.Uc=x("div",{"class":"ra_group rpi_parent"});this.jc=document.createElement("div");var a=this.c,b=[this.Uc,this.jc],c;for(c in b)a.appendChild(b[c]);this.b=new A;this.b.g("change",["randomEnchantmentId"])}
ee.prototype={c:j,Uc:j,jc:j,select:j,hc:j,b:j,update:function(a){this.Uc.style.display="none";if(a!=j){var b=[],c=a.Cf;Nb(this.Uc);if(c){this.Uc.style.display="block";b[0]=[0,""];for(var d=0;d<c.length;d++)b[d+1]=[c[d].id,"..."+c[d].name+": "+c[d].description];this.select=new Be(b);a.N&&this.select.select(a.N.id);J(this.select.c,"change",this.Eh,this,[]);this.Uc.innerHTML="<div class='rpi_title'>"+locale.RPI_SelectRandomEnchant+"</div>";a=document.createElement("div");a.className="rpi_content";a.appendChild(this.select.c);
this.select.c.className="single_select rpi_select";this.Uc.appendChild(a)}}},Eh:function(){this.b.fire("change",{randomEnchantmentId:parseInt(this.select.ea(),10)})},Xh:function(a){v(this.jc,a)},yg:function(a,b){this.hc=[a,b]},q:function(a){this.b.q(a)}};function ge(){var a,b;this.b=new A;this.b.g("import",["region","realm","name"]);this.c=x("div",{"class":"im_parent"});b=x("form",{action:"javascript:"});J(b,"submit",this.ul,this,[]);this.Xf=document.createElement("input");this.Xf.className="input im_sa_in";this.uh=document.createElement("input");this.uh.className="input im_sa_in";this.ve=new Be([["us",locale.US+"/"+locale.Oceanic],["eu",locale.Europe],["kr",locale.Korea],["tw",locale.Taiwan],["cn",locale.China]]);g_settings.userData&&g_settings.userData.region&&
this.ve.select(g_settings.userData.region);y(b,"div",{"class":"content_header im_header",text:"Import a character from Battle.net"});this.ve.c.className="single_select single_select_focussable";this.vh=x("input",{type:"submit",value:"Import"});Rb(this.vh,{"default":"button button_light",focus:"button_light_hover",hover:"button_light_hover"});a=y(b,"div",{"class":"im_sa_r"});y(a,"div",{"class":"im_sa_left",text:"Name"});C(y(a,"div",{"class":"im_sa_right"}),this.Xf);Sd(a);a=y(b,"div",{"class":"im_sa_r"});
y(a,"div",{"class":"im_sa_left",text:"Realm"});C(y(a,"div",{"class":"im_sa_right"}),this.uh);Sd(a);a=y(b,"div",{"class":"im_sa_r"});y(a,"div",{"class":"im_sa_left",text:"Region"});C(y(a,"div",{"class":"im_sa_right"}),this.ve.c);Sd(a);C(y(b,"div",{"class":"im_sa_b"}),this.vh);C(y(this.c,"div",{"class":"im_inputs"}),b);this.Hg=y(this.c,"div",{"class":"im_profiles"});Sd(this.c)}
ge.prototype={b:j,c:j,Hg:j,Xf:j,vh:j,ve:j,ul:function(){var a=this.Xf.value,b=this.uh.value;""==a||2>a.length?m.C("The character name is empty or too short!"):""==b?m.C("The realm name is empty or too short!"):this.b.fire("import",{name:a,realm:b,region:this.ve.ea()})},hf:function(a){U(this.Hg);C(this.Hg,Ud("div",{"class":"im_profiles_header",text:"Stored Imports"},"See your account settings to manage Stored Imports."));if(a!=j)for(var b in a){var c=a[b],d=y(this.Hg,"a",{"class":"im_profile",href:"javascript:"});
J(d,"click",this.b.fire,this.b,["import",{name:c.Name,realm:c.Realm,region:c.Region}]);y(d,"span",{"class":"bnpm_name",text:c.Name});y(d,"span",{text:", "+c.Level+" "+locale.CharacterRace[c.CharacterRaceID]+" "});var f=y(d,"span",{"class":"character_class_"+c.CharacterClassID+" bnpm_chrclass",text:locale.CharacterClass[c.CharacterClassID]});5==c.CharacterClassID?B(f,"character_class_5_white_bg_fix"):4==c.CharacterClassID&&B(f,"character_class_4_white_bg_fix");y(d,"span",{"class":"bnpm_origin",text:", "+
c.Region.toUpperCase()+"-"+c.Realm})}},q:function(a){this.b.q(a)}};function he(){this.b=new A;this.b.g("save",["name","desc"]);this.b.g("update",[]);var a;this.c=x("div",{"class":"im_parent"});this.Zd=x("form",{action:"javascript:"});J(this.Zd,"submit",function(){this.b.fire("update")},this,[]);y(this.Zd,"div",{"class":"content_header im_header",text:"Update the current profile"});C(y(this.Zd,"div",{"class":"im_sa_b"}),x("input",{type:"submit",value:"Update","class":"button button_light"}));C(y(this.c,"div",{"class":"im_sa_inputs"}),this.Zd);this.Pc=x("form",{action:"javascript:"});
J(this.Pc,"submit",function(){this.b.fire("save",{name:ga(this.zb),desc:ga(this.jh)})},this,[]);this.zb=x("input",{"class":"input im_sa_in"});this.jh=x("input",{"class":"input im_sa_in"});y(this.Pc,"div",{"class":"content_header im_header",text:"Save as a profile"});a=y(this.Pc,"div",{"class":"im_sa_r"});y(a,"div",{"class":"im_sa_left",text:locale.S_ProfileName});C(y(a,"div",{"class":"im_sa_right"}),this.zb);Sd(a);a=y(this.Pc,"div",{"class":"im_sa_r"});y(a,"div",{"class":"im_sa_left",text:locale.S_CharacterDescription});
C(y(a,"div",{"class":"im_sa_right"}),this.jh);Sd(a);C(y(this.Pc,"div",{"class":"im_sa_b"}),x("input",{type:"submit",value:"Save","class":"button button_light"}));C(y(this.c,"div",{"class":"im_sa_inputs"}),this.Pc)}he.prototype={b:j,c:j,zb:j,jh:j,Pc:j,Zd:j,update:function(a){this.Zd.style.display=a?"":"none"},q:function(a){this.b.q(a)}};function de(){this.b=new A;this.b.g("add_buff",["id"]);this.c=x("div",{"class":"bi_p"});this.content=y(this.c,"div",{display:"none"});this.pa=y(this.content,"div",{});this.Dj=y(this.content,"div",{});this.nk=y(this.content,"div",{});this.Jj=y(this.content,"div",{});this.Fj=y(this.c,"div",{"class":"bi_loading"})}
de.prototype={b:j,c:j,pa:j,Dj:j,Jj:j,xe:k,content:j,Fj:j,update:function(a,b,c){var d,f=new ye,g=new ye;g.qa.className="collapse_h bi_collapse_h";g.content.className="collapse_c bi_collapse_c";g.c.className="collapse bi_collapse";f.qa.className="collapse_h bi_collapse_h";f.content.className="collapse_c bi_collapse_c";f.c.className="collapse bi_collapse";v(this.Dj,g.c);v(this.Jj,f.c);for(var h in a)d=a[h],g.content.appendChild(this.gh(d.t,d,i,d.name));for(h in b)d=b[h],f.content.appendChild(this.gh(d.t,
d,i,d.name));Mb(g.content);g.qa.innerHTML="<a clas='bi_bc_link' href='javascript:'>Items (Use-Effects)</a><span class='bi_cb_count'>("+a.length+")</span>";Mb(f.content);f.qa.innerHTML="<a clas='bi_bc_link' href='javascript:'>Item Procs</a><span class='bi_cb_count'>("+b.length+")</span>";Nb(this.nk);this.ta(c,"Talent Buffs",this.nk,i)},we:function(a){U(this.pa);this.ta(a.Warrior,"Warrior",this.pa,k);this.ta(a.Paladin,"Paladin",this.pa,k);this.ta(a.Hunter,"Hunter",this.pa,k);this.ta(a.Rogue,"Rogue",
this.pa,k);this.ta(a.Priest,"Priest",this.pa,k);this.ta(a.DeathKnight,"DeathKnight",this.pa,k);this.ta(a.Shaman,"Shaman",this.pa,k);this.ta(a.Mage,"Mage",this.pa,k);this.ta(a.Warlock,"Warlock",this.pa,k);this.ta(a.Druid,"Druid",this.pa,k);this.ta(a.Elixirs,"Elixirs",this.pa,k);this.ta(a.BattleElixirs,"Battle Elixirs",this.pa,k);this.ta(a.GuardianElixirs,"Guardian Elixirs",this.pa,k);this.ta(a.Flasks,"Flasks",this.pa,k);this.ta(a.Food,"Food",this.pa,k);this.xe=i;this.content.style.display="block";
this.Fj.style.display="none"},ta:function(a,b,c,d){var f=new ye,g,h;g=j;var n={},p=document.createElement("div");f.qa.className="collapse_h bi_collapse_h";f.content.className="collapse_c bi_collapse_c";f.c.className="collapse bi_collapse";for(g=h=0;g<a.length;g++)n[a[g].name+a[g].i.wb()]=this.gh(a[g].t,a[g].i,k,a[g].name),h++;f.qa.innerHTML="<a clas='bi_bc_link' href='javascript:'>"+b+"</a><span class='bi_cb_count'>("+h+")</span>";g=new Me(n,p);g.Dd.className="input input_small bi_fcc_f";g.rn();a=
y(f.content,"div",{"class":"bi_fcc_parent",text:"Filter"});a.appendChild(g.Dd);f.content.appendChild(a);f.content.appendChild(p);Mb(f.content);d||f.collapse();h&&c.appendChild(f.c)},gh:function(a,b,c,d){c=x("div",{"class":"bi_buff_p"});y(c,"img",{src:"/images/icons/small/"+a+".png","class":"bi_buff"});a=y(c,"a",{href:"javascript:",text:18<d.length?d.substr(0,15)+"...":d});a.onmouseout=function(){m.hide()};a.onmousemove=function(){m.move()};a.ondblclick=ba(k);Eb(a,"mouseover",new r(function(){m.eb(b.ka())},
this),[]);J(a,"click",this.b.fire,this.b,["add_buff",{id:b.id}]);return c}};function ae(){this.c=x("div",{"class":"ov_p"});this.e=[]}
ae.prototype={c:j,ud:j,Bc:j,wd:j,vd:j,eh:j,Bh:j,e:[],update:function(a){var b,c,d,f=new r(function(b){b.is("stat_tooltip_show")?m.hk(a.cm(b.get("group"),b.get("index")),b.get("node")):b.is("stat_tooltip_hide")&&m.hide()},this);U(this.c);b=y(this.c,"div",{"class":"ov_header"});y(b,"span",{"class":"ov_name",text:a.name?a.name+",":""});y(b,"span",{"class":"ov_level",text:"Level "+a.f});0<a.mj()&&(y(b,"span",{"class":"ov_character_race",text:locale.CharacterRace[a.mj()]}),0<a.gc()&&(b=y(b,"span",{"class":"ov_character_class",
text:locale.CharacterClass[a.gc()]}),B(b,"character_class_"+a.gc()),5==a.gc()?B(b,"character_class_5_white_bg_fix"):4==a.gc()&&B(b,"character_class_4_white_bg_fix")));b=y(this.c,"div",{"class":"ov_gear_container"});y(b,"div",{"class":"ov_title",text:"Gear"});c=y(b,"div",{"class":"ov_items_p"});for(b=0;b<a.j.length;b++)d=y(c,"div",{"class":"ov_item_p row_bg"+(b%2+1)}),this.Ek(d,a,b);c=y(this.c,"div",{"class":"ov_stats_container"});y(c,"div",{"class":"ov_title",text:"Stats"});this.ma=[];for(b=0;b<locale.CS_StatGroups.length;b++){this.ma[b]=
new ye;6!=b&&this.ma[b].toggle();this.e[b]=[];for(d=0;d<locale.CS_Stats[b].length;d++){var g=new ze(b,d);g.b.q(new w(["stat_tooltip_show","stat_tooltip_hide"],f));this.e[b][d]=g;this.ma[b].content.appendChild(this.e[b][d].c)}this.ma[b].c.className="cs_st_p";this.ma[b].content.className="ov_st_c";d=y(this.ma[b].qa,"div",{"class":"stat_title_p"});y(d,"a",{"class":"stat_title",text:locale.CS_StatGroups[b],href:"javascript:"});c.appendChild(this.ma[b].c)}g_settings.profile.ProfileInfo&&0<g_settings.profile.ProfileInfo.ID&&
(this.Bc=y(this.c,"div",{"class":"ov_comments_p"}),y(this.Bc,"div",{"class":"ov_title",text:"Comments:"}),this.ud=y(this.Bc,"div",{"class":"ov_comments_c"}),this.wd=y(this.Bc,"div",{"class":"co_page"}),g_settings.userId&&(y(this.Bc,"div",{text:"Add a comment:","class":"co_add_note"}),this.vd=y(this.Bc,"form",{action:"javascript:"}),this.Bh=y(this.vd,"textarea",{"class":"textarea co_textarea"}),f=y(this.vd,"input",{type:"submit",value:"Post Comment"}),Xd(f),J(this.vd,"submit",this.Xk,this,[]),this.eh=
y(this.Bc,"div",{"class":"co_bar_loading"})),this.pf(1));this.ol(a.K.e,a.gc(),a.am());Sd(this.c);f=new Se;f.update(a);C(this.c,f.c)},nl:function(){U(this.ud);U(this.wd);y(this.ud,"div",{"class":"loading",text:"&nbsp;"})},pf:function(a){this.nl();fa("api/comments.php?page="+a+"&profile="+g_settings.profile.ProfileInfo.ID,new r(this.Mk,this),[])},Xk:function(){var a=ga(this.Bh);0==a.length||/^\s+$/.exec(a)?m.C("The comment is empty!"):5>a.length?m.C("The comment is too short!"):(this.vd.style.display=
"none",this.eh.style.display="block",da("api/comments.php",{content:a,profile:g_settings.profile.ProfileInfo.ID},new r(this.Yk,this),[]))},Yk:function(a){try{t(a),this.pf(1),this.Bh.value=""}catch(b){m.C(b)}this.vd.style.display="block";this.eh.style.display="none"},Mk:function(a){try{var b=t(a),c=b.comments,d=b.page,f=b.page_count;U(this.ud);var g=c.length;d==f&&(g-=1);if(0<g){for(a=0;a<g;a++){var h=y(this.ud,"div",{"class":"co_c row_bg"+(1+a%2)});y(h,"div",{"class":"co_header",text:c[a].UserName+
", <span class='co_time'>"+c[a].Created+"</span>"});y(h,"div",{"class":"co_content",text:c[a].Content})}U(this.wd);if(1<d){var n=y(this.wd,"a",{href:"javascript:;","class":"co_link_page",text:"\u00ab Newer"});Eb(n,"click",new r(function(){this.pf(d-1)},this),[])}y(this.wd,"span",{href:"javascript:;","class":"co_cur_page",text:d+" of "+f});if(d<f){var p=y(this.wd,"a",{href:"javascript:;","class":"co_link_page",text:"Older \u00bb"});Eb(p,"click",new r(function(){this.pf(d+1)},this),[])}}else h=y(this.ud,
"div",{"class":"co_none",text:"No comments!"})}catch(u){m.C(u)}},Ek:function(a,b,c){if(b=b.j[c]){y(a,"span",{"class":"ov_slot_name",text:locale.Slots[c]+":"});c=y(a,"div",{"class":"ov_item_info_p"});y(c,"img",{src:"/images/icons/small/"+b.t+".png","class":"ov_item_icon"});a=y(c,"a",{href:"javascript:","class":"ov_item_link item_quality_"+b.$,text:b.name});Vd(a,b.ka());for(var c=y(c,"div",{"class":"ov_gems_p"}),d=0;3>d;d++){var f=b.Hc(d);f!=j&&(a=y(c,"div",{"class":"ov_gem_p"}),y(a,"img",{src:"/images/icons/gem/"+
f.t+".png","class":"ov_gem_icon"}),a=y(a,"a",{href:"javascript:","class":"ov_gem_link item_quality_"+f.$,text:f.name}),Vd(a,f.ka()))}}else y(a,"span",{"class":"ov_slot_name",text:locale.Slots[c]+": Nothing equipped"})},ol:function(a,b,c){this.e[T][1].c.style.display=0<b&&0==(1<<b&90)?"block":"none";this.e[T][2].c.style.display=0<b&&(1==b||11==b&&5==c)?"block":"none";this.e[T][3].c.style.display=0<b&&(4==b||11==b&&1==c)?"block":"none";this.e[T][4].c.style.display=0<b&&3==b?"block":"none";this.e[T][5].c.style.display=
0<b&&6==b?"block":"none";for(b=0;b<this.e[T].length;b++)this.e[T][b].V(a.Za[b]);for(b=0;b<this.e[hd].length;b++)this.e[hd][b].V(a.attributes[b]);for(b=0;b<this.e[id].length;b++)this.e[id][b].V(a.Eb[b]);for(b=0;b<this.e[jd].length;b++)this.e[jd][b].V(a.i[b]);for(b=0;b<this.e[kd].length;b++)this.e[kd][b].V(a.ja[b]);for(b=0;b<this.e[ld].length;b++)this.e[ld][b].V(a.P[b]);for(b=0;b<this.e[md].length;b++)this.e[md][b].V(a.ha[b])}};function va(){this.c=x("div",{"class":"ts_node"});this.yd=x("div",{"class":"ts_dist"});this.b=new A;this.b.g("click",["row","col"]);this.b.g("reset",[])}var Te="wa,pa,hu,ro,pr,dk,sh,ma,wl,mo,dr".split(",");
va.prototype={c:j,b:j,links:j,Fd:j,ne:j,z:j,yd:j,tc:0,Tb:function(a,b){var c="?t="+Te[a-1]+b;v(this.yd,"<a target='_blank' class='ts_dist_link' href='"+ja()+c+"'>"+window.location.host+"/"+c+"</a>")},dn:function(a){a!=this.tc&&this.ic(a,this.ne)},reset:function(){this.ic(this.tc,this.ne)},ic:function(a,b){U(this.c);if(b==j)y(this.c,"div",{"class":"ts_error",text:"You have to select a class before you can learn talents!"});else{var c,d=b[0].length;this.Fd=new V(b.length,d+2);this.links=[];this.ne=
b;this.z=[];this.tc=a;this.Fd.c.className="ts_grid";for(var f=0;f<a;f++){this.links[f]=[];this.z[f]=[];y(this.Fd.cells[f][0],"div",{"class":"ts_tier",text:15*(f+1)});for(var g=0;g<d;g++){var h=b[f][g];c=y(this.Fd.cells[f][g+1],"div",{"class":"ts_talent_p"});var n=y(c,"div",{"class":"ts_talent"}),p=y(n,"div",{"class":"ts_icon_p"}),p=y(p,"img",{"class":"ts_icon",src:"/images/icons/g/half/"+h.re()+".png"});c=y(c,"a",{href:"javascript:;","class":"ts_talent_title_p"});y(c,"span",{text:h.getName(),"class":"ts_talent_title"});
J(c,"click",this.b.fire,this.b,["click",{row:f,col:g}]);J(c,"mouseover",function(a){m.show(a.ka())},window,[h]);J(c,"mouseout",m.hide,m,j);J(c,"mousemove",m.move,m,j);this.z[f][g]=[n,p,c];this.links[f][g]=c;h.de.selected&&this.select(f,g)}this.Fd.cells[f][d+1].className="ts_right_end"}C(v(this.c,this.Fd.c),this.yd)}},select:function(a,b){B(this.z[a][b][0],"ts_talent_active");this.z[a][b][1].src="/images/icons/half/"+this.ne[a][b].re()+".png";this.z[a][b][1].style.borderColor="#dcb531";this.z[a][b][2].style.color=
"#e0e0e0"},Pf:function(a,b){Rd(this.z[a][b][0],"ts_talent_active");this.z[a][b][1].src="/images/icons/g/half/"+this.ne[a][b].re()+".png";this.z[a][b][1].style.borderColor="";this.z[a][b][2].style.color=""},q:function(a){this.b.q(a)}};function Ue(a,b){this.T=b;this.name=a;this.c=document.createElement("div")}var Ve=[["gt","&gt;"],["ge","&ge;"],["lt","&lt;"],["le","&le;"],["eq","="]],We=[["wlike","is"]],Xe=[["eq","="]];
Ue.prototype={c:j,T:"",name:"",Zl:function(a){var b=j;switch(a){case Ye:b=new Be(We);b.c.style.display="none";break;case Ze:b=new Be(Xe);b.c.style.display="none";break;case X:b=new Be(Ve);break;default:e(Error("Unable to create operator select for "+a+"!"))}b.c.className="fi_op_select";return b},Da:function(){e(new Vb("AbstractFilter","getArgumentString"))}};function $e(a,b){this.T=b;this.name=a}$e.prototype={T:"",name:"",show:i,qe:function(){e(new Vb("FilterData","getFilter"))}};function Z(a,b,c){$e.call(this,a,b);this.ij=c}var X=0,Ze=1,Ye=2;Z.prototype=new $e("","");Z.prototype.ij=X;Z.prototype.qe=function(a,b){return new af(this.name,this.T,a,b,this.ij)};function bf(a,b){$e.call(this,a,b)}bf.prototype=new $e("","");bf.prototype.qe=function(a,b){return new cf(this.name,this.T,b)};function df(a,b,c){$e.call(this,a,b);this.options=c}
df.prototype=new $e("","");df.prototype.options=j;df.prototype.qe=function(a,b){return new ef(this.name,this.T,b,this.options)};function ff(a,b,c){$e.call(this,a,b);this.options=c}ff.prototype=new $e("","");ff.prototype.options=j;ff.prototype.qe=function(a,b){return new gf(this.name,this.T,b,this.options)};function hf(){this.b=new A;this.b.g("set_argument_string",[]);this.b.g("create_filter",[]);this.wi()}
hf.prototype={data:{},hidden:{},b:j,Wd:{},Vd:{},hb:[],wi:function(){this.data={};this.hidden={};this.Wd={};this.xi()},xi:function(){this.Vd={};this.hb=[]},set:function(a,b){this.wi();this.data=a;for(var c in b)this.Wd[b[c]]=i},q:function(a){this.b.q(a)},Rj:function(a){var b,c;this.xi();for(b in this.Wd)this.Jg(b,j,j);for(;(c=/(^|;)([^;]+;)/.exec(a))!=j;)(b=/^(\w+)\.(\w+)\.([^;]+);/.exec(c[2]))&&this.Jg(b[1],b[2],b[3]),a=a.replace(c[0],c[1])},Oh:function(a){for(var b=0;b<this.hb.length;b++)if(this.hb[b]==
a){this.hb.splice(b,1);return}e(Error("Unable to remove filter "+a+"!"))},Da:function(){var a="",b;for(b in this.Vd)a+=this.Vd[b].Da();for(b=0;b<this.hb.length;b++)a+=this.hb[b].Da();return a},Jg:function(a,b,c){var d=this.data[a];d==j&&e(Error("Unable to find filter data for "+a+" (with "+b+" "+c+")!"));b=d.qe(b,c);this.Wd[a]?this.Vd[a]=b:this.hb.push(b);return b},Vl:function(a){this.Wd[a]&&e(Error("Unable to create custom filter for static filter variable: "+a+"!"));return this.Jg(a,j,j)},O:function(a,
b){b?this.hidden[a]=i:delete this.hidden[a]},nj:function(){var a={},b;for(b in this.data)this.Wd[this.data[b].T]||this.hidden[this.data[b].T]||(a[b]=this.data[b]);return a},oj:function(){var a=[],b;for(b in this.hb)this.hidden[this.hb[b].T]||a.push(this.hb[b]);return a},qj:function(){var a=[],b;for(b in this.Vd)this.hidden[b]||a.push(this.Vd[b]);return a}};function af(a,b,c,d,f){Ue.call(this,a,b);this.valueType=f;this.input=document.createElement("input");this.input.className="input fi_in";this.input.value=d!=j?d:this.valueType==X||this.valueType==Ze?"0":"";this.Ge=this.Zl(f);c!=j&&this.Ge.select(c);this.c.appendChild(this.Ge.c);this.c.appendChild(this.input);this.c.className="fi_p"}af.prototype=new Ue("","");l=af.prototype;l.Ge=j;l.input=j;l.valueType=X;
l.ea=function(){switch(this.valueType){case Ze:case X:var a=parseFloat(this.input.value);isNaN(a)&&(a="");return a;default:return this.input.value}};l.Da=function(){return this.T+"."+this.Ge.ea()+"."+this.ea()+";"};function cf(a,b,c){Ue.call(this,a,b);this.Hd=document.createElement("input");this.Hd.className="input fi_in_min";this.Hd.maxLength="5";this.Gd=document.createElement("input");this.Gd.className="input fi_in_max";this.Gd.maxLength="5";if(c!=j&&(a=/(\d*(?:\.\d+)?)-(\d*(?:\.\d+)?)/.exec(c)))this.Hd.value=a[1],this.Gd.value=a[2];this.c.appendChild(this.Hd);this.c.appendChild(document.createTextNode(" - "));this.c.appendChild(this.Gd);this.c.className="fi_p"}cf.prototype=new Ue("","");cf.prototype.Ge=j;
cf.prototype.Hd=j;cf.prototype.Gd=j;cf.prototype.Da=function(){var a=parseFloat(this.Hd.value),b=parseFloat(this.Gd.value);return this.T+".btw."+(isNaN(a)?"":""+a)+"-"+(isNaN(b)?"":""+b)+";"};function ef(a,b,c,d){Ue.call(this,a,b);this.select=Ie(d);c!=j&&this.select.select(c);this.c.appendChild(this.select.c)}ef.prototype=new Ue("","");ef.prototype.select=j;ef.prototype.Da=function(){return this.T+".eq."+this.select.ea()+";"};function gf(a,b,c,d){Ue.call(this,a,b);var a=[],b=0,f;for(f in d)a[b++]=[f,d[f]];this.select=new Je(a);c!=j&&this.select.select(c);this.c.className="fi_multi_select";this.c.appendChild(this.select.c)}gf.prototype=new Ue("","");gf.prototype.select=j;gf.prototype.Da=function(){return this.T+".ba."+this.select.ea()+";"};function jf(a,b,c,d){if(!a)return j;this.b=new A;this.b.g("update",["list"]);this.b.g("show_tooltip",["entity"]);this.b.g("click",["entity"]);this.b.g("move_tooltip",[]);this.b.g("hide_tooltip",[]);this.A=new hf;this.r=a;this.Rc=d;d=new w("search,next_page,prev_page,change_order,add_custom_filter,remove_custom_filter".split(","),new r(function(a){a.is("search")?this.update():a.is("next_page")?this.nextPage():a.is("prev_page")?this.Gm():a.is("change_order")?this.zg(a.get("order")):a.is("add_custom_filter")?
this.xl(a.get("variable"),a.get("customFilter")):a.is("remove_custom_filter")&&this.Oh(a.get("filter"))},this));a.q(d);a.ca("show_tooltip",this.b);a.ca("hide_tooltip",this.b);a.ca("move_tooltip",this.b);a.ca("click",this.b);this.A.set(b,c);this.set("","","",1)}var oa=1;function kf(a){var b=[],c;for(c in a)for(var d in a[c])b[a[c][d].T]=a[c][d];return b}function lf(a){var b={},c;for(c in a){b[c]=[];for(var d in a[c])b[c].push(a[c][d].T)}return b}
jf.prototype={b:j,page:1,Ed:0,A:j,r:j,Rc:"",Ld:0,q:function(a){this.b.q(a)},Tj:function(a){this.Ed=a;this.r.qi(this.page,this.Ed)},nextPage:function(){this.Ng(this.page+1);this.uf()},Gm:function(){this.Ng(this.page-1);this.uf()},Ng:function(a){if(!(0>a)){if(this.page<a){if(1>=this.Ed)return}else this.page>a&&this.Ed++;this.page=a;this.r.qi(this.page,this.Ed)}},update:function(){this.Ng(1);this.uf()},zg:function(a){this.Rc==a?this.Ld=0==this.Ld?oa:0:this.Rc=a;this.uf()},uf:function(){this.b.fire("update",
{list:this});this.r.la()},Da:function(){return this.A.Da()},set:function(a,b,c,d){this.page=d;this.r.qi(this.page,this.Ed);this.r.zg(this.Rc,this.Ld);this.A.Rj(a);this.r.ef(this.A.qj(),this.A.oj(),this.A.nj())},ef:function(){this.r.ef(this.A.qj(),this.A.oj(),this.A.nj())},xl:function(a,b){b.Sj(this.A.Vl(a))},Oh:function(a){this.A.Oh(a)},setData:function(a){this.r.zg(this.Rc,this.Ld);2>a.length?(this.r.Ve(j),this.Tj(0)):(this.Tj(Math.ceil(a[0][0]/a[0][1])),this.r.le(a))},Db:function(a,b){var c=this.A.Da(),
c=c.replace(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;"),"")+b;this.A.Rj(c);this.ef()}};function mf(a){if(!a)return j;this.b=new A;this.b.g("search",[]);this.b.g("remove_custom_filter",["customFilter"]);this.b.g("add_custom_filter",["variable","customFilter"]);this.b.g("next_page",[]);this.b.g("prev_page",[]);this.b.g("change_order",["order"]);this.b.g("hide_tooltip",[]);this.b.g("move_tooltip",[]);this.b.g("show_tooltip",["entity"]);this.b.g("click",["entity"]);this.Zg=a;this.c=document.createElement("div");this.c.className="li_p";this.Jb=new ye;this.Kb=document.createElement("div");
this.Kb.className="li_filter_p";this.c.appendChild(this.Kb);this.Jb.qa.className="li_fc_header";this.Jb.content.className="li_fc_content";this.Jb.qa.innerHTML="<a href='javascript:'>Filter</a>";this.Kb.appendChild(this.Jb.c);this.content=document.createElement("div");this.content.className="li_content";this.c.appendChild(this.content);this.form=document.createElement("form");this.form.action="javascript:";this.form.onsubmit="return false";this.Jb.content.appendChild(this.form);this.Of=document.createElement("div");
this.Cd=document.createElement("input");this.Cd.type="submit";this.Cd.value=locale.F_Search;Rb(this.Cd,{"default":"button button_light li_filter_search_btn",focus:"button_light_focus",hover:"button_light_hover"});J(this.form,"submit",this.b.fire,this.b,["search",{}]);this.nd=document.createElement("input");this.nd.type="button";this.nd.value=locale.F_AddFilter;Rb(this.nd,{"default":"button button_light li_filter_add_btn",focus:"button_light_focus",hover:"button_light_hover"});J(this.nd,"click",this.Gj,
this,[j]);this.yi();this.Ua=new V(1,3);this.Ua.c.width="100%";this.Ua.cols[0].width="33%";this.Ua.cols[1].width="34%";this.Ua.cols[2].width="33%";this.Bb=document.createElement("a");this.Bb.style.display="none";this.Bb.href="javascript:";Rb(this.Bb,{"default":"button button_light li_prev_page",focus:"button_light_focus",hover:"button_light_hover"});J(this.Bb,"click",this.b.fire,this.b,["prev_page",{}]);this.hg=document.createElement("div");this.hg.className="li_curr_page";this.Ab=document.createElement("a");
this.Ab.style.display="none";this.Ab.href="javascript:";Rb(this.Ab,{"default":"button button_light li_next_page",focus:"button_light_focus",hover:"button_light_hover"});J(this.Ab,"click",this.b.fire,this.b,["next_page",{}]);this.Ua.cells[0][0].appendChild(this.Bb);this.Ua.cells[0][1].appendChild(this.hg);this.Ua.cells[0][2].appendChild(this.Ab);this.Ua.c.className="li_page_p";this.c.appendChild(this.Ua.c)}
mf.prototype={b:j,Zg:{},c:j,content:j,Kb:j,Jb:j,Cd:j,form:j,Of:j,nd:j,Lb:j,Mc:j,Ua:j,hg:j,Ab:j,Bb:j,fj:j,ej:j,hh:j,setProperty:function(){e(new Vb("ListGui","setProperty"))},ef:function(a,b,c){this.yi();for(var d in a)this.Ee(a[d]);for(d in b)this.Gj(b[d]);this.fj=c},yi:function(){this.Lb=new V(0,2);this.Mc=new V(1,1);this.Mc.Cg($d);this.Lb.c.cellSpacing="2px";this.Lb.c.className="group_t2 li_filter_input_grid li_filter_grp";this.Lb.hide();this.Mc.cells[0][0].appendChild(this.Lb.c);var a=document.createElement("div");
a.className="group_t2 li_filter_grp";a.appendChild(this.Of);a.appendChild(this.nd);Nb(this.form);this.form.appendChild(this.Mc.c);this.form.appendChild(a);this.form.appendChild(this.Cd);Nb(this.Of)},q:function(a){this.b.q(a)},ca:function(a,b){this.b.ca(a,b)},Sg:function(a,b){for(;b+1>=this.Mc.cols.length;)this.Mc.wl();var c=document.createElement("div"),d=document.createElement("div");c.innerHTML=a.name;c.className="li_filter_lg_label";v(d,c);d.appendChild(a.c);d.className="group_t2 li_filter_grp li_filter_select";
this.Mc.cells[0][b+1].appendChild(d)},sb:function(a,b){for(;b>=this.Lb.rows.length;)this.Lb.wc();var c=this.Lb.cells[b];c[0].innerHTML=a.name;c[0].className="li_filter_ig_label";v(c[1],a.c);c[1].className="li_filter_ig_input";this.Lb.show()},Ee:function(){e(new Vb("ListGui","newStaticFilter"))},Gj:function(a){var b=new nf(this);a!=j&&b.Sj(a);this.Of.appendChild(b.c)},la:function(){this.content.innerHTML="<div class='li_loading'>"+locale.L_Loading+"</div>";this.gj(i);this.Ua.c.style.display="none"},
gj:function(a){this.Cd.disabled=a?"disabled":""},Ve:function(a){a==j?this.content.innerHTML="<div class='il_nothing'>Nothing Found</div>":v(this.content,a);this.gj(k);this.Ab.disabled="";this.Bb.disabled=""},Eg:function(a){a?this.Jb.expand():this.Jb.collapse()},qi:function(a,b){1>=a&&0==b?this.Ua.c.style.Hn="none":(1<b?(this.Ab.innerHTML=locale.next+" &rsaquo;",this.Ab.style.display=""):this.Ab.style.display="none",1<a?(this.Bb.innerHTML="&lsaquo; "+locale.previous,this.Bb.style.display=""):this.Bb.style.display=
"none",this.hg.innerHTML="Page "+a,this.Ua.c.style.display="table")},show:function(a){this.c.style.display=a?"block":"none"},le:function(){e(new Vb("ListGui","deserialize"))},zg:function(a,b){this.hh=a;this.ej=b},jb:function(a,b){var c=document.createElement("a");c.innerHTML=a+(b==this.hh?0==this.ej?" \u25bc":" \u25b2":"");c.className="li_sort_link"+(b==this.hh?" li_sort_link_active":"");c.href="javascript:";J(c,"click",this.b.fire,this.b,["change_order",{order:b}]);return c}};function nf(a){this.Sc=a;a=new V(1,3);a.c.className="group_t3 fi_cf_table";var b=document.createElement("option");b.innerHTML="";b.value="";var c=document.createElement("a");c.className="remove fi_cf_remove";c.href="javascript:";this.c=document.createElement("div");this.select=document.createElement("select");this.select.className="single_select";this.Kb=document.createElement("div");this.select.appendChild(b);for(var d in this.Sc.Zg)this.Ok(d,this.Sc.Zg[d]);a.cells[0][0].appendChild(this.select);
a.cells[0][1].appendChild(this.Kb);a.cells[0][2].appendChild(c);this.c.appendChild(a.c);J(this.select,"change",this.Eh,this,[]);J(c,"click",this.zm,this,[])}
nf.prototype={c:j,select:j,Kb:j,filter:j,Sc:j,Eh:function(){var a=this.select.selectedIndex;if(0>=a||this.filter!=j)this.Sc.b.fire("remove_custom_filter",{filter:this.filter}),this.Kb.innerHTML="",this.filter=j;0<a&&this.Sc.b.fire("add_custom_filter",{variable:this.select.options[a].value,customFilter:this})},zm:function(){this.filter!=j&&this.Sc.b.fire("remove_custom_filter",{filter:this.filter});this.c.parentNode.removeChild(this.c)},Sj:function(a){this.filter=a;this.Kb.appendChild(a.c);for(var b=
this.select.options,c=0;c<this.select.options.length;c++)if(b[c].value==a.T){b[c].selected="selected";break}},Ok:function(a,b){for(var c=[],d=j,f=0;f<b.length;f++)d=this.Sc.fj[b[f]],d!=j&&c.push(d);if(0<c.length)if("none"==a)for(f=0;f<c.length;f++)this.si(c[f],this.select);else{d=document.createElement("optgroup");d.label=a;for(f=0;f<c.length;f++)this.si(c[f],d);this.select.appendChild(d)}},si:function(a,b){var c=document.createElement("option");c.innerHTML=a.name;c.value=a.T;b.appendChild(c)}};function Hd(a){this.Yi=a;this.bj=new r(this.Cl,this)}l=Hd.prototype;l.tg=j;l.Yi=j;l.bj=j;l.update=function(a){this.tg=this.Yi+"?"+F({a:a.Da(),o:a.Rc+"."+(a.Ld==oa?"asc":"desc")+";",p:a.page});Ka(this.tg,this.bj,[a,this.tg],k)};l.Cl=function(a,b,c){c==this.tg&&b.setData(a)};function Md(){this.ld=[];for(var a=0;19>a;a++)this.ld[a]=""}Md.prototype={ld:j,Db:function(a,b){for(var c=0;19>c;c++)this.ld[c]=this.ld[c].replace(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"),"")+b},Ke:function(a,b){var c=b.match(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"));c?this.Db(a,c.join("")):this.Db(a,"")},get:function(a){return this.ld[a]},set:function(a,b){this.ld[a]=b}};function na(){jf.call(this,new of(lf(pf)),kf(pf),["name","level","reqlvl","quality"],qf)}var pf={};pf[locale.F_General]=[new Z(locale.F_Name,"name",Ye),new bf(locale.F_ItemLevel,"level"),new ff(locale.F_Quality,"quality",Cb),new bf(locale.F_RequiredLevel,"reqlvl"),new df(locale.F_ItemClass,"class",{4:"Armor",3:"Gem",2:"Weapon"})];
pf[locale.F_Stats]=[new Z(locale.CS_Stats[1][0],"str",X),new Z(locale.CS_Stats[1][1],"agi",X),new Z(locale.CS_Stats[1][2],"sta",X),new Z(locale.CS_Stats[1][3],"int",X),new Z(locale.CS_Stats[1][4],"spi",X)];pf[locale.F_Ratings]=[new Z(locale.ItemStatNames[31],"hit",X),new Z(locale.ItemStatNames[32],"crit",X),new Z(locale.ItemStatNames[35],"res",X),new Z(locale.ItemStatNames[36],"haste",X),new Z(locale.ItemStatNames[49],"mast",X)];
pf[locale.F_Defense]=[new Z(locale.ItemStatNames[13],"dod",X),new Z(locale.ItemStatNames[14],"par",X),new Z(locale.ItemStatNames[15],"blo",X)];pf[locale.F_Melee]=[new Z(locale.ItemStatNames[38],"ap",X),new bf(locale.F_DPS,"dps"),new bf(locale.F_Speed,"delay")];pf[locale.F_Spell]=[new Z(locale.ItemStatNames[45],"sp",X)];pf[locale.F_Requirements]=[new df(locale.F_UsableBy,"usablebyclass",Ab),new Z(locale.F_CanBeUsedWithLevel,"canbeusedwithlvl",X),new df(locale.F_RequiresReputation,"reqrepu",Bb)];
pf[locale.F_Miscellaneous]=[new df(locale.F_SocketableGem,"issocketablegem",Bb),new Z(locale.F_GemReqItemLevel,"gemreqitemlvl",X)];var qf="level";na.prototype=new jf(j,j,j,"");na.prototype.fb=0;na.prototype.U=0;na.prototype.Mb=0;
function Gd(a,b,c,d){a.fb=b;a.U=c;a.Mb=d;var b=kf(pf),c=["name","level","reqlvl","quality"],d=k,f=j,g=k,h=k,n=j;switch(a.U){case 4:a.Mb&2048?f=rf(a,[11]):(d=i,f=rf(a,[0,1,2,3,4]));break;case 3:a.A.O("subclass",k);a.Mb&64?(a.A.O("subclass",i),f=rf(a,[6])):a.Mb&1024?(a.A.O("subclass",i),f=rf(a,[10])):f=rf(a,[0,1,2,3,4,5,7,8]);break;case 2:0==a.Mb?d=i:f=rf(a,j)}if(0!=(a.fb&6463488)||2==a.U)g=h=i;if(d||0!=a.fb){var n=[],p=-1,u=0,s;if(4==a.U)if(0==a.Mb)p&=Db[0]|Db[1]|Db[2]|Db[3]|Db[4];else{for(s=0;5>s;s++)a.Mb&
1<<s&&(u|=Db[s]);p&=u}else 2==a.U&&0==a.Mb&&(p&=6463488);a.fb=a.fb?a.fb&p:p;for(s=1;28>=s;s++)0!=(a.fb&1<<s)&&(n[s]=14==s?locale.F_ShieldHand:locale.a_slot[s]);n=new ff(locale.F_InventorySlot,"slot",n)}g?(c.push("dps"),a.A.O("delay",k)):a.A.O("dps",i);h?(c.push("delay"),a.A.O("delay",k)):a.A.O("delay",i);d||n?(c.push("slot"),b.slot=n,a.A.O("slot",k)):a.A.O("slot",i);f?(c.push("subclass"),b.subclass=f):a.A.O("subclass",i);a.A.set(b,c)}
function rf(a,b){var c={},d;if(b)for(d=0;d<b.length;d++)c[b[d]]=yb[a.U][1][b[d]];else for(d=0;32>d;d++)0!=(1<<d&a.Mb)&&(c[d]=yb[a.U][1][d]);return new ff(locale.F_ItemClass,"subclass",c)};function of(a){mf.call(this,a);this.jg=y(this.Jb.content,"div",{"class":"il_prop"});this.Kj=y(this.jg,"input",{type:"checkbox","class":"il_prop_check",checked:i});y(this.jg,"span",{text:"Use custom filters for all slots","class":"il_prop_note"})}of.prototype=new mf(j);l=of.prototype;l.ii="";l.zd=k;l.Kj=j;l.jg=j;l.setProperty=function(a,b){"showDpsAndDelay"==a?this.zd=b:"setStaticLink"==a?this.ii=b:e(Error("Unknown property "+a+" with value "+b+"!"))};
l.Ee=function(a){var b=a.T;"name"==b?this.sb(a,0):"level"==b?this.sb(a,1):"reqlvl"==b?this.sb(a,2):"dps"==b?this.sb(a,3):"delay"==b?this.sb(a,4):"quality"==b?this.Sg(a,0):"slot"==b?this.Sg(a,1):"subclass"==b?this.Sg(a,2):e(Error("Unknown static filter "+a.T+"!"))};
l.le=function(a){var b,c,d,f,g=0,h;f=new V(a.length,5+(this.zd?2:0));f.c.cellSpacing="0px";f.c.width="100%";f.c.className="li_content_t";f.rows[0].className="il_header";f.cols[0].width="24px";g++;f.cells[0][g++].appendChild(this.jb("Name","name"));this.zd&&(f.cells[0][g++].appendChild(this.jb("DpS","dps")),f.cells[0][g++].appendChild(this.jb("Spd","delay")));f.cells[0][g++].appendChild(this.jb("iLvl",qf));f.cells[0][g++].appendChild(this.jb("Slot","slot"));f.cells[0][g++].appendChild(this.jb("Type",
"itemclass"));for(b=0;b<g;b++)f.cells[0][b].className="il_header_cell";for(b=1;b<a.length;b++){g=0;c=new pa(a[b][0]);Rc(c);f.rows[b].className="il_row"+b%2;d=document.createElement("a");d.className="il_link item_quality_"+c.$;d.innerHTML=c.name;h="il_cell "+(0==b%2?"il_cell_bg0":"il_cell_bg1");J(d,"mouseover",this.b.fire,this.b,["show_tooltip",{entity:c}]);J(d,"mouseout",this.b.fire,this.b,["hide_tooltip",{}]);J(d,"mousemove",this.b.fire,this.b,["move_tooltip",{}]);J(d,"click",this.b.fire,this.b,
["click",{entity:c}]);if(this.ii){var n=d,p=this.ii,u=c.id,s=c.name,s=s.replace(/\'|\,|\?|!/g,"").replace(/(?:\s|\\|\:|\/|\&|-|<|>|\.)+/g,"-");n.href=L(p,u+"-"+s)}f.cells[b][g].className=h;f.cells[b][g++].innerHTML="<div style='background-image:url(/images/icons/small/"+c.t+".png)' class='il_icon' ></div>";f.cells[b][g].className=h+" il_link_p";f.cells[b][g].appendChild(d);0!=(c.Xd&8)&&(d=document.createElement("sup"),d.className="il_heroic",d.innerHTML="H",f.cells[b][g].appendChild(d));g++;this.zd&&
(f.cells[b][g].className=h+" li_"+(c.Yd&512?"un":"")+"imp_col",f.cells[b][g++].innerHTML=c.ib?Fb(c):"",f.cells[b][g].className=h+" li_"+(c.Yd&512?"un":"")+"imp_col",f.cells[b][g++].innerHTML=c.ib?Gb(c):"");f.cells[b][g].className=h+" li_imp_col";f.cells[b][g++].innerHTML=c.f;f.cells[b][g].className=h+(this.zd?" li_unimp_col":" li_imp_col");f.cells[b][g++].innerHTML=c.ra?locale.a_slot[c.ra]:"";f.cells[b][g].className=h+(this.zd?" li_unimp_col":" li_imp_col");f.cells[b][g++].innerHTML=c.Nb[0]}this.Ve(f.c)};function Jd(){jf.call(this,new sf(lf(tf)),kf(tf),["name"],uf)}var tf={};tf[locale.F_General]=[new Z(locale.F_Name,"name",Ye),new Z(locale.F_Description,"description",Ye)];var vf={},wf,xf;for(xf=0;xf<yb.length;xf++)for(wf=0;wf<yb[xf][1].length;wf++)vf[xf+"."+wf]=yb[xf][1][wf];var yf={},zf;for(zf=1;28>=zf;zf++)yf[zf]=14==zf?locale.F_ShieldHand:locale.a_slot[zf];
tf[locale.F_Enchant]=[,new df(locale.F_IsEnchant,"isenchant",Bb),new Z(locale.F_EnchantItemLevel,"enchantitemlevel",X),new Z(locale.F_EnchantCharacterLevel,"enchantchrlevel",X),new df(locale.F_ItemSubClass,"itemclasssubclasscombined",vf),new ff(locale.F_InventorySlot,"slot",yf)];var uf="id";Jd.prototype=new jf(j,j,j,"");function sf(a){mf.call(this,a)}sf.prototype=new mf(j);
sf.prototype.le=function(a){var b=0,c,d,f=new V(a.length,3);f.c.cellSpacing="0px";f.c.width="100%";f.c.className="li_content_t";f.rows[0].className="il_header";f.cols[0].width="24px";b++;f.cells[0][b++].appendChild(this.jb("Name","name"));f.cells[0][b++].appendChild(this.jb("Req. Level","enchantchrlevel"));for(c=0;c<b;c++)f.cells[0][c].className="il_header_cell";for(c=1;c<a.length;c++){var b=0,g=new z(a[c]);pc(g);f.rows[c].className="il_row"+c%2;d="il_cell "+(0==c%2?"il_cell_bg0":"il_cell_bg1");var h=
document.createElement("a");h.className="il_link";h.innerHTML=g.name;f.cells[c][b].className=d;f.cells[c][b++].innerHTML="<div style='background-image:url(/images/icons/small/"+g.t+".png)' class='il_icon' ></div>";f.cells[c][b].className=d;f.cells[c][b++].appendChild(h);for(var n="None",p=0;p<g.D.length;p++)if(g.D[p]&&53==g.D[p].fe&&g.D[p].Yc!=j){n=g.D[p].Yc.ob;break}f.cells[c][b].className=d;f.cells[c][b++].innerHTML=n;J(h,"mouseover",this.b.fire,this.b,["show_tooltip",{entity:g}]);J(h,"mouseout",
this.b.fire,this.b,["hide_tooltip",{}]);J(h,"mousemove",this.b.fire,this.b,["move_tooltip",{}]);J(h,"click",this.b.fire,this.b,["click",{entity:g}])}this.Ve(f.c)};sf.prototype.Ee=function(a){"name"==a.T?this.sb(a,0):e(Error("Unknown static filter "+a.T+"!"))};function Od(){var a=new Af(lf(Bf));jf.call(this,a,kf(Bf),["ismine"],Cf);this.b.g("delete",["profile_id","desc"]);this.r.b.ca("delete",this.b)}var Bf={};Bf.none=[new df(locale.F_MyProfiles,"ismine",Bb),new df(locale.F_ShowDeleted,"showdeleted",Bb),new Z(locale.F_CharacterLevel,"lvl",X)];var Cf="id";Od.prototype=new jf(j,j,j,"");function Af(a){mf.call(this,a);this.b.g("delete",["profile_id","desc"])}Af.prototype=new mf(j);Af.prototype.Ee=function(a){"ismine"==a.T&&this.sb(a,0)};
Af.prototype.le=function(a){var b,c,d,f=0,g;d=new V(1,4);d.c.cellSpacing="0px";d.c.width="100%";d.c.className="pl_content_t";d.rows[0].className="pl_header";d.cols[f].width="30px";f++;d.cols[f].width="28px";f++;d.cols[f].width="28px";f++;d.cols[f].width="874px";f++;for(b=0;b<f;b++)d.cells[0][b].className="pl_header_cell";for(b=1;b<a.length;b++){f=0;g="pl_cell "+(0==b%2?"pl_cell_bg0":"pl_cell_bg1");var h=d.Rg(),n=a[b][2]?a[b][2]:"Profile #"+a[b][0];d.cells[h][0].className=g+" pl_inline_header";c=y(d.cells[h][0],
"a",{href:ja()+a[b][8],"class":"pl_link",text:n});a[b][3]&&(c.onmouseout=function(){m.hide()},c.onmousemove=function(){m.move()},J(c,"mouseover",m.show,m,["<div class='pl_desc_tt'>"+a[b][3]+"</div>"]));d.cells[h][0].appendChild(c);y(d.cells[h][0],"span",{"class":"pl_ih_info",text:"&nbsp;Created: "+a[b][7]+"&nbsp;"});h=d.wc();d.cells[h][f].className=g+" pl_level_p";d.cells[h][f++].innerHTML=a[b][6];d.cells[h][f].className=g;d.cells[h][f++].innerHTML="<div style='background-image:url(/images/site/race_class/small/chr_race_"+
a[b][4]+".png)' class='pl_icon' ></div>";d.cells[h][f].className=g;d.cells[h][f++].innerHTML="<div style='background-image:url(/images/site/race_class/small/"+a[b][5]+".png)' class='pl_icon' ></div>";d.cells[h][f].className=g;g_settings.userId==a[b][1]&&(c=y(d.cells[h][f],"a",{"class":"close pl_delete_link",href:"javascript:;"}),J(c,"click",function(a,b){this.b.fire("delete",{profile_id:a,desc:b})},this,[a[b][0],n]))}this.Ve(d.c)};function Nd(){var a={};a[locale.F_General]=[new Z(locale.F_Name,"name",Ye),new bf(locale.F_ItemLevel,"level"),new bf(locale.F_RequiredLevel,"reqlvl")];a[locale.F_Requirements]=[new df(locale.F_UsableBy,"usablebyclass",Ab)];var b=new Df(lf(a));jf.call(this,b,kf(a),["name","level","reqlvl"],"level");this.b.g("itemset_click",["items"]);this.r.b.ca("itemset_click",this.b)}Nd.prototype=new jf(j,j,j,"");function Df(a){mf.call(this,a);this.b.g("itemset_click",["items"])}Df.prototype=new mf(j);Df.prototype.Ee=function(a){var b=a.T;"name"==b?this.sb(a,0):"level"==b?this.sb(a,1):"reqlvl"==b?this.sb(a,2):e(Error("Unknown static filter "+a.T+"!"))};
Df.prototype.le=function(a){var b,c,d,f,g;f=new V(a.length,4);f.c.cellSpacing="0px";f.c.width="100%";f.c.className="li_content_t";f.rows[0].className="il_header";f.cells[0][0].appendChild(this.jb("Name","name"));f.cells[0][2].appendChild(this.jb("iLvl","level"));f.cells[0][3].appendChild(this.jb("Req","reqlvl"));for(b=0;4>b;b++)f.cells[0][b].className="il_header_cell";for(b=1;b<a.length;b++){c=y(f.cells[b][0],"a",{href:"javascript:;",text:a[b][1],color:bb[a[b][6]],"class":"il_imp_col",title:"Click to equip all items"});
for(var h=[],n=0;n<a[b][8].length;n++)a[b][8][n]&&(g=new pa(a[b][8][n]),Rc(g),h.push(g),d=document.createElement("div"),d.className="il_icon sl_icon",d.style.backgroundImage="url(/images/icons/small/"+g.t+".png)",d.style.cssFloat="left",d.style.marginLeft="2px",d.style.marginTop="1px",J(d,"mouseover",this.b.fire,this.b,["show_tooltip",{entity:g}]),J(d,"mouseout",this.b.fire,this.b,["hide_tooltip",{}]),J(d,"mousemove",this.b.fire,this.b,["move_tooltip",{}]),J(d,"click",this.b.fire,this.b,["click",
{entity:g}]),f.cells[b][1].appendChild(d));J(c,"click",this.b.fire,this.b,["itemset_click",{items:h}]);f.cells[b][2].innerHTML=a[b][2]!=a[b][3]?a[b][2]+"-"+a[b][3]:a[b][2];f.cells[b][2].className="il_unimp_col";f.cells[b][3].innerHTML=a[b][4]!=a[b][5]?a[b][4]+"-"+a[b][5]:a[b][4];f.cells[b][3].className="il_unimp_col"}this.Ve(f.c)};window.CHARDEV_CORE_BUILD=58;
